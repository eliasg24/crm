{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operativo Anfitrion - Prospectos Madiautos</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="{% static 'css/operativo_anfitrion.css' %}" rel="stylesheet"/>

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="/bundles/bootstrap?v=QtxRrbVxHAK-b5ZowWqv6Wt7oUOJAggG80vl1X-EGBM1"></script>

    <script src="/bundles/timepicker?v=SNA17wI1rMl4CP8ayG1ydmEu0eLQfZiFCqPl0hXZpd01"></script>

    <script src="/bundles/sweet?v=ZMOC4FpxSbszBSzdHGvkc9O_scCReJoQ_PgxKeHWirk1"></script>

    <script src="https://use.fontawesome.com/877bbc2081.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>

    <link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">

    <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/export/bootstrap-table-export.min.js"></script>

    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/defer-url/bootstrap-table-defer-url.min.js"></script>

    

</head>
<body style="overflow-x: hidden;">
    {% include 'nav.html' %}
    
    <div class="body-content">
        

<input name="__RequestVerificationToken" type="hidden" value="08q8arMvD1gsPusg-gKWBO74UTRfBFwqHN59gFJm8SUKe2HlVqMMttCXRuNt651Pxul-cghss_9gLUe5qDx34kxhku4roN_APmikiaqNlNQ1" />    <!--container principal-->
    <div class="main-panel">
        <div class="main-content">
            <div class="content-wrapper">
                <div class="container-fluid">
                        <h4 style="margin:20px;">Ventas - Operativo Anfitrión</h4>
                        <div style="box-shadow:none;">
                            <div class="card-header border-0" style="background-color: #eee;">
                                <!--<p class="card-category">Recientes</p>-->
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="card-counter morado">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_primer_contacto}}
                                                    </span>
                                                    <a href="#tibias" style="color: #ffffff;"><span class="count-name">Primer Contacto</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card-counter morado">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_verificados}}
                                                    </span>
                                                    <a href="#calientes" style="color: #ffffff;"><span class="count-name">Verificacion</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card-counter morado">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_agendados}}
                                                    </span>
                                                    <a href="#historial" style="color: #ffffff;"><span class="count-name">Historial de Captura</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body border-0" style="background-color: #eee;">
                                <div class="widget-list" id="tibias">
                                    <div id="toolbar1">
                                        <div class="form-inline" role="form">
                                            <div class="form-group">
                                                <span>De: </span>
                                                <input name="desde_primer_contacto" id="desde_primer_contacto" class="form-control w70 rangos" type="date" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <span>a: </span>
                                                <input name="hasta_primer_contacto" id="hasta_primer_contacto" class="form-control w70 rangos" type="date" autocomplete="off">
                                            </div>
                                            <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_primer_contacto();">Buscar</button>
                                            <button id="rPC" class="btn btn-secondary">Recargar página</button>
                                        </div>
                                    </div>
                                        <table id="tablePrimerContacto"
                                               data-toolbar="#toolbar1"
                                               {% if user.groups.get|stringformat:"s" !=  "Anfitrión" %}
                                               data-show-export="true"
                                               {% endif %}
                                               data-toggle="table"
                                               data-height="800"
                                               data-sort-class="table-active"
                                               data-show-columns="true"
                                               data-filter-control="true"
                                               data-export-data-type="all"
                                               data-query-params="queryParams">
                                            <thead class="table100-head table100 ver3 morado">
                                                <tr>
                                                    <th data-field="Detalle"> Detalle </th>
                                                    <th data-field="FechaIngreso">
                                                        Fecha de Ingreso
                                                    </th>
                                                    <th data-field="Cliente">
                                                        Cliente
                                                    </th>
                                                    <th data-field="Telefono">
                                                        Telefono
                                                    </th>
                                                    <th data-field="OrigenIngreso">
                                                        Origen de Ingreso
                                                    </th>
                                                    <th data-field="Anfitrion">
                                                        Anfitrión Asignado
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">
                                                {% for lead in leads_primer_contacto %}
                                                <tr>
                                                    <td><a href="{% url 'dashboards:captura_reasignamiento' lead.pk %}">Detalle</td>
                                                    <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                    <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                    <td>{{lead.prospecto.celular}}</td>
                                                    <td>{{lead.origen_lead}}</td>
                                                    <td>{{lead.nombre_anfitrion}}</td>
                                                </tr>
                                                {% endfor %}
                                            
                                            </tbody>
                                            
                                        </table>
                                        <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                        display: inline-block;">
                                            <ul class="pagination">
                                                <li class="page-item disabled" id="button_retrasar_primer_contacto">
                                                    <button class="page-link" aria-label="" onclick="retrasar_paginas_primer_contacto();">‹</button>
                                                </li>
                                                <li id="page{{pages_primer_contacto}}_primer_contacto" class="page-item active">
                                                    <button class="page-link" aria-label="to page 1" id="button{{pages_primer_contacto}}_primer_contacto" onclick="cambiar_pagina_primer_contacto({{pages_primer_contacto}});">{{pages_primer_contacto}}</button>
                                                </li>
                                                <li id="page{{pages_primer_contacto|add:1}}_primer_contacto" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_primer_contacto|add:1}}_primer_contacto" onclick="cambiar_pagina_primer_contacto({{pages_primer_contacto|add:1}});">{{pages_primer_contacto|add:1}}</button>
                                                </li>
                                                <li id="page{{pages_primer_contacto|add:2}}_primer_contacto" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_primer_contacto|add:2}}_primer_contacto" onclick="cambiar_pagina_primer_contacto({{pages_primer_contacto|add:2}});">{{pages_primer_contacto|add:2}}</button>
                                                </li>
                                                <li id="page{{pages_primer_contacto|add:3}}_primer_contacto" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_primer_contacto|add:3}}_primer_contacto" onclick="cambiar_pagina_primer_contacto({{pages_primer_contacto|add:3}});">{{pages_primer_contacto|add:3}}</button>
                                                </li>
                                                <li id="page{{pages_primer_contacto|add:4}}_primer_contacto" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_primer_contacto|add:4}}_primer_contacto" onclick="cambiar_pagina_primer_contacto({{pages_primer_contacto|add:4}});">{{pages_primer_contacto|add:4}}</button>
                                                </li>
                                                <li id="not_page2_primer_contacto" class="page-item disabled">
                                                    <button id="not_button2_primer_contacto" class="page-link" aria-label="">...</button>
                                                </li>
                                                <li id="page{{cantidad_primer_contacto_pag}}_primer_contacto" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{cantidad_primer_contacto_pag}}_primer_contacto" onclick="cambiar_ultima_pagina_primer_contacto({{cantidad_primer_contacto_pag}});">{{cantidad_primer_contacto_pag}}</button>
                                                </li>
                                                <li class="page-item page-next" id="button_avanzar_primer_contacto">
                                                    <button class="page-link" aria-label="" onclick="avanzar_paginas_primer_contacto();">›</button>
                                                </li>
                                            </ul>
                                        </div>
                                </div>

                                <div class="widget-list" id="calientes">
                                    <div id="toolbar2">
                                        <div class="form-inline" role="form">
                                            <div class="form-group">
                                                <span>De: </span>
                                                <input name="desde_verificacion" id="desde_verificacion" class="form-control w70 rangos" type="date" autocomplete="off">
                                            </div>
                                            <div class="form-group">
                                                <span>a: </span>
                                                <input name="hasta_verificacion" id="hasta_verificacion" class="form-control w70 rangos" type="date" autocomplete="off">
                                            </div>
                                            <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_verificacion();">Buscar</button>
                                            <button id="rV" class="btn btn-secondary">Recargar página</button>
                                        </div>
                                    </div>
                                        <table id="tableVerificacion"
                                               data-toolbar="#toolbar2"
                                               {% if user.groups.get|stringformat:"s" !=  "Anfitrión" %}
                                               data-show-export="true"
                                               {% endif %}
                                               data-toggle="table"
                                               data-height="800"
                                               data-sort-class="table-active"
                                               data-sortable="true"
                                               data-show-columns="true"
                                               data-filter-control="true"
                                               data-export-data-type="all"
                                               data-query-params="exportVerificados"
                                               >
                                            <thead class="table100-head table100 ver3 morado">
                                                <tr>
                                                    <th data-field="FechaIngreso" data-sortable="true">
                                                        Fecha de Verificación
                                                    </th>
                                                    <th data-field="Hora" data-sortable="true">Hora</th>
                                                    <th data-field="Cliente" data-sortable="true">
                                                        Cliente
                                                    </th>
                                                    <th data-field="Responsable" data-sortable="true">
                                                        Responsable
                                                    </th>
                                                    <th data-field="Telefono" data-sortable="true">Telefono</th>
                                                    <th data-field="OrigenIngreso" data-sortable="true">
                                                        Origen de Ingreso
                                                    </th>
                                                    <th data-field="EstadoLlamada" data-sortable="true">
                                                        Estado de Llamada
                                                    </th>
                                                    <th data-field="Anfitrion" data-sortable="true">
                                                        Anfitrión
                                                    </th>
                                                    <th data-field="TipoSolicitud" data-sortable="true">
                                                        Tipo de Solicitud
                                                    </th>
                                                    <th data-field="Sala" data-sortable="true">
                                                        Sala
                                                    </th>
                                                    <th data-field="AsesorOriginal" data-sortable="true">
                                                        Asesor Original
                                                    </th>
                                                    <th data-field="Reasignado" data-sortable="true">
                                                        Reasignado a
                                                    </th>
                                                    <th data-field="Comentario" data-visible="false">
                                                        Comentario
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">

                                            {% for verificacion in verificaciones %}
                                                <tr>
                                                    <td>{{verificacion.fecha_hora_verificacion.date|date:'Y-m-d'}}</td>
                                                    <td>{{verificacion.fecha_hora_verificacion|time:'H:i'}}</td>
                                                    <td>{{verificacion.lead.prospecto.nombre}} {{verificacion.lead.prospecto.apellido_paterno}} {{verificacion.lead.prospecto.apellido_materno}}</td>
                                                    <td>{{verificacion.responsable}}</td>
                                                    <td>{{verificacion.lead.prospecto.celular}}</td>
                                                    <td>{{verificacion.lead.origen_lead}}</td>
                                                    <td>{{verificacion.estado_llamada}}</td>
                                                    <td>{{verificacion.lead.nombre_anfitrion}}</td>
                                                    <td>{{verificacion.tipo_solicitud}}</td>
                                                    <td>{{verificacion.lead.sala}}</td>
                                                    <td>{{verificacion.lead.prospecto.nombre_asesor}}</td>
                                                    <td>{% if lead.tipo_solicitud_verificacion == "Reasignado" %}{{verificacion.lead.nombre_asesor}}{% else %}N/A{% endif %}</td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                            
                                        </table>
                                        <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                        display: inline-block;">
                                            <ul class="pagination">
                                                <li class="page-item disabled" id="button_retrasar_verificacion">
                                                    <button class="page-link" aria-label="" onclick="retrasar_paginas_verificacion();">‹</button>
                                                </li>
                                                <li id="page{{pages_verificacion}}_verificacion" class="page-item active">
                                                    <button class="page-link" aria-label="to page 1" id="button{{pages_verificacion}}_verificacion" onclick="cambiar_pagina_verificacion({{pages_verificacion}});">{{pages_verificacion}}</button>
                                                </li>
                                                <li id="page{{pages_verificacion|add:1}}_verificacion" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_verificacion|add:1}}_verificacion" onclick="cambiar_pagina_verificacion({{pages_verificacion|add:1}});">{{pages_verificacion|add:1}}</button>
                                                </li>
                                                <li id="page{{pages_verificacion|add:2}}_verificacion" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_verificacion|add:2}}_verificacion" onclick="cambiar_pagina_verificacion({{pages_verificacion|add:2}});">{{pages_verificacion|add:2}}</button>
                                                </li>
                                                <li id="page{{pages_verificacion|add:3}}_verificacion" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_verificacion|add:3}}_verificacion" onclick="cambiar_pagina_verificacion({{pages_verificacion|add:3}});">{{pages_verificacion|add:3}}</button>
                                                </li>
                                                <li id="page{{pages_verificacion|add:4}}_verificacion" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_verificacion|add:4}}_verificacion" onclick="cambiar_pagina_verificacion({{pages_verificacion|add:4}});">{{pages_verificacion|add:4}}</button>
                                                </li>
                                                <li id="not_page2_verificacion" class="page-item disabled">
                                                    <button id="not_button2_verificacion" class="page-link" aria-label="">...</button>
                                                </li>
                                                <li id="page{{cantidad_verificacion_pag}}_verificacion" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{cantidad_verificacion_pag}}_verificacion" onclick="cambiar_ultima_pagina_verificacion({{cantidad_verificacion_pag}});">{{cantidad_verificacion_pag}}</button>
                                                </li>
                                                <li class="page-item page-next" id="button_avanzar_verificacion">
                                                    <button class="page-link" aria-label="" onclick="avanzar_paginas_verificacion();">›</button>
                                                </li>
                                            </ul>
                                        </div>
                                </div>

                                <div class="widget-list" id="historial">
                                    <div id="toolbar3">
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <select class="form-control form-control-sm" id="anfitrion_agendados" name="anfitrion_agendados"><option selected="selected" value="">-- Anfitrion --</option>
                                                    {% for nombre_anfitrion in anfitriones_agendados %}
                                                    <option value="{{nombre_anfitrion.nombre_anfitrion}}">{{nombre_anfitrion.nombre_anfitrion}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select id="verificado_agendados" name="verificado_agendados" class="form-control form-control-sm">
                                                    <option value="" selected>--Verificado--</option>
                                                    <option value="SI">SI</option>
                                                    <option value="NO">NO</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="tipo_solicitud_agendados" name="tipo_solicitud_agendados"><option selected="selected" value="">-- Tipo Solicitud --</option>
                                                    {% for tipo_solicitud_agendados in tipos_solicitud_agendados %}
                                                    <option value="{{tipo_solicitud_agendados.tipo_solicitud_agendados}}">{{tipo_solicitud_agendados.tipo_solicitud_agendados}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_agendados" name="asesor_agendados"><option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_agendados %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select id="sala_agendados" name="sala_agendados" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_agendados %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_agendados" id="desde_agendados" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_agendados" id="hasta_agendados" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_agendados();">Buscar</button>
                                                <button id="rH" type="button" class="btn btn-secondary">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="search_agendados" name="search_agendados">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarHistorial();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <table id="tableHistorial"
                                        {% if user.groups.get|stringformat:"s" !=  "Anfitrión" %}
                                        data-show-export="true"
                                        {% endif %}
                                       data-toolbar="#toolbar3"
                                       data-toggle="table"
                                       data-height="800"
                                       data-pagination="true"
                                       data-side-pagination="server"
                                       data-sort-class="table-active"
                                       data-sortable="true"
                                       data-show-columns="true"
                                       data-show-columns-search="true"
                                       data-filter-control="true">
                                    <thead class="table100-head table100 ver3 morado">
                                        <tr>
                                            <th data-field="Detalle">
                                                Detalle
                                            </th>
                                            <th data-field="FechaIngreso">
                                                Fecha de Ingreso
                                            </th>
                                            <th data-field="OrigenIngreso">
                                                Origen de Ingreso
                                            </th>
                                            <th data-field="Cliente">
                                                Cliente
                                            </th>
                                            <th data-field="Telefono">Telefono</th>
                                            <th data-field="Anfitrion">
                                                Anfitrión
                                            </th>
                                            <th data-field="Sala"> Sala </th>
                                            <th data-field="Asesor"> Asesor </th>
                                            <th data-field="Verificado">Verificado</th>
                                            <th data-field="TipoSolicitud">Tipo de Solicitud</th>
                                            <th data-field="AsesorReasignado">
                                                Asesor Reasignado
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color:white;">
                                        {% for lead in leads_agendados %}
                                        <tr>
                                            <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                            <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                            <td>{{lead.origen_lead}}</td>
                                            <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                            <td>{{lead.prospecto.celular}}</td>
                                            <td>{{lead.nombre_anfitrion}}</td>
                                            <td>{{lead.sala}}</td>
                                            <td>{{lead.prospecto.nombre_asesor}}</td>
                                            <td>{% if lead.estado_llamada_verificacion %}SI{% else %}NO{% endif %}</td>
                                            <td>{{lead.tipo_solicitud_verificacion}}</td>
                                            <td>{% if lead.tipo_solicitud_verificacion == "Reasignado" %}{{lead.nombre_asesor}}{% else %}N/A{% endif %}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                        display: inline-block;">
                                            <ul class="pagination">
                                                <li class="page-item disabled" id="button_retrasar_agendados">
                                                    <button class="page-link" aria-label="" onclick="retrasar_paginas_agendados();">‹</button>
                                                </li>
                                                <li id="page{{pages_agendados}}_agendados" class="page-item active">
                                                    <button class="page-link" aria-label="to page 1" id="button{{pages_agendados}}_agendados" onclick="cambiar_pagina_agendados({{pages_agendados}});">{{pages_agendados}}</button>
                                                </li>
                                                <li id="page{{pages_agendados|add:1}}_agendados" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_agendados|add:1}}_agendados" onclick="cambiar_pagina_agendados({{pages_agendados|add:1}});">{{pages_agendados|add:1}}</button>
                                                </li>
                                                <li id="page{{pages_agendados|add:2}}_agendados" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_agendados|add:2}}_agendados" onclick="cambiar_pagina_agendados({{pages_agendados|add:2}});">{{pages_agendados|add:2}}</button>
                                                </li>
                                                <li id="page{{pages_agendados|add:3}}_agendados" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_agendados|add:3}}_agendados" onclick="cambiar_pagina_agendados({{pages_agendados|add:3}});">{{pages_agendados|add:3}}</button>
                                                </li>
                                                <li id="page{{pages_agendados|add:4}}_agendados" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{pages_agendados|add:4}}_agendados" onclick="cambiar_pagina_agendados({{pages_agendados|add:4}});">{{pages_agendados|add:4}}</button>
                                                </li>
                                                <li id="not_page2_agendados" class="page-item disabled">
                                                    <button id="not_button2_agendados" class="page-link" aria-label="">...</button>
                                                </li>
                                                <li id="page{{cantidad_agendados_pag}}_agendados" class="page-item">
                                                    <button class="page-link" aria-label="" id="button{{cantidad_agendados_pag}}_agendados" onclick="cambiar_ultima_pagina_agendados({{cantidad_agendados_pag}});">{{cantidad_agendados_pag}}</button>
                                                </li>
                                                <li class="page-item page-next" id="button_avanzar_agendados">
                                                    <button class="page-link" aria-label="" onclick="avanzar_paginas_agendados();">›</button>
                                                </li>
                                            </ul>
                                        </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script>


        var if_filtrar_primer_contacto = false;
        var rango_pagina_primer_contacto = 1;
        var pagina_actual_primer_contacto = 1;
        var cantidad_primer_contacto_pag = {{cantidad_primer_contacto_pag}};
    
        function filtrar_informacion_primer_contacto(){
            var desde_primer_contacto = $("#desde_primer_contacto").val();
            var hasta_primer_contacto = $("#hasta_primer_contacto").val();
    
            data = {}
            data.if_filtrar_primer_contacto = if_filtrar_primer_contacto
            data.filtrar_primer_contacto = true
            data.desde_primer_contacto = desde_primer_contacto
            data.hasta_primer_contacto = hasta_primer_contacto
    
            console.log(data)
    
            $.ajax({
                type: "post", // "post" "get" "delete" "put"
                data: data, // PREFERIBLEMENTE JSON
                cache: false,
                headers: {
                  "X-CSRFToken": Cookies.get("csrftoken")
                },
                success: function (response) {
                    $('#tablePrimerContacto > tbody').empty();
    
                    $(response).each(function (index, lead) {
                        if(isNaN(lead)){
                            var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                            var fila=`<tr><td><a href="{% url 'dashboards:captura_reasignamiento' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                                fila+=`<td>` + fecha_apertura + `</td>`;
                                fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                                fila+=`<td>` + lead.prospecto__celular + `</td>`;
                                fila+=`<td>` + lead.origen_lead + `</td>`;
                                fila+=`<td>` + lead.nombre_anfitrion + `</td></tr>`;
                            $('#tablePrimerContacto > tbody').append(fila);
                        }
                        else {
                            if (lead >= 1 && lead <= 5){
                                $("#page" + cantidad_primer_contacto_pag + "_primer_contacto").hide()
                            }
                            else {
                                $("#page" + cantidad_primer_contacto_pag + "_primer_contacto").show()
                                $("#page" + cantidad_primer_contacto_pag + "_primer_contacto").attr("id","page" + lead + "_primer_contacto");
                                $("#page" + lead + "_primer_contacto").removeClass("active");
                                $("#button" + cantidad_primer_contacto_pag + "_primer_contacto").attr("onclick","cambiar_ultima_pagina_primer_contacto(" + lead + ");");
                                $("#button" + cantidad_primer_contacto_pag + "_primer_contacto").text(lead);
                                $("#button" + cantidad_primer_contacto_pag + "_primer_contacto").attr("id","button" + lead + "_primer_contacto");
                                cantidad_primer_contacto_pag = lead;
                            }
                        }
                    })
                    if_filtrar_primer_contacto = true;
                    if ($("#not_page1_primer_contacto").length > 0){
                        max_pag = (rango_pagina_primer_contacto * 5) + 1
                        min_pag = (rango_pagina_primer_contacto * 5) - 4
                        for (var i=min_pag; i < max_pag; i++){
                            console.log("max_pag_real")
                            console.log(max_pag)
                            console.log(min_pag)
                            remove_page = "#page" + i + "_primer_contacto"
                            $(remove_page).removeClass("active");
                        }
                        page = "#page1_primer_contacto"
                        button = "#button1_primer_contacto"
                        $(page).addClass("active");
                        $(button).attr("onclick","cambiar_pagina_primer_contacto(1);");
                        pagina_actual_primer_contacto = 1;
                        rango_pagina_primer_contacto = 1
                        new_max_pag = (rango_pagina_primer_contacto * 5) + 1
    
                        $("#button_avanzar_primer_contacto").removeClass("disabled");
                        $("#button_retrasar_primer_contacto").addClass("disabled");
                        for (var i=0; i < 7; i++){
                            pagina_anterior = max_pag - i - 1
                            pagina_posterior = new_max_pag - i + 1
                            if (i == 0) {
                                page = "#page" + pagina_anterior + "_primer_contacto"
                                button = "#button" + pagina_anterior + "_primer_contacto"
    
                                $(page).attr("id","page" + cantidad_primer_contacto_pag + "_primer_contacto");
                                $(button).attr("onclick","cambiar_ultima_pagina_primer_contacto(" + cantidad_primer_contacto_pag + ");");
                                $(button).text("" + cantidad_primer_contacto_pag + "");
                                $(button).attr("id","button" + cantidad_primer_contacto_pag + "_primer_contacto");
    
                            }
                            else if (i == 1) {
                                page = "#page" + pagina_anterior + "_primer_contacto"
                                button = "#button" + pagina_anterior + "_primer_contacto"
    
                                $(page).attr("id","not_page2_primer_contacto");
                                $(button).attr("onclick","");
                                $(button).text("...");
                                $(button).attr("id","not_button2_primer_contacto");
                                $("#not_page2_primer_contacto").addClass("disabled");
                            }
                            else if (i == 5) {
                                page = "#not_page1_primer_contacto"
                                button = "#not_button1_primer_contacto"
                        
                                $(page).attr("id","page2_primer_contacto");
                                $(button).attr("onclick","cambiar_pagina_primer_contacto(2);");
                                $(button).text("2");
                                $(button).attr("id","button2_primer_contacto");
                                $("#page2_primer_contacto").removeClass("disabled");
                            }
                            else {
                                page = "#page" + pagina_anterior + "_primer_contacto"
                                button = "#button" + pagina_anterior + "_primer_contacto"
                        
                                $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                                $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                                $(button).text(pagina_posterior);
                                $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
                                
                                if (pagina_posterior == pagina_actual_primer_contacto){
                                    $("#page" + pagina_posterior + "_primer_contacto").addClass("active");
                                }
                            }
                        }
    
                    }
                    else {
                        max_pag = (rango_pagina_primer_contacto * 5) + 1
                        min_pag = (rango_pagina_primer_contacto * 5) - 4
                        for (var i=min_pag; i < max_pag; i++){
                            remove_page = "#page" + i + "_primer_contacto"
                            $(remove_page).removeClass("active");
                        }
                        
                        pagina_actual_primer_contacto = 1;
    
                        rango_pagina_primer_contacto = 1
                        new_max_pag = (rango_pagina_primer_contacto * 5) + 1
    
                        $("#button_avanzar_primer_contacto").removeClass("disabled");
                        $("#button_retrasar_primer_contacto").addClass("disabled");
                        for (var i=1; i < 6; i++){
                            pagina_anterior = max_pag - i
                            pagina_posterior = new_max_pag - i
                            console.log("i")
                            console.log(i)
                            console.log("pagina_anterior")
                            console.log(pagina_anterior)
                            console.log("pagina_posterior")
                            console.log(pagina_posterior)
                            
                            if (i == 5) {
                                page = "#page" + pagina_anterior + "_primer_contacto"
                                button = "#button" + pagina_anterior + "_primer_contacto"
                        
                                $(page).attr("id","page1_primer_contacto");
                                $(button).attr("onclick","cambiar_pagina_primer_contacto(1);");
                                $(button).text("1");
                                $(button).attr("id","button1_primer_contacto");
                            }
                            else {
                                page = "#page" + pagina_anterior + "_primer_contacto"
                                button = "#button" + pagina_anterior + "_primer_contacto"
                        
                                $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                                $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                                $(button).text(pagina_posterior);
                                $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
                                
                                if (pagina_posterior == pagina_actual_primer_contacto){
                                    $("#page" + pagina_posterior + "_primer_contacto").addClass("active");
                                }
                            }
                        }
                        page = "#page1_primer_contacto"
                        $(page).addClass("active");
                    }
                }
              })
        }
    
    
    
    
        function retrasar_paginas_primer_contacto(){
            max_pag = Math.round((rango_pagina_primer_contacto * 5))
            max_pag_for = (rango_pagina_primer_contacto * 5) + 1
            min_pag = (rango_pagina_primer_contacto * 5) - 4
            for (var i=min_pag; i < max_pag_for; i++){
                remove_page = "#page" + i + "_primer_contacto"
                $(remove_page).removeClass("active");
    
            }
    
            for (var i=0; i < 5; i++){
                pagina_anterior = max_pag - i
                pagina_posterior = pagina_anterior - 5
                page = "#page" + pagina_anterior + "_primer_contacto"
                button = "#button" + pagina_anterior + "_primer_contacto"
    
                console.log(pagina_anterior)
                console.log(pagina_posterior)
                console.log(page)
    
                $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                $(button).text(pagina_posterior);
                $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
    
                if (pagina_posterior == pagina_actual_primer_contacto){
                    $("#page" + pagina_posterior + "_primer_contacto").addClass("active");
                }
                
            }
            rango_pagina_primer_contacto = parseFloat((rango_pagina_primer_contacto - 1).toFixed(2));
            if (rango_pagina_primer_contacto == 1){
                $("#button_retrasar_primer_contacto").addClass("disabled");
            }
            else if ($("#not_page1_primer_contacto").length > 0 && rango_pagina_primer_contacto >= 1 && rango_pagina_primer_contacto < 3) {
                $("#button_retrasar_primer_contacto").addClass("disabled");
            }
            else if (rango_pagina_primer_contacto == Math.round(((cantidad_primer_contacto_pag) / 5))){
                $("#button_avanzar_primer_contacto").addClass("disabled");
            }
            else if (rango_pagina_primer_contacto == (cantidad_primer_contacto_pag) / 5){
                $("#button_avanzar_primer_contacto").addClass("disabled");
            }
            else {
                $("#button_retrasar_primer_contacto").removeClass("disabled");
                $("#button_avanzar_primer_contacto").removeClass("disabled");
            }
        }
    
        function avanzar_paginas_primer_contacto(){
            max_pag = Math.round((rango_pagina_primer_contacto * 5))
            max_pag_for = (rango_pagina_primer_contacto * 5) + 1
            min_pag = (rango_pagina_primer_contacto * 5) - 4
            for (var i=min_pag; i < max_pag_for; i++){
                remove_page = "#page" + i + "_primer_contacto"
                $(remove_page).removeClass("active");
    
            }
    
            for (var i=0; i < 5; i++){
                pagina_anterior = max_pag - i
                pagina_posterior = pagina_anterior + 5
                page = "#page" + pagina_anterior + "_primer_contacto"
                button = "#button" + pagina_anterior + "_primer_contacto"
    
                console.log(pagina_anterior)
                console.log(pagina_posterior)
                console.log(page)
    
                $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                $(button).text(pagina_posterior);
                $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
    
                if (pagina_posterior == pagina_actual_primer_contacto){
                    $("#page" + pagina_posterior + "_primer_contacto").addClass("active");
                }
    
                
            }
            rango_pagina_primer_contacto = parseFloat((rango_pagina_primer_contacto + 1).toFixed(2));
            if (rango_pagina_primer_contacto == 1){
                $("#button_retrasar_primer_contacto").addClass("disabled");
            }
            else if ($("#not_page1_primer_contacto").length > 0 && rango_pagina_primer_contacto >= 1 && rango_pagina_primer_contacto < 3) {
                $("#button_retrasar_primer_contacto").addClass("disabled");
            }
            else if (rango_pagina_primer_contacto == Math.round(((cantidad_primer_contacto_pag) / 5))){
                $("#button_avanzar_primer_contacto").addClass("disabled");
            }
            else if (rango_pagina_primer_contacto == (cantidad_primer_contacto_pag) / 5){
                $("#button_avanzar_primer_contacto").addClass("disabled");
            }
            else {
                console.log("entra skkererjekrje")
                $("#button_retrasar_primer_contacto").removeClass("disabled");
                $("#button_avanzar_primer_contacto").removeClass("disabled");
            }
    
        }
    
        function cambiar_pagina_primer_contacto(pagina){
    
            var desde_primer_contacto = $("#desde_primer_contacto").val();
            var hasta_primer_contacto = $("#hasta_primer_contacto").val();
    
            data = {}
            data.if_filtrar_primer_contacto = if_filtrar_primer_contacto
            data.pages_primer_contacto = pagina
            data.desde_primer_contacto = desde_primer_contacto
            data.hasta_primer_contacto = hasta_primer_contacto
            console.log("hola")
            console.log(data)
            $.ajax({
                type: "post", // "post" "get" "delete" "put"
                data: data, // PREFERIBLEMENTE JSON
                cache: false,
                headers: {
                  "X-CSRFToken": Cookies.get("csrftoken")
                },
                success: function (response) {
                    console.log("response")
                    console.log(response)
                    $('#tablePrimerContacto > tbody').empty();
                    max_pag = (rango_pagina_primer_contacto * 5) + 1
                    min_pag = (rango_pagina_primer_contacto * 5) - 4
                    $(response).each(function (index, lead) {
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:captura_reasignamiento' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.nombre_anfitrion + `</td></tr>`;
                        $('#tablePrimerContacto > tbody').append(fila);
                    })
                    page = "#page" + pagina + "_primer_contacto"
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_primer_contacto"
                        console.log("remove_page")
                        console.log(remove_page)
                        $(remove_page).removeClass("active");
    
                    }
                    $(page).addClass("active");
                    pagina_actual_primer_contacto = pagina;
                  }
              })
        }
    
        function cambiar_ultima_pagina_primer_contacto(pagina){
    
            var desde_primer_contacto = $("#desde_primer_contacto").val();
            var hasta_primer_contacto = $("#hasta_primer_contacto").val();
    
            data = {}
            data.if_filtrar_primer_contacto = if_filtrar_primer_contacto
            data.pages_primer_contacto = pagina
            data.desde_primer_contacto = desde_primer_contacto
            data.hasta_primer_contacto = hasta_primer_contacto
            console.log("hola")
            console.log(data)
            $.ajax({
                type: "post", // "post" "get" "delete" "put"
                data: data, // PREFERIBLEMENTE JSON
                cache: false,
                headers: {
                  "X-CSRFToken": Cookies.get("csrftoken")
                },
                success: function (response) {
                    $('#tablePrimerContacto > tbody').empty();
                    max_pag = (rango_pagina_primer_contacto * 5) + 1
                    min_pag = (rango_pagina_primer_contacto * 5) - 4
                    $(response).each(function (index, lead) {
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:captura_reasignamiento' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.nombre_anfitrion + `</td></tr>`;
                        $('#tablePrimerContacto > tbody').append(fila);
                    })
                    page = "#page" + pagina + "_primer_contacto"
                    button = "#button" + pagina + "_primer_contacto"
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_primer_contacto"
                        $(remove_page).removeClass("active");
    
                    }
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina + ");");
                    pagina_actual_primer_contacto = pagina;
    
                    rango_pagina_primer_contacto = (cantidad_primer_contacto_pag) / 5
                    new_max_pag = (rango_pagina_primer_contacto * 5) + 1
                    $("#button_retrasar_primer_contacto").removeClass("disabled");
                    $("#button_avanzar_primer_contacto").addClass("disabled");
                    for (var i=0; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i - 2
                        if (i == 0) {
                            page = "#not_page2_primer_contacto"
                            button = "#not_button2_primer_contacto"
    
                            $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                            $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
                            $("#page" + pagina_posterior + "_primer_contacto").removeClass("disabled");
                        }
                        else if (i == 4) {
                            page = "#page" + pagina_anterior + "_primer_contacto"
                            button = "#button" + pagina_anterior + "_primer_contacto"
                    
                            $(page).attr("id","not_page1_primer_contacto");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button1_primer_contacto");
                            $("#not_page1_primer_contacto").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#page" + pagina_anterior + "_primer_contacto"
                            button = "#button" + pagina_anterior + "_primer_contacto"
                    
                            $(page).attr("id","page1_primer_contacto");
                            $(button).attr("onclick","cambiar_primera_pagina_primer_contacto(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_primer_contacto");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_primer_contacto"
                            button = "#button" + pagina_anterior + "_primer_contacto"
                    
                            $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                            $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
                            
                            if (pagina_posterior == pagina_actual_primer_contacto){
                                $("#page" + pagina_posterior + "_primer_contacto").addClass("active");
                            }
                        }
                    }
                    if (rango_pagina_primer_contacto == 1){
                        $("#button_retrasar_primer_contacto").addClass("disabled");
                    }
                    else if ($("#not_page1_primer_contacto").length > 0 && rango_pagina_primer_contacto >= 1 && rango_pagina_primer_contacto < 3) {
                        $("#button_retrasar_primer_contacto").addClass("disabled");
                    }
                    else if (rango_pagina_primer_contacto == Math.round(((cantidad_primer_contacto_pag) / 5))){
                        $("#button_avanzar_primer_contacto").addClass("disabled");
                    }
                    else if (rango_pagina_primer_contacto == (cantidad_primer_contacto_pag) / 5){
                        $("#button_avanzar_primer_contacto").addClass("disabled");
                    }
                    else {
                        $("#button_retrasar_primer_contacto").removeClass("disabled");
                        $("#button_avanzar_primer_contacto").removeClass("disabled");
                    }
                  }
              })
    
        }
    
        function cambiar_primera_pagina_primer_contacto(pagina){
            var desde_primer_contacto = $("#desde_primer_contacto").val();
            var hasta_primer_contacto = $("#hasta_primer_contacto").val();
    
            data = {}
            data.if_filtrar_primer_contacto = if_filtrar_primer_contacto
            data.pages_primer_contacto = pagina
            data.desde_primer_contacto = desde_primer_contacto
            data.hasta_primer_contacto = hasta_primer_contacto
            console.log("hola")
            console.log(data)
            $.ajax({
                type: "post", // "post" "get" "delete" "put"
                data: data, // PREFERIBLEMENTE JSON
                cache: false,
                headers: {
                  "X-CSRFToken": Cookies.get("csrftoken")
                },
                success: function (response) {
                    $('#tablePrimerContacto > tbody').empty();
                    max_pag = (rango_pagina_primer_contacto * 5) + 1
                    min_pag = (rango_pagina_primer_contacto * 5) - 4
                    $(response).each(function (index, lead) {
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:captura_reasignamiento' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.nombre_anfitrion + `</td></tr>`;
                        $('#tablePrimerContacto > tbody').append(fila);
                    })
                    page = "#page" + pagina + "_primer_contacto"
                    button = "#button" + pagina + "_primer_contacto"
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_primer_contacto"
                        $(remove_page).removeClass("active");
    
                    }
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_primer_contacto(1);");
                    pagina_actual_primer_contacto = pagina;
    
                    rango_pagina_primer_contacto = 1
                    new_max_pag = (rango_pagina_primer_contacto * 5) + 1
                    $("#button_avanzar_primer_contacto").removeClass("disabled");
                    $("#button_retrasar_primer_contacto").addClass("disabled");
                    for (var i=0; i < 6; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_primer_contacto"
                            button = "#button" + pagina_anterior + "_primer_contacto"
    
                            $(page).attr("id","page" + cantidad_primer_contacto_pag + "_primer_contacto");
                            $(button).attr("onclick","cambiar_ultima_pagina_primer_contacto(" + cantidad_primer_contacto_pag + ");");
                            $(button).text("" + cantidad_primer_contacto_pag + "");
                            $(button).attr("id","button" + cantidad_primer_contacto_pag + "_primer_contacto");
                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_primer_contacto"
                            button = "#button" + pagina_anterior + "_primer_contacto"
    
                            $(page).attr("id","not_page2_primer_contacto");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_primer_contacto");
                            $("#not_page2_primer_contacto").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_primer_contacto"
                            button = "#not_button1_primer_contacto"
                    
                            $(page).attr("id","page2_primer_contacto");
                            $(button).attr("onclick","cambiar_pagina_primer_contacto(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_primer_contacto");
                            $("#page2_primer_contacto").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_primer_contacto"
                            button = "#button" + pagina_anterior + "_primer_contacto"
                    
                            $(page).attr("id","page" + pagina_posterior + "_primer_contacto");
                            $(button).attr("onclick","cambiar_pagina_primer_contacto(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_primer_contacto");
                            
                            if (pagina_posterior == pagina_actual_primer_contacto){
                                $("#page" + pagina_posterior + "_primer_contacto").addClass("active");
                            }
                        }
                    }
                  }
              })
    
        }



























    var if_filtrar_verificacion = false;
    var rango_pagina_verificacion = 1;
    var pagina_actual_verificacion = 1;
    var cantidad_verificacion_pag = {{cantidad_verificacion_pag}};

    function filtrar_informacion_verificacion(){

        var desde_verificacion = $("#desde_verificacion").val();
        var hasta_verificacion = $("#hasta_verificacion").val();

        data = {}
        data.if_filtrar_verificacion = if_filtrar_verificacion
        data.filtrar_verificacion = true
        data.desde_verificacion = desde_verificacion
        data.hasta_verificacion = hasta_verificacion

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },        
            success: function (response) {
                $('#tableVerificacion > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_hora_verificacion = lead.fecha_hora_verificacion.substr(0,4)+"-"+lead.fecha_hora_verificacion.substr(5,2)+"-"+lead.fecha_hora_verificacion.substr(8,2);
                        var fila=`<tr><td>` + fecha_hora_verificacion + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.lead__prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.responsable + `</td>`;
                        fila+=`<td>` + lead.lead__prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.lead__origen_lead + `</td>`;
                        fila+=`<td>` + lead.estado_llamada + `</td>`;
                        fila+=`<td>` + lead.lead__nombre_anfitrion + `</td>`;
                        fila+=`<td>` + lead.tipo_solicitud + `</td>`;
                        fila+=`<td>` + lead.lead__sala + `</td>`;
                        fila+=`<td>` + lead.lead__prospecto__nombre_asesor + `</td>`;
                        fila+=`<td>null</td>`;
                        $('#tableVerificacion > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_verificacion_pag + "_verificacion").hide()
                        }
                        else {
                            $("#page" + cantidad_verificacion_pag + "_verificacion").show()
                            $("#page" + cantidad_verificacion_pag + "_verificacion").attr("id","page" + lead + "_verificacion");
                            $("#page" + lead + "_verificacion").removeClass("active");
                            $("#button" + cantidad_verificacion_pag + "_verificacion").attr("onclick","cambiar_ultima_pagina_verificacion(" + lead + ");");
                            $("#button" + cantidad_verificacion_pag + "_verificacion").text(lead);
                            $("#button" + cantidad_verificacion_pag + "_verificacion").attr("id","button" + lead + "_verificacion");
                            cantidad_verificacion_pag = lead;
                        }
                    }
                })
                if_filtrar_verificacion = true;
                if ($("#not_page1_verificacion").length > 0){
                    max_pag = (rango_pagina_verificacion * 5) + 1
                    min_pag = (rango_pagina_verificacion * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_verificacion"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_verificacion"
                    button = "#button1_verificacion"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_verificacion(1);");
                    pagina_actual_verificacion = 1;
                    rango_pagina_verificacion = 1
                    new_max_pag = (rango_pagina_verificacion * 5) + 1

                    $("#button_avanzar_verificacion").removeClass("disabled");
                    $("#button_retrasar_verificacion").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_verificacion"
                            button = "#button" + pagina_anterior + "_verificacion"

                            $(page).attr("id","page" + cantidad_verificacion_pag + "_verificacion");
                            $(button).attr("onclick","cambiar_ultima_pagina_verificacion(" + cantidad_verificacion_pag + ");");
                            $(button).text("" + cantidad_verificacion_pag + "");
                            $(button).attr("id","button" + cantidad_verificacion_pag + "_verificacion");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_verificacion"
                            button = "#button" + pagina_anterior + "_verificacion"

                            $(page).attr("id","not_page2_verificacion");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_verificacion");
                            $("#not_page2_verificacion").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_verificacion"
                            button = "#not_button1_verificacion"
                    
                            $(page).attr("id","page2_verificacion");
                            $(button).attr("onclick","cambiar_pagina_verificacion(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_verificacion");
                            $("#page2_verificacion").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_verificacion"
                            button = "#button" + pagina_anterior + "_verificacion"
                    
                            $(page).attr("id","page" + pagina_posterior + "_verificacion");
                            $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_verificacion");
                            
                            if (pagina_posterior == pagina_actual_verificacion){
                                $("#page" + pagina_posterior + "_verificacion").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_verificacion * 5) + 1
                    min_pag = (rango_pagina_verificacion * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_verificacion"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_verificacion = 1;

                    rango_pagina_verificacion = 1
                    new_max_pag = (rango_pagina_verificacion * 5) + 1

                    $("#button_avanzar_verificacion").removeClass("disabled");
                    $("#button_retrasar_verificacion").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_verificacion"
                            button = "#button" + pagina_anterior + "_verificacion"
                    
                            $(page).attr("id","page1_verificacion");
                            $(button).attr("onclick","cambiar_pagina_verificacion(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_verificacion");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_verificacion"
                            button = "#button" + pagina_anterior + "_verificacion"
                    
                            $(page).attr("id","page" + pagina_posterior + "_verificacion");
                            $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_verificacion");
                            
                            if (pagina_posterior == pagina_actual_verificacion){
                                $("#page" + pagina_posterior + "_verificacion").addClass("active");
                            }
                        }
                    }
                    page = "#page1_verificacion"
                    $(page).addClass("active");
                }
            }
          })
    }

    function retrasar_paginas_verificacion(){
        max_pag = Math.round((rango_pagina_verificacion * 5))
        max_pag_for = (rango_pagina_verificacion * 5) + 1
        min_pag = (rango_pagina_verificacion * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_verificacion"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_verificacion"
            button = "#button" + pagina_anterior + "_verificacion"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_verificacion");
            $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_verificacion");

            if (pagina_posterior == pagina_actual_verificacion){
                $("#page" + pagina_posterior + "_verificacion").addClass("active");
            }
            
        }
        rango_pagina_verificacion = parseFloat((rango_pagina_verificacion - 1).toFixed(2));
        if (rango_pagina_verificacion == 1){
            $("#button_retrasar_verificacion").addClass("disabled");
        }
        else if ($("#not_page1_verificacion").length > 0 && rango_pagina_verificacion >= 1 && rango_pagina_verificacion < 3) {
            $("#button_retrasar_verificacion").addClass("disabled");
        }
        else if (rango_pagina_verificacion == Math.round(((cantidad_verificacion_pag) / 5))){
            $("#button_avanzar_verificacion").addClass("disabled");
        }
        else if (rango_pagina_verificacion == (cantidad_verificacion_pag) / 5){
            $("#button_avanzar_verificacion").addClass("disabled");
        }
        else {
            $("#button_retrasar_verificacion").removeClass("disabled");
            $("#button_avanzar_verificacion").removeClass("disabled");
        }
    }

    function avanzar_paginas_verificacion(){
        max_pag = Math.round((rango_pagina_verificacion * 5))
        max_pag_for = (rango_pagina_verificacion * 5) + 1
        min_pag = (rango_pagina_verificacion * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_verificacion"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_verificacion"
            button = "#button" + pagina_anterior + "_verificacion"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_verificacion");
            $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_verificacion");

            if (pagina_posterior == pagina_actual_verificacion){
                $("#page" + pagina_posterior + "_verificacion").addClass("active");
            }

            
        }
        rango_pagina_verificacion = parseFloat((rango_pagina_verificacion + 1).toFixed(2));
        if (rango_pagina_verificacion == 1){
            $("#button_retrasar_verificacion").addClass("disabled");
        }
        else if ($("#not_page1_verificacion").length > 0 && rango_pagina_verificacion >= 1 && rango_pagina_verificacion < 3) {
            $("#button_retrasar_verificacion").addClass("disabled");
        }
        else if (rango_pagina_verificacion == Math.round(((cantidad_verificacion_pag) / 5))){
            $("#button_avanzar_verificacion").addClass("disabled");
        }
        else if (rango_pagina_verificacion == (cantidad_verificacion_pag) / 5){
            $("#button_avanzar_verificacion").addClass("disabled");
        }
        else {
            $("#button_retrasar_verificacion").removeClass("disabled");
            $("#button_avanzar_verificacion").removeClass("disabled");
        }

    }

    function cambiar_pagina_verificacion(pagina){

        var desde_verificacion = $("#desde_verificacion").val();
        var hasta_verificacion = $("#hasta_verificacion").val();

        data = {}
        data.if_filtrar_verificacion = if_filtrar_verificacion
        data.pages_verificacion = pagina
        data.desde_verificacion = desde_verificacion
        data.hasta_verificacion = hasta_verificacion

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableVerificacion > tbody').empty();
                max_pag = (rango_pagina_verificacion * 5) + 1
                min_pag = (rango_pagina_verificacion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_hora_verificacion = lead.fecha_hora_verificacion.substr(0,4)+"-"+lead.fecha_hora_verificacion.substr(5,2)+"-"+lead.fecha_hora_verificacion.substr(8,2);
                    var fila=`<tr><td>` + fecha_hora_verificacion + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.lead__prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.responsable + `</td>`;
                    fila+=`<td>` + lead.lead__prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.lead__origen_lead + `</td>`;
                    fila+=`<td>` + lead.estado_llamada + `</td>`;
                    fila+=`<td>` + lead.lead__nombre_anfitrion + `</td>`;
                    fila+=`<td>` + lead.tipo_solicitud + `</td>`;
                    fila+=`<td>` + lead.lead__sala + `</td>`;
                    fila+=`<td>` + lead.lead__prospecto__nombre_asesor + `</td>`;
                    fila+=`<td>null</td>`;
                    $('#tableVerificacion > tbody').append(fila);
                })
                page = "#page" + pagina + "_verificacion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_verificacion"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_verificacion = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_verificacion(pagina){


        var desde_verificacion = $("#desde_verificacion").val();
        var hasta_verificacion = $("#hasta_verificacion").val();

        data = {}
        data.if_filtrar_verificacion = if_filtrar_verificacion
        data.pages_verificacion = pagina
        data.desde_verificacion = desde_verificacion
        data.hasta_verificacion = hasta_verificacion

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableVerificacion > tbody').empty();
                max_pag = (rango_pagina_verificacion * 5) + 1
                min_pag = (rango_pagina_verificacion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_hora_verificacion = lead.fecha_hora_verificacion.substr(0,4)+"-"+lead.fecha_hora_verificacion.substr(5,2)+"-"+lead.fecha_hora_verificacion.substr(8,2);
                    var fila=`<tr><td>` + fecha_hora_verificacion + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.lead__prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.responsable + `</td>`;
                    fila+=`<td>` + lead.lead__prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.lead__origen_lead + `</td>`;
                    fila+=`<td>` + lead.estado_llamada + `</td>`;
                    fila+=`<td>` + lead.lead__nombre_anfitrion + `</td>`;
                    fila+=`<td>` + lead.tipo_solicitud + `</td>`;
                    fila+=`<td>` + lead.lead__sala + `</td>`;
                    fila+=`<td>` + lead.lead__prospecto__nombre_asesor + `</td>`;
                    fila+=`<td>null</td>`;
                    $('#tableVerificacion > tbody').append(fila);
                })
                page = "#page" + pagina + "_verificacion"
                button = "#button" + pagina + "_verificacion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_verificacion"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina + ");");
                pagina_actual_verificacion = pagina;

                rango_pagina_verificacion = (cantidad_verificacion_pag) / 5
                new_max_pag = (rango_pagina_verificacion * 5) + 1
                $("#button_retrasar_verificacion").removeClass("disabled");
                $("#button_avanzar_verificacion").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_verificacion"
                        button = "#not_button2_verificacion"

                        $(page).attr("id","page" + pagina_posterior + "_verificacion");
                        $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_verificacion");
                        $("#page" + pagina_posterior + "_verificacion").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_verificacion"
                        button = "#button" + pagina_anterior + "_verificacion"
                
                        $(page).attr("id","not_page1_verificacion");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_verificacion");
                        $("#not_page1_verificacion").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_verificacion"
                        button = "#button" + pagina_anterior + "_verificacion"
                
                        $(page).attr("id","page1_verificacion");
                        $(button).attr("onclick","cambiar_primera_pagina_verificacion(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_verificacion");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_verificacion"
                        button = "#button" + pagina_anterior + "_verificacion"
                
                        $(page).attr("id","page" + pagina_posterior + "_verificacion");
                        $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_verificacion");
                        
                        if (pagina_posterior == pagina_actual_verificacion){
                            $("#page" + pagina_posterior + "_verificacion").addClass("active");
                        }
                    }
                }
                if (rango_pagina_verificacion == 1){
                    $("#button_retrasar_verificacion").addClass("disabled");
                }
                else if ($("#not_page1_verificacion").length > 0 && rango_pagina_verificacion >= 1 && rango_pagina_verificacion < 3) {
                    $("#button_retrasar_verificacion").addClass("disabled");
                }
                else if (rango_pagina_verificacion == Math.round(((cantidad_verificacion_pag) / 5))){
                    $("#button_avanzar_verificacion").addClass("disabled");
                }
                else if (rango_pagina_verificacion == (cantidad_verificacion_pag) / 5){
                    $("#button_avanzar_verificacion").addClass("disabled");
                }
                else {
                    $("#button_retrasar_verificacion").removeClass("disabled");
                    $("#button_avanzar_verificacion").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_verificacion(pagina){

        var desde_verificacion = $("#desde_verificacion").val();
        var hasta_verificacion = $("#hasta_verificacion").val();

        data = {}
        data.if_filtrar_verificacion = if_filtrar_verificacion
        data.pages_verificacion = pagina
        data.desde_verificacion = desde_verificacion
        data.hasta_verificacion = hasta_verificacion

        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableVerificacion > tbody').empty();
                max_pag = (rango_pagina_verificacion * 5) + 1
                min_pag = (rango_pagina_verificacion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_hora_verificacion = lead.fecha_hora_verificacion.substr(0,4)+"-"+lead.fecha_hora_verificacion.substr(5,2)+"-"+lead.fecha_hora_verificacion.substr(8,2);
                    var fila=`<tr><td>` + fecha_hora_verificacion + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.lead__prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.responsable + `</td>`;
                    fila+=`<td>` + lead.lead__prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.lead__origen_lead + `</td>`;
                    fila+=`<td>` + lead.estado_llamada + `</td>`;
                    fila+=`<td>` + lead.lead__nombre_anfitrion + `</td>`;
                    fila+=`<td>` + lead.tipo_solicitud + `</td>`;
                    fila+=`<td>` + lead.lead__sala + `</td>`;
                    fila+=`<td>` + lead.lead__prospecto__nombre_asesor + `</td>`;
                    fila+=`<td>null</td>`;
                    $('#tableVerificacion > tbody').append(fila);
                })
                page = "#page" + pagina + "_verificacion"
                button = "#button" + pagina + "_verificacion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_verificacion"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_verificacion(1);");
                pagina_actual_verificacion = pagina;

                rango_pagina_verificacion = 1
                new_max_pag = (rango_pagina_verificacion * 5) + 1
                console.log("max_pag")
                console.log(max_pag)
                console.log(new_max_pag)
                $("#button_avanzar_verificacion").removeClass("disabled");
                $("#button_retrasar_verificacion").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_verificacion"
                        button = "#button" + pagina_anterior + "_verificacion"

                        $(page).attr("id","page" + cantidad_verificacion_pag + "_verificacion");
                        $(button).attr("onclick","cambiar_ultima_pagina_verificacion(" + cantidad_verificacion_pag + ");");
                        $(button).text("" + cantidad_verificacion_pag + "");
                        $(button).attr("id","button" + cantidad_verificacion_pag + "_verificacion");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_verificacion"
                        button = "#button" + pagina_anterior + "_verificacion"

                        $(page).attr("id","not_page2_verificacion");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_verificacion");
                        $("#not_page2_verificacion").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_verificacion"
                        button = "#not_button1_verificacion"
                
                        $(page).attr("id","page2_verificacion");
                        $(button).attr("onclick","cambiar_pagina_verificacion(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_verificacion");
                        $("#page2_verificacion").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_verificacion"
                        button = "#button" + pagina_anterior + "_verificacion"

                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log(pagina_posterior)
                
                        $(page).attr("id","page" + pagina_posterior + "_verificacion");
                        $(button).attr("onclick","cambiar_pagina_verificacion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_verificacion");
                        
                        if (pagina_posterior == pagina_actual_verificacion){
                            $("#page" + pagina_posterior + "_verificacion").addClass("active");
                        }
                    }
                }
              }
          })

    }

























































    
    var if_filtrar_agendados = false;
    var rango_pagina_agendados = 1;
    var pagina_actual_agendados = 1;
    var cantidad_agendados_pag = {{cantidad_agendados_pag}};

    function filtrar_informacion_agendados(){

        var anfitrion_agendados = $("#anfitrion_agendados").val();
        var verificado_agendados = $("#verificado_agendados").val();
        var tipo_solicitud_agendados = $("#tipo_solicitud_agendados").val();
        var asesor_agendados = $("#asesor_agendados").val();
        var sala_agendados = $("#sala_agendados").val();
        var desde_agendados = $("#desde_agendados").val();
        var hasta_agendados = $("#hasta_agendados").val();
        var search_agendados = $("#search_agendados").val();

        data = {}
        data.if_filtrar_agendados = if_filtrar_agendados
        data.filtrar_agendados = true
        data.anfitrion_agendados = anfitrion_agendados
        data.verificado_agendados = verificado_agendados
        data.tipo_solicitud_agendados = tipo_solicitud_agendados
        data.asesor_agendados = asesor_agendados
        data.sala_agendados = sala_agendados
        data.desde_agendados = desde_agendados
        data.hasta_agendados = hasta_agendados
        data.search_agendados = search_agendados

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },        
            success: function (response) {
                $('#tableHistorial > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre_asesor + `</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>` + lead.tipo_solicitud_verificacion + `</td>`;
                            fila+=`<td>null</td></tr>`;
                        $('#tableHistorial > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_agendados_pag + "_agendados").hide()
                        }
                        else {
                            $("#page" + cantidad_agendados_pag + "_agendados").show()
                            $("#page" + cantidad_agendados_pag + "_agendados").attr("id","page" + lead + "_agendados");
                            $("#page" + lead + "_agendados").removeClass("active");
                            $("#button" + cantidad_agendados_pag + "_agendados").attr("onclick","cambiar_ultima_pagina_agendados(" + lead + ");");
                            $("#button" + cantidad_agendados_pag + "_agendados").text(lead);
                            $("#button" + cantidad_agendados_pag + "_agendados").attr("id","button" + lead + "_agendados");
                            cantidad_agendados_pag = lead;
                        }
                    }
                })
                if_filtrar_agendados = true;
                if ($("#not_page1_agendados").length > 0){
                    max_pag = (rango_pagina_agendados * 5) + 1
                    min_pag = (rango_pagina_agendados * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_agendados"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_agendados"
                    button = "#button1_agendados"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_agendados(1);");
                    pagina_actual_agendados = 1;
                    rango_pagina_agendados = 1
                    new_max_pag = (rango_pagina_agendados * 5) + 1

                    $("#button_avanzar_agendados").removeClass("disabled");
                    $("#button_retrasar_agendados").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_agendados"
                            button = "#button" + pagina_anterior + "_agendados"

                            $(page).attr("id","page" + cantidad_agendados_pag + "_agendados");
                            $(button).attr("onclick","cambiar_ultima_pagina_agendados(" + cantidad_agendados_pag + ");");
                            $(button).text("" + cantidad_agendados_pag + "");
                            $(button).attr("id","button" + cantidad_agendados_pag + "_agendados");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_agendados"
                            button = "#button" + pagina_anterior + "_agendados"

                            $(page).attr("id","not_page2_agendados");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_agendados");
                            $("#not_page2_agendados").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_agendados"
                            button = "#not_button1_agendados"
                    
                            $(page).attr("id","page2_agendados");
                            $(button).attr("onclick","cambiar_pagina_agendados(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_agendados");
                            $("#page2_agendados").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_agendados"
                            button = "#button" + pagina_anterior + "_agendados"
                    
                            $(page).attr("id","page" + pagina_posterior + "_agendados");
                            $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_agendados");
                            
                            if (pagina_posterior == pagina_actual_agendados){
                                $("#page" + pagina_posterior + "_agendados").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_agendados * 5) + 1
                    min_pag = (rango_pagina_agendados * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_agendados"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_agendados = 1;

                    rango_pagina_agendados = 1
                    new_max_pag = (rango_pagina_agendados * 5) + 1

                    $("#button_avanzar_agendados").removeClass("disabled");
                    $("#button_retrasar_agendados").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_agendados"
                            button = "#button" + pagina_anterior + "_agendados"
                    
                            $(page).attr("id","page1_agendados");
                            $(button).attr("onclick","cambiar_pagina_agendados(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_agendados");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_agendados"
                            button = "#button" + pagina_anterior + "_agendados"
                    
                            $(page).attr("id","page" + pagina_posterior + "_agendados");
                            $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_agendados");
                            
                            if (pagina_posterior == pagina_actual_agendados){
                                $("#page" + pagina_posterior + "_agendados").addClass("active");
                            }
                        }
                    }
                    page = "#page1_agendados"
                    $(page).addClass("active");
                }
            }
          })
    }

    function retrasar_paginas_agendados(){
        max_pag = Math.round((rango_pagina_agendados * 5))
        max_pag_for = (rango_pagina_agendados * 5) + 1
        min_pag = (rango_pagina_agendados * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_agendados"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_agendados"
            button = "#button" + pagina_anterior + "_agendados"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_agendados");
            $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_agendados");

            if (pagina_posterior == pagina_actual_agendados){
                $("#page" + pagina_posterior + "_agendados").addClass("active");
            }
            
        }
        rango_pagina_agendados = parseFloat((rango_pagina_agendados - 1).toFixed(2));
        if (rango_pagina_agendados == 1){
            $("#button_retrasar_agendados").addClass("disabled");
        }
        else if ($("#not_page1_agendados").length > 0 && rango_pagina_agendados >= 1 && rango_pagina_agendados < 3) {
            $("#button_retrasar_agendados").addClass("disabled");
        }
        else if (rango_pagina_agendados == Math.round(((cantidad_agendados_pag) / 5))){
            $("#button_avanzar_agendados").addClass("disabled");
        }
        else if (rango_pagina_agendados == (cantidad_agendados_pag) / 5){
            $("#button_avanzar_agendados").addClass("disabled");
        }
        else {
            $("#button_retrasar_agendados").removeClass("disabled");
            $("#button_avanzar_agendados").removeClass("disabled");
        }
    }

    function avanzar_paginas_agendados(){
        max_pag = Math.round((rango_pagina_agendados * 5))
        max_pag_for = (rango_pagina_agendados * 5) + 1
        min_pag = (rango_pagina_agendados * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_agendados"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_agendados"
            button = "#button" + pagina_anterior + "_agendados"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_agendados");
            $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_agendados");

            if (pagina_posterior == pagina_actual_agendados){
                $("#page" + pagina_posterior + "_agendados").addClass("active");
            }

            
        }
        rango_pagina_agendados = parseFloat((rango_pagina_agendados + 1).toFixed(2));
        if (rango_pagina_agendados == 1){
            $("#button_retrasar_agendados").addClass("disabled");
        }
        else if ($("#not_page1_agendados").length > 0 && rango_pagina_agendados >= 1 && rango_pagina_agendados < 3) {
            $("#button_retrasar_agendados").addClass("disabled");
        }
        else if (rango_pagina_agendados == Math.round(((cantidad_agendados_pag) / 5))){
            $("#button_avanzar_agendados").addClass("disabled");
        }
        else if (rango_pagina_agendados == (cantidad_agendados_pag) / 5){
            $("#button_avanzar_agendados").addClass("disabled");
        }
        else {
            $("#button_retrasar_agendados").removeClass("disabled");
            $("#button_avanzar_agendados").removeClass("disabled");
        }

    }

    function cambiar_pagina_agendados(pagina){
        var anfitrion_agendados = $("#anfitrion_agendados").val();
        var verificado_agendados = $("#verificado_agendados").val();
        var tipo_solicitud_agendados = $("#tipo_solicitud_agendados").val();
        var asesor_agendados = $("#asesor_agendados").val();
        var sala_agendados = $("#sala_agendados").val();
        var desde_agendados = $("#desde_agendados").val();
        var hasta_agendados = $("#hasta_agendados").val();
        var search_agendados = $("#search_agendados").val();

        console.log("search_agendados")
        console.log(search_agendados)

        data = {}
        data.if_filtrar_agendados = if_filtrar_agendados
        data.pages_agendados = pagina
        data.anfitrion_agendados = anfitrion_agendados
        data.verificado_agendados = verificado_agendados
        data.tipo_solicitud_agendados = tipo_solicitud_agendados
        data.asesor_agendados = asesor_agendados
        data.sala_agendados = sala_agendados
        data.desde_agendados = desde_agendados
        data.hasta_agendados = hasta_agendados
        data.search_agendados = search_agendados

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableHistorial > tbody').empty();
                max_pag = (rango_pagina_agendados * 5) + 1
                min_pag = (rango_pagina_agendados * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre_asesor + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.tipo_solicitud_verificacion + `</td>`;
                        fila+=`<td>null</td></tr>`;
                    $('#tableHistorial > tbody').append(fila);
                })
                page = "#page" + pagina + "_agendados"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_agendados"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_agendados = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_agendados(pagina){

        var anfitrion_agendados = $("#anfitrion_agendados").val();
        var verificado_agendados = $("#verificado_agendados").val();
        var tipo_solicitud_agendados = $("#tipo_solicitud_agendados").val();
        var asesor_agendados = $("#asesor_agendados").val();
        var sala_agendados = $("#sala_agendados").val();
        var desde_agendados = $("#desde_agendados").val();
        var hasta_agendados = $("#hasta_agendados").val();
        var search_agendados = $("#search_agendados").val();

        data = {}
        data.if_filtrar_agendados = if_filtrar_agendados
        data.pages_agendados = pagina
        data.anfitrion_agendados = anfitrion_agendados
        data.verificado_agendados = verificado_agendados
        data.tipo_solicitud_agendados = tipo_solicitud_agendados
        data.asesor_agendados = asesor_agendados
        data.sala_agendados = sala_agendados
        data.desde_agendados = desde_agendados
        data.hasta_agendados = hasta_agendados
        data.search_agendados = search_agendados

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableHistorial > tbody').empty();
                max_pag = (rango_pagina_agendados * 5) + 1
                min_pag = (rango_pagina_agendados * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre_asesor + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.tipo_solicitud_verificacion + `</td>`;
                        fila+=`<td>null</td></tr>`;
                    $('#tableHistorial > tbody').append(fila);
                })
                page = "#page" + pagina + "_agendados"
                button = "#button" + pagina + "_agendados"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_agendados"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_agendados(" + pagina + ");");
                pagina_actual_agendados = pagina;

                rango_pagina_agendados = (cantidad_agendados_pag) / 5
                new_max_pag = (rango_pagina_agendados * 5) + 1
                $("#button_retrasar_agendados").removeClass("disabled");
                $("#button_avanzar_agendados").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_agendados"
                        button = "#not_button2_agendados"

                        $(page).attr("id","page" + pagina_posterior + "_agendados");
                        $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_agendados");
                        $("#page" + pagina_posterior + "_agendados").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_agendados"
                        button = "#button" + pagina_anterior + "_agendados"
                
                        $(page).attr("id","not_page1_agendados");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_agendados");
                        $("#not_page1_agendados").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_agendados"
                        button = "#button" + pagina_anterior + "_agendados"
                
                        $(page).attr("id","page1_agendados");
                        $(button).attr("onclick","cambiar_primera_pagina_agendados(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_agendados");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_agendados"
                        button = "#button" + pagina_anterior + "_agendados"
                
                        $(page).attr("id","page" + pagina_posterior + "_agendados");
                        $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_agendados");
                        
                        if (pagina_posterior == pagina_actual_agendados){
                            $("#page" + pagina_posterior + "_agendados").addClass("active");
                        }
                    }
                }
                if (rango_pagina_agendados == 1){
                    $("#button_retrasar_agendados").addClass("disabled");
                }
                else if ($("#not_page1_agendados").length > 0 && rango_pagina_agendados >= 1 && rango_pagina_agendados < 3) {
                    $("#button_retrasar_agendados").addClass("disabled");
                }
                else if (rango_pagina_agendados == Math.round(((cantidad_agendados_pag) / 5))){
                    $("#button_avanzar_agendados").addClass("disabled");
                }
                else if (rango_pagina_agendados == (cantidad_agendados_pag) / 5){
                    $("#button_avanzar_agendados").addClass("disabled");
                }
                else {
                    $("#button_retrasar_agendados").removeClass("disabled");
                    $("#button_avanzar_agendados").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_agendados(pagina){

        var anfitrion_agendados = $("#anfitrion_agendados").val();
        var verificado_agendados = $("#verificado_agendados").val();
        var tipo_solicitud_agendados = $("#tipo_solicitud_agendados").val();
        var asesor_agendados = $("#asesor_agendados").val();
        var sala_agendados = $("#sala_agendados").val();
        var desde_agendados = $("#desde_agendados").val();
        var hasta_agendados = $("#hasta_agendados").val();
        var search_agendados = $("#search_agendados").val();

        data = {}
        data.if_filtrar_agendados = if_filtrar_agendados
        data.pages_agendados = pagina
        data.anfitrion_agendados = anfitrion_agendados
        data.verificado_agendados = verificado_agendados
        data.tipo_solicitud_agendados = tipo_solicitud_agendados
        data.asesor_agendados = asesor_agendados
        data.sala_agendados = sala_agendados
        data.desde_agendados = desde_agendados
        data.hasta_agendados = hasta_agendados
        data.search_agendados = search_agendados

        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableHistorial > tbody').empty();
                max_pag = (rango_pagina_agendados * 5) + 1
                min_pag = (rango_pagina_agendados * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre_asesor + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.tipo_solicitud_verificacion + `</td>`;
                        fila+=`<td>null</td></tr>`;
                    $('#tableHistorial > tbody').append(fila);
                })
                page = "#page" + pagina + "_agendados"
                button = "#button" + pagina + "_agendados"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_agendados"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_agendados(1);");
                pagina_actual_agendados = pagina;

                rango_pagina_agendados = 1
                new_max_pag = (rango_pagina_agendados * 5) + 1
                console.log("max_pag")
                console.log(max_pag)
                console.log(new_max_pag)
                $("#button_avanzar_agendados").removeClass("disabled");
                $("#button_retrasar_agendados").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_agendados"
                        button = "#button" + pagina_anterior + "_agendados"

                        $(page).attr("id","page" + cantidad_agendados_pag + "_agendados");
                        $(button).attr("onclick","cambiar_ultima_pagina_agendados(" + cantidad_agendados_pag + ");");
                        $(button).text("" + cantidad_agendados_pag + "");
                        $(button).attr("id","button" + cantidad_agendados_pag + "_agendados");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_agendados"
                        button = "#button" + pagina_anterior + "_agendados"

                        $(page).attr("id","not_page2_agendados");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_agendados");
                        $("#not_page2_agendados").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_agendados"
                        button = "#not_button1_agendados"
                
                        $(page).attr("id","page2_agendados");
                        $(button).attr("onclick","cambiar_pagina_agendados(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_agendados");
                        $("#page2_agendados").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_agendados"
                        button = "#button" + pagina_anterior + "_agendados"

                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log(pagina_posterior)
                
                        $(page).attr("id","page" + pagina_posterior + "_agendados");
                        $(button).attr("onclick","cambiar_pagina_agendados(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_agendados");
                        
                        if (pagina_posterior == pagina_actual_agendados){
                            $("#page" + pagina_posterior + "_agendados").addClass("active");
                        }
                    }
                }
              }
          })

    }
















































  
</script>

        <hr />
        <footer>
            <p>&copy; 2023 - Capital Network</p>
        </footer>
    </div>

    
    
    <script src="/bundles/jqueryval?v=hEGG8cMxk9p0ncdRUOJ-CnKN7NezhnPnWIvn6REucZo1"></script>


</body>
</html>
