{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operativo Asesor - Prospectos Madiautos</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="{% static 'css/style.css' %}" rel="stylesheet"/>

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="/bundles/bootstrap?v=QtxRrbVxHAK-b5ZowWqv6Wt7oUOJAggG80vl1X-EGBM1"></script>

    <script src="/bundles/timepicker?v=SNA17wI1rMl4CP8ayG1ydmEu0eLQfZiFCqPl0hXZpd01"></script>

    <script src="/bundles/sweet?v=ZMOC4FpxSbszBSzdHGvkc9O_scCReJoQ_PgxKeHWirk1"></script>

    <script src="https://use.fontawesome.com/877bbc2081.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>

    <link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">

    <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/export/bootstrap-table-export.min.js"></script>

    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/defer-url/bootstrap-table-defer-url.min.js"></script>

    

</head>
<body style="overflow-x: hidden;">
    {% include 'nav.html' %}
    
    <div class="body-content">
        

<input name="__RequestVerificationToken" type="hidden" value="SIychGvtco8K9jGl27-aMr0DCKJra85GMaTB-2NM8zpWHCMmmA8MhCvRRoLtUNoDs6UUQFIGncxJtD92WtmGEuYbbieaA4KESwY5TIHTM4Y1" />    <!--container principal-->
    <div class="main-panel">
        <div class="main-content">
            <div class="content-wrapper">
                <div class="container-fluid">
                    
                        <div id="tabs" style="box-shadow:none;">
                            <div class="card-header border-0" style="background-color: #eee;">
                                <!--<p class="card-category">Recientes</p>-->
                                <div class="row">
                                    <div class="col">
                                        <div class="card-counter danger">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        {{cantidad_no_contactado}}
                                                    </span>
                                                    <a href="#ContactoAsesor" style="color: #ffffff;"><span class="count-name">No contactado</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter bg-primary">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers" style="color:#ffffff";>
                                                        {{cantidad_interaccion}}
                                                    </span>
                                                    <a href="#azulado" style="color: #ffffff;"><span class="count-name">Interacci√≥n</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter bg-warning">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_oportunidad}}
                                                    </span>
                                                    <a href="#tibias" style="color: #ffffff;"><span class="count-name">Oportunidad</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="card-counter success">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        

                                                        
                                                        {{cantidad_pedido}}
                                                    </span>
                                                    <a href="#calientes" style="color: #ffffff;"><span class="count-name">Pedido</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body border-0" style="background-color: #eee;">
                                <div class="widget-list" id="ContactoAsesor">
                                    <div id="toolbar1">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_no_contactado" name="origen_lead_no_contactado">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_no_contactado %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_no_contactado" name="respuesta_no_contactado">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_no_contactado %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_no_contactado" name="estado_no_contactado">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_no_contactado %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_no_contactado" name="asesor_no_contactado">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_no_contactado %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_no_contactado" name="sala_no_contactado" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_no_contactado %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_no_contactado" name="marca_no_contactado">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_no_contactado %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_no_contactado" name="modelo_no_contactado">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_no_contactado %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_no_contactado" id="desde_no_contactado" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_no_contactado" id="hasta_no_contactado" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_no_contactado();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar p√°gina</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="search_no_contactado" name="search_no_contactado">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick=""><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        
                                    </div>
                                    <table id="tableF"
                                            {% if user.username == "admin" %}
                                           data-show-export="true"
                                           {% endif %}    
                                           data-toolbar="#toolbar1"
                                           data-pagination="true"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-paging="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 danger">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Mar ca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_no_contactado %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_no_contactado">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_no_contactado();">‚Äπ</button>
                                            </li>
                                            <li id="page{{pages_no_contactado}}_no_contactado" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_no_contactado}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado}});">{{pages_no_contactado}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:1}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:1}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:1}});">{{pages_no_contactado|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:2}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:2}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:2}});">{{pages_no_contactado|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:3}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:3}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:3}});">{{pages_no_contactado|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_no_contactado|add:4}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_no_contactado|add:4}}_no_contactado" onclick="cambiar_pagina_no_contactado({{pages_no_contactado|add:4}});">{{pages_no_contactado|add:4}}</button>
                                            </li>
                                            <li id="not_page2_no_contactado" class="page-item disabled">
                                                <button id="not_button2_no_contactado" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_no_contactado_pag}}_no_contactado" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_no_contactado_pag}}_no_contactado" onclick="cambiar_ultima_pagina_no_contactado({{cantidad_no_contactado_pag}});">{{cantidad_no_contactado_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_no_contactado">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_no_contactado();">‚Ä∫</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="azulado">
                                    <div id="toolbar2">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_interaccion" name="origen_lead_interaccion">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_interaccion %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_interaccion" name="respuesta_interaccion">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_interaccion %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_interaccion" name="estado_interaccion">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_interaccion %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_interaccion" name="asesor_interaccion">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_interaccion %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_interaccion" name="sala_interaccion" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_interaccion %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_interaccion" name="marca_interaccion">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_interaccion %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_interaccion" name="modelo_interaccion">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_interaccion %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_interaccion" id="desde_interaccion" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_interaccion" id="hasta_interaccion" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_interaccion();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar p√°gina</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="search_interaccion" name="search_interaccion">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarContAsesor();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <table id="tableT"
                                    {% if user.username == "admin" %}
                                    data-show-export="true"
                                    {% endif %}   
                                           data-toolbar="#toolbar2"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 primary" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_interaccion %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_interaccion">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_interaccion();">‚Äπ</button>
                                            </li>
                                            <li id="page{{pages_interaccion}}_interaccion" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_interaccion}}_interaccion" onclick="cambiar_pagina_interaccion({{pages_interaccion}});">{{pages_interaccion}}</button>
                                            </li>
                                            <li id="page{{pages_interaccion|add:1}}_interaccion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_interaccion|add:1}}_interaccion" onclick="cambiar_pagina_interaccion({{pages_interaccion|add:1}});">{{pages_interaccion|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_interaccion|add:2}}_interaccion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_interaccion|add:2}}_interaccion" onclick="cambiar_pagina_interaccion({{pages_interaccion|add:2}});">{{pages_interaccion|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_interaccion|add:3}}_interaccion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_interaccion|add:3}}_interaccion" onclick="cambiar_pagina_interaccion({{pages_interaccion|add:3}});">{{pages_interaccion|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_interaccion|add:4}}_interaccion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_interaccion|add:4}}_interaccion" onclick="cambiar_pagina_interaccion({{pages_interaccion|add:4}});">{{pages_interaccion|add:4}}</button>
                                            </li>
                                            <li id="not_page2_interaccion" class="page-item disabled">
                                                <button id="not_button2_interaccion" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_interaccion_pag}}_interaccion" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_interaccion_pag}}_interaccion" onclick="cambiar_ultima_pagina_interaccion({{cantidad_interaccion_pag}});">{{cantidad_interaccion_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_interaccion">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_interaccion();">‚Ä∫</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="tibias">
                                    <div id="toolbar3">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_oportunidad" name="origen_lead_oportunidad">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_oportunidad %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_oportunidad" name="respuesta_oportunidad">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_oportunidad %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_oportunidad" name="estado_oportunidad">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_oportunidad %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_oportunidad" name="asesor_oportunidad">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_oportunidad %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_oportunidad" name="sala_oportunidad" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_oportunidad %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_oportunidad" name="marca_oportunidad">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_oportunidad %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_oportunidad" name="modelo_oportunidad">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_oportunidad %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_oportunidad" id="desde_oportunidad" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_oportunidad" id="hasta_oportunidad" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_oportunidad();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar p√°gina</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="search_oportunidad" name="search_oportunidad">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarContAsesor();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <table id="tableO"
                                            {% if user.username == "admin" %}
                                            data-show-export="true"
                                            {% endif %}   
                                           data-toolbar="#toolbar3"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 warning" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_oportunidad %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_oportunidad">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_oportunidad();">‚Äπ</button>
                                            </li>
                                            <li id="page{{pages_oportunidad}}_oportunidad" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_oportunidad}}_oportunidad" onclick="cambiar_pagina_oportunidad({{pages_oportunidad}});">{{pages_oportunidad}}</button>
                                            </li>
                                            <li id="page{{pages_oportunidad|add:1}}_oportunidad" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_oportunidad|add:1}}_oportunidad" onclick="cambiar_pagina_oportunidad({{pages_oportunidad|add:1}});">{{pages_oportunidad|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_oportunidad|add:2}}_oportunidad" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_oportunidad|add:2}}_oportunidad" onclick="cambiar_pagina_oportunidad({{pages_oportunidad|add:2}});">{{pages_oportunidad|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_oportunidad|add:3}}_oportunidad" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_oportunidad|add:3}}_oportunidad" onclick="cambiar_pagina_oportunidad({{pages_oportunidad|add:3}});">{{pages_oportunidad|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_oportunidad|add:4}}_oportunidad" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_oportunidad|add:4}}_oportunidad" onclick="cambiar_pagina_oportunidad({{pages_oportunidad|add:4}});">{{pages_oportunidad|add:4}}</button>
                                            </li>
                                            <li id="not_page2_oportunidad" class="page-item disabled">
                                                <button id="not_button2_oportunidad" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_oportunidad_pag}}_oportunidad" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_oportunidad_pag}}_oportunidad" onclick="cambiar_ultima_pagina_oportunidad({{cantidad_oportunidad_pag}});">{{cantidad_oportunidad_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_oportunidad">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_oportunidad();">‚Ä∫</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="calientes">
                                    <div id="toolbar4">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="origen_lead_pedido" name="origen_lead_pedido">
                                                    <option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen in origenes_lead_pedido %}
                                                    <option value="{{origen.origen_lead}}">{{origen.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="respuesta_pedido" name="respuesta_pedido">
                                                    <option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_pedido %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_pedido" name="estado_pedido">
                                                    <option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_pedido %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="asesor_pedido" name="asesor_pedido">
                                                    <option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_pedido %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_pedido" name="sala_pedido" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_pedido %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_pedido" name="marca_pedido">
                                                    <option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in marcas_pedido %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_pedido" name="modelo_pedido">
                                                    <option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in modelos_pedido %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_pedido" id="desde_pedido" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_pedido" id="hasta_pedido" class="form-control rangos" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_pedido();">Buscar</button>
                                                <button id="rContAsesor" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar p√°gina</button>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="search_pedido" name="search_pedido">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarContAsesor();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <table id="tableP"
                                            {% if user.username == "admin" %}
                                            data-show-export="true"
                                            {% endif %}   
                                           data-toolbar="#toolbar4"
                                           data-toggle="table"
                                           data-height="1200"
                                           data-pagination="true"
                                           data-side-pagination="server"
                                           data-sort-class="table-active"
                                           data-sortable="true"
                                           data-show-columns="true"
                                           data-show-columns-search="true"
                                           data-filter-control="true">
                                        <thead class="table100-head table100 ver3 success" style="color: white;">
                                            <tr>
                                                <th data-field="Detalle"> Detalle </th>
                                                <th data-field="FechaIngreso">Fecha de Ingreso</th>
                                                <th data-field="Cliente">Cliente</th>
                                                <th data-field="Telefono">Telefono</th>
                                                <th data-field="Marca">Marca</th>
                                                <th data-field="Modelo">Modelo</th>
                                                <th data-field="OrigenIngreso">Origen de Ingreso</th>
                                                <th data-field="Respuesta">Respuesta Cliente</th>
                                                <th data-field="Estado">Estado</th>
                                                <th data-field="Sala">Sala</th>
                                                <th data-field="Asesor">Asesor</th>
                                            </tr>
                                        </thead>
                                        <tbody style="background-color:white;">
                                            {% for lead in leads_pedido %}
                                            <tr>
                                                <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                <td>{{lead.prospecto.celular}}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                <td>{{lead.origen_lead}}</td>
                                                <td>{{lead.respuesta}}</td>
                                                <td>{{lead.estado}}</td>
                                                <td>{{lead.sala}}</td>
                                                <td>{{lead.nombre_asesor}}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_pedido">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_pedido();">‚Äπ</button>
                                            </li>
                                            <li id="page{{pages_pedido}}_pedido" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_pedido}}_pedido" onclick="cambiar_pagina_pedido({{pages_pedido}});">{{pages_pedido}}</button>
                                            </li>
                                            <li id="page{{pages_pedido|add:1}}_pedido" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_pedido|add:1}}_pedido" onclick="cambiar_pagina_pedido({{pages_pedido|add:1}});">{{pages_pedido|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_pedido|add:2}}_pedido" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_pedido|add:2}}_pedido" onclick="cambiar_pagina_pedido({{pages_pedido|add:2}});">{{pages_pedido|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_pedido|add:3}}_pedido" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_pedido|add:3}}_pedido" onclick="cambiar_pagina_pedido({{pages_pedido|add:3}});">{{pages_pedido|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_pedido|add:4}}_pedido" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_pedido|add:4}}_pedido" onclick="cambiar_pagina_pedido({{pages_pedido|add:4}});">{{pages_pedido|add:4}}</button>
                                            </li>
                                            <li id="not_page2_pedido" class="page-item disabled">
                                                <button id="not_button2_pedido" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_pedido_pag}}_pedido" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_pedido_pag}}_pedido" onclick="cambiar_ultima_pagina_pedido({{cantidad_pedido_pag}});">{{cantidad_pedido_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_pedido">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_pedido();">‚Ä∫</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<script>
    $(document).ready(function () {

        document.location.hash = "#ContactoAsesor";

      $('#dtBasicExample').DataTable( {
          "scrollY":        "300px",
          "scrollCollapse": true,
          "paging":         false
      });

      $.datetimepicker.setLocale('es');

      $('.rangos').datetimepicker({
          format: 'd/m/Y',
          timepicker: false
      });

      

      $("#rContAsesor").click(function (event) {
          $('#ContAsesor_Desde').val('');
          $('#ContAsesor_Hasta').val('');
          getDataCA(1, 10);
      })

      $("#rT").click(function (event) {
          $('#tableT').bootstrapTable('refresh');
      })

      $("#rC").click(function (event) {
          $('#tableC').bootstrapTable('refresh');
      })
  } );
</script>
<script>

    var if_filtrar_no_contactado = false;
    var rango_pagina_no_contactado = 1;
    var pagina_actual_no_contactado = 1;
    var cantidad_no_contactado_pag = {{cantidad_no_contactado_pag}};

    function filtrar_informacion_no_contactado(){
        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.filtrar_no_contactado = true
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableF > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableF > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_no_contactado_pag + "_no_contactado").hide()
                        }
                        else {
                            $("#page" + cantidad_no_contactado_pag + "_no_contactado").show()
                            $("#page" + cantidad_no_contactado_pag + "_no_contactado").attr("id","page" + lead + "_no_contactado");
                            $("#page" + lead + "_no_contactado").removeClass("active");
                            $("#button" + cantidad_no_contactado_pag + "_no_contactado").attr("onclick","cambiar_ultima_pagina_no_contactado(" + lead + ");");
                            $("#button" + cantidad_no_contactado_pag + "_no_contactado").text(lead);
                            $("#button" + cantidad_no_contactado_pag + "_no_contactado").attr("id","button" + lead + "_no_contactado");
                            cantidad_no_contactado_pag = lead;
                        }
                    }
                })
                if_filtrar_no_contactado = true;
                if ($("#not_page1_no_contactado").length > 0){
                    max_pag = (rango_pagina_no_contactado * 5) + 1
                    min_pag = (rango_pagina_no_contactado * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_no_contactado"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_no_contactado"
                    button = "#button1_no_contactado"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_no_contactado(1);");
                    pagina_actual_no_contactado = 1;
                    rango_pagina_no_contactado = 1
                    new_max_pag = (rango_pagina_no_contactado * 5) + 1

                    $("#button_avanzar_no_contactado").removeClass("disabled");
                    $("#button_retrasar_no_contactado").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"

                            if (cantidad_no_contactado_pag != 1){
                                $(page).show();
                                $(page).attr("id","page" + cantidad_no_contactado_pag + "_no_contactado");
                                $(button).attr("onclick","cambiar_ultima_pagina_no_contactado(" + cantidad_no_contactado_pag + ");");
                                $(button).text("" + cantidad_no_contactado_pag + "");
                                $(button).attr("id","button" + cantidad_no_contactado_pag + "_no_contactado");
                            }
                            else {
                                $(page).hide()
                            }
                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"

                            $(page).attr("id","not_page2_no_contactado");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_no_contactado");
                            $("#not_page2_no_contactado").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_no_contactado"
                            button = "#not_button1_no_contactado"
                    
                            $(page).attr("id","page2_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_no_contactado");
                            $("#page2_no_contactado").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"
                    
                            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                            
                            if (pagina_posterior == pagina_actual_no_contactado){
                                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_no_contactado * 5) + 1
                    min_pag = (rango_pagina_no_contactado * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_no_contactado"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_no_contactado = 1;

                    rango_pagina_no_contactado = 1
                    new_max_pag = (rango_pagina_no_contactado * 5) + 1

                    $("#button_avanzar_no_contactado").removeClass("disabled");
                    $("#button_retrasar_no_contactado").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"
                    
                            $(page).attr("id","page1_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_no_contactado");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_no_contactado"
                            button = "#button" + pagina_anterior + "_no_contactado"
                    
                            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                            
                            if (pagina_posterior == pagina_actual_no_contactado){
                                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                            }
                        }
                    }
                    page = "#page1_no_contactado"
                    $(page).addClass("active");
                }
            }
          })
    }

    function retrasar_paginas_no_contactado(){
        max_pag = Math.round((rango_pagina_no_contactado * 5))
        max_pag_for = (rango_pagina_no_contactado * 5) + 1
        min_pag = (rango_pagina_no_contactado * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_no_contactado"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_no_contactado"
            button = "#button" + pagina_anterior + "_no_contactado"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_no_contactado");

            if (pagina_posterior == pagina_actual_no_contactado){
                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
            }
            
        }
        rango_pagina_no_contactado = parseFloat((rango_pagina_no_contactado - 1).toFixed(2));
        console.log("rango_pagina_no_contactado")
        console.log(rango_pagina_no_contactado)
        if (rango_pagina_no_contactado == 1){
            console.log("ssssssss")
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if ($("#not_page1_no_contactado").length > 0 && rango_pagina_no_contactado >= 1 && rango_pagina_no_contactado < 3) {
            console.log("s")
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else {
            console.log("ssas")
            $("#button_retrasar_no_contactado").removeClass("disabled");
            $("#button_avanzar_no_contactado").removeClass("disabled");
        }
    }

    function avanzar_paginas_no_contactado(){
        max_pag = Math.round((rango_pagina_no_contactado * 5))
        max_pag_for = (rango_pagina_no_contactado * 5) + 1
        min_pag = (rango_pagina_no_contactado * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_no_contactado"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_no_contactado"
            button = "#button" + pagina_anterior + "_no_contactado"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_no_contactado");
            $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_no_contactado");

            if (pagina_posterior == pagina_actual_no_contactado){
                $("#page" + pagina_posterior + "_no_contactado").addClass("active");
            }

            
        }
        rango_pagina_no_contactado = parseFloat((rango_pagina_no_contactado + 1).toFixed(2));
        if (rango_pagina_no_contactado == 1){
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if ($("#not_page1_no_contactado").length > 0 && rango_pagina_no_contactado >= 1 && rango_pagina_no_contactado < 3) {
            $("#button_retrasar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
            $("#button_avanzar_no_contactado").addClass("disabled");
        }
        else {
            $("#button_retrasar_no_contactado").removeClass("disabled");
            $("#button_avanzar_no_contactado").removeClass("disabled");
        }

    }

    function cambiar_pagina_no_contactado(pagina){

        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.pages_no_contactado = pagina
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableF > tbody').empty();
                max_pag = (rango_pagina_no_contactado * 5) + 1
                min_pag = (rango_pagina_no_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableF > tbody').append(fila);
                })
                page = "#page" + pagina + "_no_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_no_contactado"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_no_contactado = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_no_contactado(pagina){

        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.pages_no_contactado = pagina
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.pages_no_contactado = pagina
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableF > tbody').empty();
                max_pag = (rango_pagina_no_contactado * 5) + 1
                min_pag = (rango_pagina_no_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableF > tbody').append(fila);
                })
                page = "#page" + pagina + "_no_contactado"
                button = "#button" + pagina + "_no_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_no_contactado"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina + ");");
                pagina_actual_no_contactado = pagina;

                rango_pagina_no_contactado = (cantidad_no_contactado_pag) / 5
                new_max_pag = (rango_pagina_no_contactado * 5) + 1
                $("#button_retrasar_no_contactado").removeClass("disabled");
                $("#button_avanzar_no_contactado").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_no_contactado"
                        button = "#not_button2_no_contactado"

                        $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                        $("#page" + pagina_posterior + "_no_contactado").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","not_page1_no_contactado");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_no_contactado");
                        $("#not_page1_no_contactado").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","page1_no_contactado");
                        $(button).attr("onclick","cambiar_primera_pagina_no_contactado(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_no_contactado");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                        
                        if (pagina_posterior == pagina_actual_no_contactado){
                            $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                        }
                    }
                }
                if (rango_pagina_no_contactado == 1){
                    $("#button_retrasar_no_contactado").addClass("disabled");
                }
                else if ($("#not_page1_no_contactado").length > 0 && rango_pagina_no_contactado >= 1 && rango_pagina_no_contactado < 3) {
                    $("#button_retrasar_no_contactado").addClass("disabled");
                }
                else if (rango_pagina_no_contactado == Math.round(((cantidad_no_contactado_pag) / 5))){
                    $("#button_avanzar_no_contactado").addClass("disabled");
                }
                else if (rango_pagina_no_contactado == (cantidad_no_contactado_pag) / 5){
                    $("#button_avanzar_no_contactado").addClass("disabled");
                }
                else {
                    $("#button_retrasar_no_contactado").removeClass("disabled");
                    $("#button_avanzar_no_contactado").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_no_contactado(pagina){

        var origen_lead_no_contactado = $("#origen_lead_no_contactado").val();
        var respuesta_no_contactado = $("#respuesta_no_contactado").val();
        var estado_no_contactado = $("#estado_no_contactado").val();
        var asesor_no_contactado = $("#asesor_no_contactado").val();
        var sala_no_contactado = $("#sala_no_contactado").val();
        var marca_no_contactado = $("#marca_no_contactado").val();
        var modelo_no_contactado = $("#modelo_no_contactado").val();
        var desde_no_contactado = $("#desde_no_contactado").val();
        var hasta_no_contactado = $("#hasta_no_contactado").val();
        var search_no_contactado = $("#search_no_contactado").val();

        data = {}
        data.pages_no_contactado = pagina
        data.if_filtrar_no_contactado = if_filtrar_no_contactado
        data.pages_no_contactado = pagina
        data.origen_lead_no_contactado = origen_lead_no_contactado
        data.respuesta_no_contactado = respuesta_no_contactado
        data.estado_no_contactado = estado_no_contactado
        data.asesor_no_contactado = asesor_no_contactado
        data.sala_no_contactado = sala_no_contactado
        data.marca_no_contactado = marca_no_contactado
        data.modelo_no_contactado = modelo_no_contactado
        data.desde_no_contactado = desde_no_contactado
        data.hasta_no_contactado = hasta_no_contactado
        data.search_no_contactado = search_no_contactado
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableF > tbody').empty();
                max_pag = (rango_pagina_no_contactado * 5) + 1
                min_pag = (rango_pagina_no_contactado * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableF > tbody').append(fila);
                })
                page = "#page" + pagina + "_no_contactado"
                button = "#button" + pagina + "_no_contactado"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_no_contactado"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_no_contactado(1);");
                pagina_actual_no_contactado = pagina;

                rango_pagina_no_contactado = 1
                new_max_pag = (rango_pagina_no_contactado * 5) + 1
                $("#button_avanzar_no_contactado").removeClass("disabled");
                $("#button_retrasar_no_contactado").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"

                        $(page).attr("id","page" + cantidad_no_contactado_pag + "_no_contactado");
                        $(button).attr("onclick","cambiar_ultima_pagina_no_contactado(" + cantidad_no_contactado_pag + ");");
                        $(button).text("" + cantidad_no_contactado_pag + "");
                        $(button).attr("id","button" + cantidad_no_contactado_pag + "_no_contactado");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"

                        $(page).attr("id","not_page2_no_contactado");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_no_contactado");
                        $("#not_page2_no_contactado").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_no_contactado"
                        button = "#not_button1_no_contactado"
                
                        $(page).attr("id","page2_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_no_contactado");
                        $("#page2_no_contactado").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_no_contactado"
                        button = "#button" + pagina_anterior + "_no_contactado"
                
                        $(page).attr("id","page" + pagina_posterior + "_no_contactado");
                        $(button).attr("onclick","cambiar_pagina_no_contactado(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_no_contactado");
                        
                        if (pagina_posterior == pagina_actual_no_contactado){
                            $("#page" + pagina_posterior + "_no_contactado").addClass("active");
                        }
                    }
                }
              }
          })

    }
























    

    







    var if_filtrar_interaccion = false;
    var rango_pagina_interaccion = 1;
    var pagina_actual_interaccion = 1;
    var cantidad_interaccion_pag = {{cantidad_interaccion_pag}};

    function filtrar_informacion_interaccion(){
        var origen_lead_interaccion = $("#origen_lead_interaccion").val();
        var respuesta_interaccion = $("#respuesta_interaccion").val();
        var estado_interaccion = $("#estado_interaccion").val();
        var asesor_interaccion = $("#asesor_interaccion").val();
        var sala_interaccion = $("#sala_interaccion").val();
        var marca_interaccion = $("#marca_interaccion").val();
        var modelo_interaccion = $("#modelo_interaccion").val();
        var desde_interaccion = $("#desde_interaccion").val();
        var hasta_interaccion = $("#hasta_interaccion").val();
        var search_interaccion = $("#search_interaccion").val();

        data = {}
        data.if_filtrar_interaccion = if_filtrar_interaccion
        data.filtrar_interaccion = true
        data.origen_lead_interaccion = origen_lead_interaccion
        data.respuesta_interaccion = respuesta_interaccion
        data.estado_interaccion = estado_interaccion
        data.asesor_interaccion = asesor_interaccion
        data.sala_interaccion = sala_interaccion
        data.marca_interaccion = marca_interaccion
        data.modelo_interaccion = modelo_interaccion
        data.desde_interaccion = desde_interaccion
        data.hasta_interaccion = hasta_interaccion
        data.search_interaccion = search_interaccion

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableT > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableT > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_interaccion_pag + "_interaccion").hide()
                        }
                        else {
                            $("#page" + cantidad_interaccion_pag + "_interaccion").show()
                            $("#page" + cantidad_interaccion_pag + "_interaccion").attr("id","page" + lead + "_interaccion");
                            $("#page" + lead + "_interaccion").removeClass("active");
                            $("#button" + cantidad_interaccion_pag + "_interaccion").attr("onclick","cambiar_ultima_pagina_interaccion(" + lead + ");");
                            $("#button" + cantidad_interaccion_pag + "_interaccion").text(lead);
                            $("#button" + cantidad_interaccion_pag + "_interaccion").attr("id","button" + lead + "_interaccion");
                            cantidad_interaccion_pag = lead;
                        }
                    }
                })
                if_filtrar_interaccion = true;
                if ($("#not_page1_interaccion").length > 0){
                    max_pag = (rango_pagina_interaccion * 5) + 1
                    min_pag = (rango_pagina_interaccion * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_interaccion"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_interaccion"
                    button = "#button1_interaccion"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_interaccion(1);");
                    pagina_actual_interaccion = 1;
                    rango_pagina_interaccion = 1
                    new_max_pag = (rango_pagina_interaccion * 5) + 1

                    $("#button_avanzar_interaccion").removeClass("disabled");
                    $("#button_retrasar_interaccion").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_interaccion"
                            button = "#button" + pagina_anterior + "_interaccion"

                            $(page).attr("id","page" + cantidad_interaccion_pag + "_interaccion");
                            $(button).attr("onclick","cambiar_ultima_pagina_interaccion(" + cantidad_interaccion_pag + ");");
                            $(button).text("" + cantidad_interaccion_pag + "");
                            $(button).attr("id","button" + cantidad_interaccion_pag + "_interaccion");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_interaccion"
                            button = "#button" + pagina_anterior + "_interaccion"

                            $(page).attr("id","not_page2_interaccion");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_interaccion");
                            $("#not_page2_interaccion").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_interaccion"
                            button = "#not_button1_interaccion"
                    
                            $(page).attr("id","page2_interaccion");
                            $(button).attr("onclick","cambiar_pagina_interaccion(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_interaccion");
                            $("#page2_interaccion").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_interaccion"
                            button = "#button" + pagina_anterior + "_interaccion"
                    
                            $(page).attr("id","page" + pagina_posterior + "_interaccion");
                            $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_interaccion");
                            
                            if (pagina_posterior == pagina_actual_interaccion){
                                $("#page" + pagina_posterior + "_interaccion").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_interaccion * 5) + 1
                    min_pag = (rango_pagina_interaccion * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_interaccion"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_interaccion = 1;

                    rango_pagina_interaccion = 1
                    new_max_pag = (rango_pagina_interaccion * 5) + 1

                    $("#button_avanzar_interaccion").removeClass("disabled");
                    $("#button_retrasar_interaccion").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_interaccion"
                            button = "#button" + pagina_anterior + "_interaccion"
                    
                            $(page).attr("id","page1_interaccion");
                            $(button).attr("onclick","cambiar_pagina_interaccion(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_interaccion");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_interaccion"
                            button = "#button" + pagina_anterior + "_interaccion"
                    
                            $(page).attr("id","page" + pagina_posterior + "_interaccion");
                            $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_interaccion");
                            
                            if (pagina_posterior == pagina_actual_interaccion){
                                $("#page" + pagina_posterior + "_interaccion").addClass("active");
                            }
                        }
                    }
                    page = "#page1_interaccion"
                    $(page).addClass("active");
                }
            }
          })
    }




    function retrasar_paginas_interaccion(){
        max_pag = Math.round((rango_pagina_interaccion * 5))
        max_pag_for = (rango_pagina_interaccion * 5) + 1
        min_pag = (rango_pagina_interaccion * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_interaccion"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_interaccion"
            button = "#button" + pagina_anterior + "_interaccion"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_interaccion");
            $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_interaccion");

            if (pagina_posterior == pagina_actual_interaccion){
                $("#page" + pagina_posterior + "_interaccion").addClass("active");
            }
            
        }
        rango_pagina_interaccion = parseFloat((rango_pagina_interaccion - 1).toFixed(2));
        if (rango_pagina_interaccion == 1){
            $("#button_retrasar_interaccion").addClass("disabled");
        }
        else if ($("#not_page1_interaccion").length > 0 && rango_pagina_interaccion >= 1 && rango_pagina_interaccion < 3) {
            $("#button_retrasar_interaccion").addClass("disabled");
        }
        else if (rango_pagina_interaccion == Math.round(((cantidad_interaccion_pag) / 5))){
            $("#button_avanzar_interaccion").addClass("disabled");
        }
        else if (rango_pagina_interaccion == (cantidad_interaccion_pag) / 5){
            $("#button_avanzar_interaccion").addClass("disabled");
        }
        else {
            $("#button_retrasar_interaccion").removeClass("disabled");
            $("#button_avanzar_interaccion").removeClass("disabled");
        }
    }

    function avanzar_paginas_interaccion(){
        max_pag = Math.round((rango_pagina_interaccion * 5))
        max_pag_for = (rango_pagina_interaccion * 5) + 1
        min_pag = (rango_pagina_interaccion * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_interaccion"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_interaccion"
            button = "#button" + pagina_anterior + "_interaccion"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_interaccion");
            $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_interaccion");

            if (pagina_posterior == pagina_actual_interaccion){
                $("#page" + pagina_posterior + "_interaccion").addClass("active");
            }

            
        }
        rango_pagina_interaccion = parseFloat((rango_pagina_interaccion + 1).toFixed(2));
        if (rango_pagina_interaccion == 1){
            $("#button_retrasar_interaccion").addClass("disabled");
        }
        else if ($("#not_page1_interaccion").length > 0 && rango_pagina_interaccion >= 1 && rango_pagina_interaccion < 3) {
            $("#button_retrasar_interaccion").addClass("disabled");
        }
        else if (rango_pagina_interaccion == Math.round(((cantidad_interaccion_pag) / 5))){
            $("#button_avanzar_interaccion").addClass("disabled");
        }
        else if (rango_pagina_interaccion == (cantidad_interaccion_pag) / 5){
            $("#button_avanzar_interaccion").addClass("disabled");
        }
        else {
            $("#button_retrasar_interaccion").removeClass("disabled");
            $("#button_avanzar_interaccion").removeClass("disabled");
        }

    }

    function cambiar_pagina_interaccion(pagina){

        var origen_lead_interaccion = $("#origen_lead_interaccion").val();
        var respuesta_interaccion = $("#respuesta_interaccion").val();
        var estado_interaccion = $("#estado_interaccion").val();
        var asesor_interaccion = $("#asesor_interaccion").val();
        var sala_interaccion = $("#sala_interaccion").val();
        var marca_interaccion = $("#marca_interaccion").val();
        var modelo_interaccion = $("#modelo_interaccion").val();
        var desde_interaccion = $("#desde_interaccion").val();
        var hasta_interaccion = $("#hasta_interaccion").val();
        var search_interaccion = $("#search_interaccion").val();

        data = {}
        data.if_filtrar_interaccion = if_filtrar_interaccion
        data.pages_interaccion = pagina
        data.origen_lead_interaccion = origen_lead_interaccion
        data.respuesta_interaccion = respuesta_interaccion
        data.estado_interaccion = estado_interaccion
        data.asesor_interaccion = asesor_interaccion
        data.sala_interaccion = sala_interaccion
        data.marca_interaccion = marca_interaccion
        data.modelo_interaccion = modelo_interaccion
        data.desde_interaccion = desde_interaccion
        data.hasta_interaccion = hasta_interaccion
        data.search_interaccion = search_interaccion
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableT > tbody').empty();
                max_pag = (rango_pagina_interaccion * 5) + 1
                min_pag = (rango_pagina_interaccion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableT > tbody').append(fila);
                })
                page = "#page" + pagina + "_interaccion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_interaccion"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_interaccion = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_interaccion(pagina){

        var origen_lead_interaccion = $("#origen_lead_interaccion").val();
        var respuesta_interaccion = $("#respuesta_interaccion").val();
        var estado_interaccion = $("#estado_interaccion").val();
        var asesor_interaccion = $("#asesor_interaccion").val();
        var sala_interaccion = $("#sala_interaccion").val();
        var marca_interaccion = $("#marca_interaccion").val();
        var modelo_interaccion = $("#modelo_interaccion").val();
        var desde_interaccion = $("#desde_interaccion").val();
        var hasta_interaccion = $("#hasta_interaccion").val();
        var search_interaccion = $("#search_interaccion").val();

        data = {}
        data.pages_interaccion = pagina
        data.if_filtrar_interaccion = if_filtrar_interaccion
        data.pages_interaccion = pagina
        data.origen_lead_interaccion = origen_lead_interaccion
        data.respuesta_interaccion = respuesta_interaccion
        data.estado_interaccion = estado_interaccion
        data.asesor_interaccion = asesor_interaccion
        data.sala_interaccion = sala_interaccion
        data.marca_interaccion = marca_interaccion
        data.modelo_interaccion = modelo_interaccion
        data.desde_interaccion = desde_interaccion
        data.hasta_interaccion = hasta_interaccion
        data.search_interaccion = search_interaccion
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableT > tbody').empty();
                max_pag = (rango_pagina_interaccion * 5) + 1
                min_pag = (rango_pagina_interaccion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableT > tbody').append(fila);
                })
                page = "#page" + pagina + "_interaccion"
                button = "#button" + pagina + "_interaccion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_interaccion"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina + ");");
                pagina_actual_interaccion = pagina;

                rango_pagina_interaccion = (cantidad_interaccion_pag) / 5
                new_max_pag = (rango_pagina_interaccion * 5) + 1
                $("#button_retrasar_interaccion").removeClass("disabled");
                $("#button_avanzar_interaccion").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_interaccion"
                        button = "#not_button2_interaccion"

                        $(page).attr("id","page" + pagina_posterior + "_interaccion");
                        $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_interaccion");
                        $("#page" + pagina_posterior + "_interaccion").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_interaccion"
                        button = "#button" + pagina_anterior + "_interaccion"
                
                        $(page).attr("id","not_page1_interaccion");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_interaccion");
                        $("#not_page1_interaccion").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_interaccion"
                        button = "#button" + pagina_anterior + "_interaccion"
                
                        $(page).attr("id","page1_interaccion");
                        $(button).attr("onclick","cambiar_primera_pagina_interaccion(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_interaccion");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_interaccion"
                        button = "#button" + pagina_anterior + "_interaccion"
                
                        $(page).attr("id","page" + pagina_posterior + "_interaccion");
                        $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_interaccion");
                        
                        if (pagina_posterior == pagina_actual_interaccion){
                            $("#page" + pagina_posterior + "_interaccion").addClass("active");
                        }
                    }
                }
                if (rango_pagina_no_interaccion == 1){
                    $("#button_retrasar_no_interaccion").addClass("disabled");
                }
                else if ($("#not_page1_interaccion").length > 0 && rango_pagina_interaccion >= 1 && rango_pagina_interaccion < 3) {
                    $("#button_retrasar_no_interaccion").addClass("disabled");
                }
                else if (rango_pagina_no_interaccion == Math.round(((cantidad_no_interaccion_pag) / 5))){
                    $("#button_avanzar_no_interaccion").addClass("disabled");
                }
                else if (rango_pagina_no_interaccion == (cantidad_no_interaccion_pag) / 5){
                    $("#button_avanzar_no_interaccion").addClass("disabled");
                }
                else {
                    $("#button_retrasar_no_interaccion").removeClass("disabled");
                    $("#button_avanzar_no_interaccion").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_interaccion(pagina){

        var origen_lead_interaccion = $("#origen_lead_interaccion").val();
        var respuesta_interaccion = $("#respuesta_interaccion").val();
        var estado_interaccion = $("#estado_interaccion").val();
        var asesor_interaccion = $("#asesor_interaccion").val();
        var sala_interaccion = $("#sala_interaccion").val();
        var marca_interaccion = $("#marca_interaccion").val();
        var modelo_interaccion = $("#modelo_interaccion").val();
        var desde_interaccion = $("#desde_interaccion").val();
        var hasta_interaccion = $("#hasta_interaccion").val();
        var search_interaccion = $("#search_interaccion").val();

        data = {}
        data.pages_interaccion = pagina
        data.if_filtrar_interaccion = if_filtrar_interaccion
        data.pages_interaccion = pagina
        data.origen_lead_interaccion = origen_lead_interaccion
        data.respuesta_interaccion = respuesta_interaccion
        data.estado_interaccion = estado_interaccion
        data.asesor_interaccion = asesor_interaccion
        data.sala_interaccion = sala_interaccion
        data.marca_interaccion = marca_interaccion
        data.modelo_interaccion = modelo_interaccion
        data.desde_interaccion = desde_interaccion
        data.hasta_interaccion = hasta_interaccion
        data.search_interaccion = search_interaccion
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableT > tbody').empty();
                max_pag = (rango_pagina_interaccion * 5) + 1
                min_pag = (rango_pagina_interaccion * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableT > tbody').append(fila);
                })
                page = "#page" + pagina + "_interaccion"
                button = "#button" + pagina + "_interaccion"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_interaccion"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_interaccion(1);");
                pagina_actual_interaccion = pagina;

                rango_pagina_interaccion = 1
                new_max_pag = (rango_pagina_interaccion * 5) + 1
                $("#button_avanzar_interaccion").removeClass("disabled");
                $("#button_retrasar_interaccion").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_interaccion"
                        button = "#button" + pagina_anterior + "_interaccion"

                        $(page).attr("id","page" + cantidad_interaccion_pag + "_interaccion");
                        $(button).attr("onclick","cambiar_ultima_pagina_interaccion(" + cantidad_interaccion_pag + ");");
                        $(button).text("" + cantidad_interaccion_pag + "");
                        $(button).attr("id","button" + cantidad_interaccion_pag + "_interaccion");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_interaccion"
                        button = "#button" + pagina_anterior + "_interaccion"

                        $(page).attr("id","not_page2_interaccion");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_interaccion");
                        $("#not_page2_interaccion").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_interaccion"
                        button = "#not_button1_interaccion"
                
                        $(page).attr("id","page2_interaccion");
                        $(button).attr("onclick","cambiar_pagina_interaccion(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_interaccion");
                        $("#page2_interaccion").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_interaccion"
                        button = "#button" + pagina_anterior + "_interaccion"
                
                        $(page).attr("id","page" + pagina_posterior + "_interaccion");
                        $(button).attr("onclick","cambiar_pagina_interaccion(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_interaccion");
                        
                        if (pagina_posterior == pagina_actual_interaccion){
                            $("#page" + pagina_posterior + "_interaccion").addClass("active");
                        }
                    }
                }
              }
          })

    }




























    
    var if_filtrar_oportunidad = false;
    var rango_pagina_oportunidad = 1;
    var pagina_actual_oportunidad = 1;
    var cantidad_oportunidad_pag = {{cantidad_oportunidad_pag}};

    function filtrar_informacion_oportunidad(){
        var origen_lead_oportunidad = $("#origen_lead_oportunidad").val();
        var respuesta_oportunidad = $("#respuesta_oportunidad").val();
        var estado_oportunidad = $("#estado_oportunidad").val();
        var asesor_oportunidad = $("#asesor_oportunidad").val();
        var sala_oportunidad = $("#sala_oportunidad").val();
        var marca_oportunidad = $("#marca_oportunidad").val();
        var modelo_oportunidad = $("#modelo_oportunidad").val();
        var desde_oportunidad = $("#desde_oportunidad").val();
        var hasta_oportunidad = $("#hasta_oportunidad").val();
        var search_oportunidad = $("#search_oportunidad").val();

        data = {}
        data.if_filtrar_oportunidad = if_filtrar_oportunidad
        data.filtrar_oportunidad = true
        data.origen_lead_oportunidad = origen_lead_oportunidad
        data.respuesta_oportunidad = respuesta_oportunidad
        data.estado_oportunidad = estado_oportunidad
        data.asesor_oportunidad = asesor_oportunidad
        data.sala_oportunidad = sala_oportunidad
        data.marca_oportunidad = marca_oportunidad
        data.modelo_oportunidad = modelo_oportunidad
        data.desde_oportunidad = desde_oportunidad
        data.hasta_oportunidad = hasta_oportunidad
        data.search_oportunidad = search_oportunidad

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableO > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableO > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_oportunidad_pag + "_oportunidad").hide()
                        }
                        else {
                            $("#page" + cantidad_oportunidad_pag + "_oportunidad").show()
                            $("#page" + cantidad_oportunidad_pag + "_oportunidad").attr("id","page" + lead + "_oportunidad");
                            $("#page" + lead + "_oportunidad").removeClass("active");
                            $("#button" + cantidad_oportunidad_pag + "_oportunidad").attr("onclick","cambiar_ultima_pagina_oportunidad(" + lead + ");");
                            $("#button" + cantidad_oportunidad_pag + "_oportunidad").text(lead);
                            $("#button" + cantidad_oportunidad_pag + "_oportunidad").attr("id","button" + lead + "_oportunidad");
                            cantidad_oportunidad_pag = lead;
                        }
                    }
                })
                if_filtrar_oportunidad = true;
                if ($("#not_page1_oportunidad").length > 0){
                    max_pag = (rango_pagina_oportunidad * 5) + 1
                    min_pag = (rango_pagina_oportunidad * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_oportunidad"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_oportunidad"
                    button = "#button1_oportunidad"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_oportunidad(1);");
                    pagina_actual_oportunidad = 1;
                    rango_pagina_oportunidad = 1
                    new_max_pag = (rango_pagina_oportunidad * 5) + 1

                    $("#button_avanzar_oportunidad").removeClass("disabled");
                    $("#button_retrasar_oportunidad").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_oportunidad"
                            button = "#button" + pagina_anterior + "_oportunidad"

                            $(page).attr("id","page" + cantidad_oportunidad_pag + "_oportunidad");
                            $(button).attr("onclick","cambiar_ultima_pagina_oportunidad(" + cantidad_oportunidad_pag + ");");
                            $(button).text("" + cantidad_oportunidad_pag + "");
                            $(button).attr("id","button" + cantidad_oportunidad_pag + "_oportunidad");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_oportunidad"
                            button = "#button" + pagina_anterior + "_oportunidad"

                            $(page).attr("id","not_page2_oportunidad");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_oportunidad");
                            $("#not_page2_oportunidad").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_oportunidad"
                            button = "#not_button1_oportunidad"
                    
                            $(page).attr("id","page2_oportunidad");
                            $(button).attr("onclick","cambiar_pagina_oportunidad(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_oportunidad");
                            $("#page2_oportunidad").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_oportunidad"
                            button = "#button" + pagina_anterior + "_oportunidad"
                    
                            $(page).attr("id","page" + pagina_posterior + "_oportunidad");
                            $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_oportunidad");
                            
                            if (pagina_posterior == pagina_actual_oportunidad){
                                $("#page" + pagina_posterior + "_oportunidad").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_oportunidad * 5) + 1
                    min_pag = (rango_pagina_oportunidad * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_oportunidad"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_oportunidad = 1;

                    rango_pagina_oportunidad = 1
                    new_max_pag = (rango_pagina_oportunidad * 5) + 1

                    $("#button_avanzar_oportunidad").removeClass("disabled");
                    $("#button_retrasar_oportunidad").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_oportunidad"
                            button = "#button" + pagina_anterior + "_oportunidad"
                    
                            $(page).attr("id","page1_oportunidad");
                            $(button).attr("onclick","cambiar_pagina_oportunidad(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_oportunidad");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_oportunidad"
                            button = "#button" + pagina_anterior + "_oportunidad"
                    
                            $(page).attr("id","page" + pagina_posterior + "_oportunidad");
                            $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_oportunidad");
                            
                            if (pagina_posterior == pagina_actual_oportunidad){
                                $("#page" + pagina_posterior + "_oportunidad").addClass("active");
                            }
                        }
                    }
                    page = "#page1_oportunidad"
                    $(page).addClass("active");
                }
            }
          })
    }




    function retrasar_paginas_oportunidad(){
        max_pag = Math.round((rango_pagina_oportunidad * 5))
        max_pag_for = (rango_pagina_oportunidad * 5) + 1
        min_pag = (rango_pagina_oportunidad * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_oportunidad"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_oportunidad"
            button = "#button" + pagina_anterior + "_oportunidad"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_oportunidad");
            $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_oportunidad");

            if (pagina_posterior == pagina_actual_oportunidad){
                $("#page" + pagina_posterior + "_oportunidad").addClass("active");
            }
            
        }
        rango_pagina_oportunidad = parseFloat((rango_pagina_oportunidad - 1).toFixed(2));
        if (rango_pagina_oportunidad == 1){
            $("#button_retrasar_oportunidad").addClass("disabled");
        }
        else if ($("#not_page1_oportunidad").length > 0 && rango_pagina_oportunidad >= 1 && rango_pagina_oportunidad < 3) {
            $("#button_retrasar_oportunidad").addClass("disabled");
        }
        else if (rango_pagina_oportunidad == Math.round(((cantidad_oportunidad_pag) / 5))){
            $("#button_avanzar_oportunidad").addClass("disabled");
        }
        else if (rango_pagina_oportunidad == (cantidad_oportunidad_pag) / 5){
            $("#button_avanzar_oportunidad").addClass("disabled");
        }
        else {
            $("#button_retrasar_oportunidad").removeClass("disabled");
            $("#button_avanzar_oportunidad").removeClass("disabled");
        }
    }

    function avanzar_paginas_oportunidad(){
        max_pag = Math.round((rango_pagina_oportunidad * 5))
        max_pag_for = (rango_pagina_oportunidad * 5) + 1
        min_pag = (rango_pagina_oportunidad * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_oportunidad"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_oportunidad"
            button = "#button" + pagina_anterior + "_oportunidad"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_oportunidad");
            $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_oportunidad");

            if (pagina_posterior == pagina_actual_oportunidad){
                $("#page" + pagina_posterior + "_oportunidad").addClass("active");
            }

            
        }
        rango_pagina_oportunidad = parseFloat((rango_pagina_oportunidad + 1).toFixed(2));
        if (rango_pagina_oportunidad == 1){
            $("#button_retrasar_oportunidad").addClass("disabled");
        }
        else if ($("#not_page1_oportunidad").length > 0 && rango_pagina_oportunidad >= 1 && rango_pagina_oportunidad < 3) {
            $("#button_retrasar_oportunidad").addClass("disabled");
        }
        else if (rango_pagina_oportunidad == Math.round(((cantidad_oportunidad_pag) / 5))){
            $("#button_avanzar_oportunidad").addClass("disabled");
        }
        else if (rango_pagina_oportunidad == (cantidad_oportunidad_pag) / 5){
            $("#button_avanzar_oportunidad").addClass("disabled");
        }
        else {
            $("#button_retrasar_oportunidad").removeClass("disabled");
            $("#button_avanzar_oportunidad").removeClass("disabled");
        }

    }

    function cambiar_pagina_oportunidad(pagina){

        var origen_lead_oportunidad = $("#origen_lead_oportunidad").val();
        var respuesta_oportunidad = $("#respuesta_oportunidad").val();
        var estado_oportunidad = $("#estado_oportunidad").val();
        var asesor_oportunidad = $("#asesor_oportunidad").val();
        var sala_oportunidad = $("#sala_oportunidad").val();
        var marca_oportunidad = $("#marca_oportunidad").val();
        var modelo_oportunidad = $("#modelo_oportunidad").val();
        var desde_oportunidad = $("#desde_oportunidad").val();
        var hasta_oportunidad = $("#hasta_oportunidad").val();
        var search_oportunidad = $("#search_oportunidad").val();

        data = {}
        data.if_filtrar_oportunidad = if_filtrar_oportunidad
        data.pages_oportunidad = pagina
        data.origen_lead_oportunidad = origen_lead_oportunidad
        data.respuesta_oportunidad = respuesta_oportunidad
        data.estado_oportunidad = estado_oportunidad
        data.asesor_oportunidad = asesor_oportunidad
        data.sala_oportunidad = sala_oportunidad
        data.marca_oportunidad = marca_oportunidad
        data.modelo_oportunidad = modelo_oportunidad
        data.desde_oportunidad = desde_oportunidad
        data.hasta_oportunidad = hasta_oportunidad
        data.search_oportunidad = search_oportunidad
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableO > tbody').empty();
                max_pag = (rango_pagina_oportunidad * 5) + 1
                min_pag = (rango_pagina_oportunidad * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableO > tbody').append(fila);
                })
                page = "#page" + pagina + "_oportunidad"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_oportunidad"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_oportunidad = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_oportunidad(pagina){

        var origen_lead_oportunidad = $("#origen_lead_oportunidad").val();
        var respuesta_oportunidad = $("#respuesta_oportunidad").val();
        var estado_oportunidad = $("#estado_oportunidad").val();
        var asesor_oportunidad = $("#asesor_oportunidad").val();
        var sala_oportunidad = $("#sala_oportunidad").val();
        var marca_oportunidad = $("#marca_oportunidad").val();
        var modelo_oportunidad = $("#modelo_oportunidad").val();
        var desde_oportunidad = $("#desde_oportunidad").val();
        var hasta_oportunidad = $("#hasta_oportunidad").val();
        var search_oportunidad = $("#search_oportunidad").val();

        data = {}
        data.pages_oportunidad = pagina
        data.if_filtrar_oportunidad = if_filtrar_oportunidad
        data.pages_oportunidad = pagina
        data.origen_lead_oportunidad = origen_lead_oportunidad
        data.respuesta_oportunidad = respuesta_oportunidad
        data.estado_oportunidad = estado_oportunidad
        data.asesor_oportunidad = asesor_oportunidad
        data.sala_oportunidad = sala_oportunidad
        data.marca_oportunidad = marca_oportunidad
        data.modelo_oportunidad = modelo_oportunidad
        data.desde_oportunidad = desde_oportunidad
        data.hasta_oportunidad = hasta_oportunidad
        data.search_oportunidad = search_oportunidad
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableO > tbody').empty();
                max_pag = (rango_pagina_oportunidad * 5) + 1
                min_pag = (rango_pagina_oportunidad * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableO > tbody').append(fila);
                })
                page = "#page" + pagina + "_oportunidad"
                button = "#button" + pagina + "_oportunidad"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_oportunidad"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina + ");");
                pagina_actual_oportunidad = pagina;

                rango_pagina_oportunidad = (cantidad_oportunidad_pag) / 5
                new_max_pag = (rango_pagina_oportunidad * 5) + 1
                $("#button_retrasar_oportunidad").removeClass("disabled");
                $("#button_avanzar_oportunidad").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_oportunidad"
                        button = "#not_button2_oportunidad"
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)

                        $(page).attr("id","page" + pagina_posterior + "_oportunidad");
                        $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_oportunidad");
                        $("#page" + pagina_posterior + "_oportunidad").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_oportunidad"
                        button = "#button" + pagina_anterior + "_oportunidad"
                
                        $(page).attr("id","not_page1_oportunidad");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_oportunidad");
                        $("#not_page1_oportunidad").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_oportunidad"
                        button = "#button" + pagina_anterior + "_oportunidad"
                
                        $(page).attr("id","page1_oportunidad");
                        $(button).attr("onclick","cambiar_primera_pagina_oportunidad(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_oportunidad");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_oportunidad"
                        button = "#button" + pagina_anterior + "_oportunidad"
                
                        $(page).attr("id","page" + pagina_posterior + "_oportunidad");
                        $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_oportunidad");
                        
                        if (pagina_posterior == pagina_actual_oportunidad){
                            $("#page" + pagina_posterior + "_oportunidad").addClass("active");
                        }
                    }
                }
                if (rango_pagina_oportunidad == 1){
                    $("#button_retrasar_oportunidad").addClass("disabled");
                }
                else if ($("#not_page1_oportunidad").length > 0 && rango_pagina_oportunidad >= 1 && rango_pagina_oportunidad < 3) {
                    $("#button_retrasar_oportunidad").addClass("disabled");
                }
                else if (rango_pagina_oportunidad == Math.round(((cantidad_oportunidad_pag) / 5))){
                    $("#button_avanzar_oportunidad").addClass("disabled");
                }
                else if (rango_pagina_oportunidad == (cantidad_oportunidad_pag) / 5){
                    $("#button_avanzar_oportunidad").addClass("disabled");
                }
                else {
                    $("#button_retrasar_oportunidad").removeClass("disabled");
                    $("#button_avanzar_oportunidad").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_oportunidad(pagina){

        var origen_lead_oportunidad = $("#origen_lead_oportunidad").val();
        var respuesta_oportunidad = $("#respuesta_oportunidad").val();
        var estado_oportunidad = $("#estado_oportunidad").val();
        var asesor_oportunidad = $("#asesor_oportunidad").val();
        var sala_oportunidad = $("#sala_oportunidad").val();
        var marca_oportunidad = $("#marca_oportunidad").val();
        var modelo_oportunidad = $("#modelo_oportunidad").val();
        var desde_oportunidad = $("#desde_oportunidad").val();
        var hasta_oportunidad = $("#hasta_oportunidad").val();
        var search_oportunidad = $("#search_oportunidad").val();

        data = {}
        data.pages_oportunidad = pagina
        data.if_filtrar_oportunidad = if_filtrar_oportunidad
        data.pages_oportunidad = pagina
        data.origen_lead_oportunidad = origen_lead_oportunidad
        data.respuesta_oportunidad = respuesta_oportunidad
        data.estado_oportunidad = estado_oportunidad
        data.asesor_oportunidad = asesor_oportunidad
        data.sala_oportunidad = sala_oportunidad
        data.marca_oportunidad = marca_oportunidad
        data.modelo_oportunidad = modelo_oportunidad
        data.desde_oportunidad = desde_oportunidad
        data.hasta_oportunidad = hasta_oportunidad
        data.search_oportunidad = search_oportunidad
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableO > tbody').empty();
                max_pag = (rango_pagina_oportunidad * 5) + 1
                min_pag = (rango_pagina_oportunidad * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableO > tbody').append(fila);
                })
                page = "#page" + pagina + "_oportunidad"
                button = "#button" + pagina + "_oportunidad"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_oportunidad"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_oportunidad(1);");
                pagina_actual_oportunidad = pagina;

                rango_pagina_oportunidad = 1
                new_max_pag = (rango_pagina_oportunidad * 5) + 1
                $("#button_avanzar_oportunidad").removeClass("disabled");
                $("#button_retrasar_oportunidad").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_oportunidad"
                        button = "#button" + pagina_anterior + "_oportunidad"

                        $(page).attr("id","page" + cantidad_oportunidad_pag + "_oportunidad");
                        $(button).attr("onclick","cambiar_ultima_pagina_oportunidad(" + cantidad_oportunidad_pag + ");");
                        $(button).text("" + cantidad_oportunidad_pag + "");
                        $(button).attr("id","button" + cantidad_oportunidad_pag + "_oportunidad");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_oportunidad"
                        button = "#button" + pagina_anterior + "_oportunidad"

                        $(page).attr("id","not_page2_oportunidad");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_oportunidad");
                        $("#not_page2_oportunidad").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_oportunidad"
                        button = "#not_button1_oportunidad"
                
                        $(page).attr("id","page2_oportunidad");
                        $(button).attr("onclick","cambiar_pagina_oportunidad(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_oportunidad");
                        $("#page2_oportunidad").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_oportunidad"
                        button = "#button" + pagina_anterior + "_oportunidad"
                
                        $(page).attr("id","page" + pagina_posterior + "_oportunidad");
                        $(button).attr("onclick","cambiar_pagina_oportunidad(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_oportunidad");
                        
                        if (pagina_posterior == pagina_actual_oportunidad){
                            $("#page" + pagina_posterior + "_oportunidad").addClass("active");
                        }
                    }
                }
              }
          })

    }



























    var if_filtrar_pedido = false;
    var rango_pagina_pedido = 1;
    var pagina_actual_pedido = 1;
    var cantidad_pedido_pag = {{cantidad_pedido_pag}};

    function filtrar_informacion_pedido(){
        var origen_lead_pedido = $("#origen_lead_pedido").val();
        var respuesta_pedido = $("#respuesta_pedido").val();
        var estado_pedido = $("#estado_pedido").val();
        var asesor_pedido = $("#asesor_pedido").val();
        var sala_pedido = $("#sala_pedido").val();
        var marca_pedido = $("#marca_pedido").val();
        var modelo_pedido = $("#modelo_pedido").val();
        var desde_pedido = $("#desde_pedido").val();
        var hasta_pedido = $("#hasta_pedido").val();
        var search_pedido = $("#search_pedido").val();

        data = {}
        data.if_filtrar_pedido = if_filtrar_pedido
        data.filtrar_pedido = true
        data.origen_lead_pedido = origen_lead_pedido
        data.respuesta_pedido = respuesta_pedido
        data.estado_pedido = estado_pedido
        data.asesor_pedido = asesor_pedido
        data.sala_pedido = sala_pedido
        data.marca_pedido = marca_pedido
        data.modelo_pedido = modelo_pedido
        data.desde_pedido = desde_pedido
        data.hasta_pedido = hasta_pedido
        data.search_pedido = search_pedido

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableP > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                        $('#tableP > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_pedido_pag + "_pedido").hide()
                        }
                        else {
                            $("#page" + cantidad_pedido_pag + "_pedido").show()
                            $("#page" + cantidad_pedido_pag + "_pedido").attr("id","page" + lead + "_pedido");
                            $("#page" + lead + "_pedido").removeClass("active");
                            $("#button" + cantidad_pedido_pag + "_pedido").attr("onclick","cambiar_ultima_pagina_pedido(" + lead + ");");
                            $("#button" + cantidad_pedido_pag + "_pedido").text(lead);
                            $("#button" + cantidad_pedido_pag + "_pedido").attr("id","button" + lead + "_pedido");
                            cantidad_pedido_pag = lead;
                        }
                    }
                })
                if_filtrar_pedido = true;
                if ($("#not_page1_pedido").length > 0){
                    max_pag = (rango_pagina_pedido * 5) + 1
                    min_pag = (rango_pagina_pedido * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_pedido"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_pedido"
                    button = "#button1_pedido"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_pedido(1);");
                    pagina_actual_pedido = 1;
                    rango_pagina_pedido = 1
                    new_max_pag = (rango_pagina_pedido * 5) + 1

                    $("#button_avanzar_pedido").removeClass("disabled");
                    $("#button_retrasar_pedido").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_pedido"
                            button = "#button" + pagina_anterior + "_pedido"

                            $(page).attr("id","page" + cantidad_pedido_pag + "_pedido");
                            $(button).attr("onclick","cambiar_ultima_pagina_pedido(" + cantidad_pedido_pag + ");");
                            $(button).text("" + cantidad_pedido_pag + "");
                            $(button).attr("id","button" + cantidad_pedido_pag + "_pedido");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_pedido"
                            button = "#button" + pagina_anterior + "_pedido"

                            $(page).attr("id","not_page2_pedido");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_pedido");
                            $("#not_page2_pedido").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_pedido"
                            button = "#not_button1_pedido"
                    
                            $(page).attr("id","page2_pedido");
                            $(button).attr("onclick","cambiar_pagina_pedido(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_pedido");
                            $("#page2_pedido").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_pedido"
                            button = "#button" + pagina_anterior + "_pedido"
                    
                            $(page).attr("id","page" + pagina_posterior + "_pedido");
                            $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_pedido");
                            
                            if (pagina_posterior == pagina_actual_pedido){
                                $("#page" + pagina_posterior + "_pedido").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_pedido * 5) + 1
                    min_pag = (rango_pagina_pedido * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_pedido"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_pedido = 1;

                    rango_pagina_pedido = 1
                    new_max_pag = (rango_pagina_pedido * 5) + 1

                    $("#button_avanzar_pedido").removeClass("disabled");
                    $("#button_retrasar_pedido").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_pedido"
                            button = "#button" + pagina_anterior + "_pedido"
                    
                            $(page).attr("id","page1_pedido");
                            $(button).attr("onclick","cambiar_pagina_pedido(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_pedido");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_pedido"
                            button = "#button" + pagina_anterior + "_pedido"
                    
                            $(page).attr("id","page" + pagina_posterior + "_pedido");
                            $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_pedido");
                            
                            if (pagina_posterior == pagina_actual_pedido){
                                $("#page" + pagina_posterior + "_pedido").addClass("active");
                            }
                        }
                    }
                    page = "#page1_pedido"
                    $(page).addClass("active");
                }
            }
          })
    }




    function retrasar_paginas_pedido(){
        max_pag = Math.round((rango_pagina_pedido * 5))
        max_pag_for = (rango_pagina_pedido * 5) + 1
        min_pag = (rango_pagina_pedido * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_pedido"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_pedido"
            button = "#button" + pagina_anterior + "_pedido"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_pedido");
            $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_pedido");

            if (pagina_posterior == pagina_actual_pedido){
                $("#page" + pagina_posterior + "_pedido").addClass("active");
            }
            
        }
        rango_pagina_pedido = parseFloat((rango_pagina_pedido - 1).toFixed(2));
        if (rango_pagina_pedido == 1){
            $("#button_retrasar_pedido").addClass("disabled");
        }
        else if ($("#not_page1_pedido").length > 0 && rango_pagina_pedido >= 1 && rango_pagina_pedido < 3) {
            $("#button_retrasar_pedido").addClass("disabled");
        }
        else if (rango_pagina_pedido == Math.round(((cantidad_pedido_pag) / 5))){
            $("#button_avanzar_pedido").addClass("disabled");
        }
        else if (rango_pagina_pedido == (cantidad_pedido_pag) / 5){
            $("#button_avanzar_pedido").addClass("disabled");
        }
        else {
            $("#button_retrasar_pedido").removeClass("disabled");
            $("#button_avanzar_pedido").removeClass("disabled");
        }
    }

    function avanzar_paginas_pedido(){
        max_pag = Math.round((rango_pagina_pedido * 5))
        max_pag_for = (rango_pagina_pedido * 5) + 1
        min_pag = (rango_pagina_pedido * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_pedido"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_pedido"
            button = "#button" + pagina_anterior + "_pedido"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_pedido");
            $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_pedido");

            if (pagina_posterior == pagina_actual_pedido){
                $("#page" + pagina_posterior + "_pedido").addClass("active");
            }

            
        }
        rango_pagina_pedido = parseFloat((rango_pagina_pedido + 1).toFixed(2));
        if (rango_pagina_pedido == 1){
            $("#button_retrasar_pedido").addClass("disabled");
        }
        else if ($("#not_page1_pedido").length > 0 && rango_pagina_pedido >= 1 && rango_pagina_pedido < 3) {
            $("#button_retrasar_pedido").addClass("disabled");
        }
        else if (rango_pagina_pedido == Math.round(((cantidad_pedido_pag) / 5))){
            $("#button_avanzar_pedido").addClass("disabled");
        }
        else if (rango_pagina_pedido == (cantidad_pedido_pag) / 5){
            $("#button_avanzar_pedido").addClass("disabled");
        }
        else {
            console.log("entra skkererjekrje")
            $("#button_retrasar_pedido").removeClass("disabled");
            $("#button_avanzar_pedido").removeClass("disabled");
        }

    }

    function cambiar_pagina_pedido(pagina){

        var origen_lead_pedido = $("#origen_lead_pedido").val();
        var respuesta_pedido = $("#respuesta_pedido").val();
        var estado_pedido = $("#estado_pedido").val();
        var asesor_pedido = $("#asesor_pedido").val();
        var sala_pedido = $("#sala_pedido").val();
        var marca_pedido = $("#marca_pedido").val();
        var modelo_pedido = $("#modelo_pedido").val();
        var desde_pedido = $("#desde_pedido").val();
        var hasta_pedido = $("#hasta_pedido").val();
        var search_pedido = $("#search_pedido").val();

        data = {}
        data.if_filtrar_pedido = if_filtrar_pedido
        data.pages_pedido = pagina
        data.origen_lead_pedido = origen_lead_pedido
        data.respuesta_pedido = respuesta_pedido
        data.estado_pedido = estado_pedido
        data.asesor_pedido = asesor_pedido
        data.sala_pedido = sala_pedido
        data.marca_pedido = marca_pedido
        data.modelo_pedido = modelo_pedido
        data.desde_pedido = desde_pedido
        data.hasta_pedido = hasta_pedido
        data.search_pedido = search_pedido
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableP > tbody').empty();
                max_pag = (rango_pagina_pedido * 5) + 1
                min_pag = (rango_pagina_pedido * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableP > tbody').append(fila);
                })
                page = "#page" + pagina + "_pedido"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_pedido"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_pedido = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_pedido(pagina){

        var origen_lead_pedido = $("#origen_lead_pedido").val();
        var respuesta_pedido = $("#respuesta_pedido").val();
        var estado_pedido = $("#estado_pedido").val();
        var asesor_pedido = $("#asesor_pedido").val();
        var sala_pedido = $("#sala_pedido").val();
        var marca_pedido = $("#marca_pedido").val();
        var modelo_pedido = $("#modelo_pedido").val();
        var desde_pedido = $("#desde_pedido").val();
        var hasta_pedido = $("#hasta_pedido").val();
        var search_pedido = $("#search_pedido").val();

        data = {}
        data.pages_pedido = pagina
        data.if_filtrar_pedido = if_filtrar_pedido
        data.pages_pedido = pagina
        data.origen_lead_pedido = origen_lead_pedido
        data.respuesta_pedido = respuesta_pedido
        data.estado_pedido = estado_pedido
        data.asesor_pedido = asesor_pedido
        data.sala_pedido = sala_pedido
        data.marca_pedido = marca_pedido
        data.modelo_pedido = modelo_pedido
        data.desde_pedido = desde_pedido
        data.hasta_pedido = hasta_pedido
        data.search_pedido = search_pedido
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableP > tbody').empty();
                max_pag = (rango_pagina_pedido * 5) + 1
                min_pag = (rango_pagina_pedido * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableP > tbody').append(fila);
                })
                page = "#page" + pagina + "_pedido"
                button = "#button" + pagina + "_pedido"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_pedido"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_pedido(" + pagina + ");");
                pagina_actual_pedido = pagina;

                rango_pagina_pedido = (cantidad_pedido_pag) / 5
                new_max_pag = (rango_pagina_pedido * 5) + 1
                $("#button_retrasar_pedido").removeClass("disabled");
                $("#button_avanzar_pedido").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_pedido"
                        button = "#not_button2_pedido"

                        $(page).attr("id","page" + pagina_posterior + "_pedido");
                        $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_pedido");
                        $("#page" + pagina_posterior + "_pedido").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_pedido"
                        button = "#button" + pagina_anterior + "_pedido"
                
                        $(page).attr("id","not_page1_pedido");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_pedido");
                        $("#not_page1_pedido").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_pedido"
                        button = "#button" + pagina_anterior + "_pedido"
                
                        $(page).attr("id","page1_pedido");
                        $(button).attr("onclick","cambiar_primera_pagina_pedido(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_pedido");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_pedido"
                        button = "#button" + pagina_anterior + "_pedido"
                
                        $(page).attr("id","page" + pagina_posterior + "_pedido");
                        $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_pedido");
                        
                        if (pagina_posterior == pagina_actual_pedido){
                            $("#page" + pagina_posterior + "_pedido").addClass("active");
                        }
                    }
                }
                if (rango_pagina_pedido == 1){
                    $("#button_retrasar_pedido").addClass("disabled");
                }
                else if ($("#not_page1_pedido").length > 0 && rango_pagina_pedido >= 1 && rango_pagina_pedido < 3) {
                    $("#button_retrasar_pedido").addClass("disabled");
                }
                else if (rango_pagina_pedido == Math.round(((cantidad_pedido_pag) / 5))){
                    $("#button_avanzar_pedido").addClass("disabled");
                }
                else if (rango_pagina_pedido == (cantidad_pedido_pag) / 5){
                    $("#button_avanzar_pedido").addClass("disabled");
                }
                else {
                    $("#button_retrasar_pedido").removeClass("disabled");
                    $("#button_avanzar_pedido").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_pedido(pagina){

        var origen_lead_pedido = $("#origen_lead_pedido").val();
        var respuesta_pedido = $("#respuesta_pedido").val();
        var estado_pedido = $("#estado_pedido").val();
        var asesor_pedido = $("#asesor_pedido").val();
        var sala_pedido = $("#sala_pedido").val();
        var marca_pedido = $("#marca_pedido").val();
        var modelo_pedido = $("#modelo_pedido").val();
        var desde_pedido = $("#desde_pedido").val();
        var hasta_pedido = $("#hasta_pedido").val();
        var search_pedido = $("#search_pedido").val();

        data = {}
        data.pages_pedido = pagina
        data.if_filtrar_pedido = if_filtrar_pedido
        data.pages_pedido = pagina
        data.origen_lead_pedido = origen_lead_pedido
        data.respuesta_pedido = respuesta_pedido
        data.estado_pedido = estado_pedido
        data.asesor_pedido = asesor_pedido
        data.sala_pedido = sala_pedido
        data.marca_pedido = marca_pedido
        data.modelo_pedido = modelo_pedido
        data.desde_pedido = desde_pedido
        data.hasta_pedido = hasta_pedido
        data.search_pedido = search_pedido
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableP > tbody').empty();
                max_pag = (rango_pagina_pedido * 5) + 1
                min_pag = (rango_pagina_pedido * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + lead.prospecto__apellido_paterno + lead.prospecto__apellido_materno + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.origen_lead + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td></tr>`;
                    $('#tableP > tbody').append(fila);
                })
                page = "#page" + pagina + "_pedido"
                button = "#button" + pagina + "_pedido"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_pedido"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_pedido(1);");
                pagina_actual_pedido = pagina;

                rango_pagina_pedido = 1
                new_max_pag = (rango_pagina_pedido * 5) + 1
                $("#button_avanzar_pedido").removeClass("disabled");
                $("#button_retrasar_pedido").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_pedido"
                        button = "#button" + pagina_anterior + "_pedido"

                        $(page).attr("id","page" + cantidad_pedido_pag + "_pedido");
                        $(button).attr("onclick","cambiar_ultima_pagina_pedido(" + cantidad_pedido_pag + ");");
                        $(button).text("" + cantidad_pedido_pag + "");
                        $(button).attr("id","button" + cantidad_pedido_pag + "_pedido");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_pedido"
                        button = "#button" + pagina_anterior + "_pedido"

                        $(page).attr("id","not_page2_pedido");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_pedido");
                        $("#not_page2_pedido").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_pedido"
                        button = "#not_button1_pedido"
                
                        $(page).attr("id","page2_pedido");
                        $(button).attr("onclick","cambiar_pagina_pedido(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_pedido");
                        $("#page2_pedido").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_pedido"
                        button = "#button" + pagina_anterior + "_pedido"
                
                        $(page).attr("id","page" + pagina_posterior + "_pedido");
                        $(button).attr("onclick","cambiar_pagina_pedido(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_pedido");
                        
                        if (pagina_posterior == pagina_actual_pedido){
                            $("#page" + pagina_posterior + "_pedido").addClass("active");
                        }
                    }
                }
              }
          })

    }







    var baseUrl = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
    var $tableCA = $('#tableF')

    $("#ContAsesor_OrigenIngreso").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Respuesta").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Estado").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Sala").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Asesor").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Marca").change(function () {
        getDataCA(1, 10);
    });

    $("#ContAsesor_Modelo").change(function () {
        getDataCA(1, 10);
    });

    function getDataCA(number, size) {
        var fechaIni1 = $("#ContAsesor_Desde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#ContAsesor_Hasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getContAsesor2/?off=' + number + '&size=' + size
            + '&Origen=' + $("#ContAsesor_OrigenIngreso").val()
            + '&Respuesta=' + $("#ContAsesor_Respuesta").val()
            + '&Estado=' + $("#ContAsesor_Estado").val()
            + '&Sala=' + $("#ContAsesor_Sala").val()
            + '&Asesor=' + $("#ContAsesor_Asesor").val()
            + '&Marca=' + $("#ContAsesor_Marca").val()
            + '&Modelo=' + $("#ContAsesor_Modelo").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#ContAsesor_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableCA.bootstrapTable('load', res)
            })
    }

    $(function () {
        $tableCA.on('page-change.bs.table', function (e, number, size) {
            getDataCA(number, size)
        })
        var options = $tableCA.bootstrapTable('getOptions')
        getDataCA(options.pageNumber, options.pageSize)
    })

    function exportContAsesor(params) {
        var options = $('#tableF').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function FiltrarContAsesor() {
        getDataCA(1, 10);
    }
    //function exportF(params) {
    //    var options = $('#tableF').bootstrapTable('getOptions')
    //    if (!options.pagination) {
    //        params.limit = options.totalRows
    //    }
    //    return params
    //}

    function exportT(params) {
        var options = $('#tableT').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function exportC(params) {
        var options = $('#tableC').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function FiltrarF() {
        var ini = $('#FDesde').val();
        var fin = $('#FHasta').val();

        var results = rango(ini, fin);
        //console.log("Desistidas:");
        //console.log(results);
        var array = new Array(results);
        $('#tableF').bootstrapTable('filterBy', {
            FechaIngreso: results
        })
    }

    function FiltrarT() {
        var ini = $('#TDesde').val();
        var fin = $('#THasta').val();

        var results = rango(ini, fin);
        //console.log("Concretadas:");
        //console.log(results);
        var array = new Array(results);

        $('#tableT').bootstrapTable('filterBy', {
            FechaIngreso: results
        })
    }

    function FiltrarC() {
        var ini = $('#CDesde').val();
        var fin = $('#CHasta').val();

        var results = rango(ini, fin);
        //console.log("Historial:");
        //console.log(results);
        var array = new Array(results);
        $('#tableC').bootstrapTable('filterBy', {
            FechaIngreso: results
        })
    }

    function rango(ini, fin) {
        var splitIni = ini.split('/');
        var fInicio = splitIni[1] + '/' + splitIni[0] + '/' + splitIni[2];

        var splitFin = fin.split('/');
        var fFin = splitFin[1] + '/' + splitFin[0] + '/' + splitFin[2];

        var fechaInicio = new Date(fInicio);
        var fechaFin = new Date(fFin);
        var fechas = [];

        while (fechaFin.getTime() >= fechaInicio.getTime()) {
            var dia = fechaInicio.getDate();
            var mes = (fechaInicio.getMonth() + 1);

            var d;
            var m;
            if (dia < 10)
            { d = "0" + dia; }
            else { d = dia; }

            if (mes < 10)
            { m = "0" + mes; }
            else { m = mes; }
            fechas.push(d + '/' + m + '/' + fechaInicio.getFullYear());
            fechaInicio.setDate(fechaInicio.getDate() + 1);
        }

        console.log(fechas)
        //var arreglo = fechas.join(',')
        //arreglo = "[" + arreglo + "]"
        //console.log(arreglo);
        return fechas;
    }
</script>

        <hr />
        <footer>
            <p>&copy; 2023 - Capital Network</p>
        </footer>
    </div>

    
    
    <script src="/bundles/jqueryval?v=hEGG8cMxk9p0ncdRUOJ-CnKN7NezhnPnWIvn6REucZo1"></script>


</body>
</html>
