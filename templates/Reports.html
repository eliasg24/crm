{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes - Prospectos Madiautos</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="{% static 'css/style.css' %}" rel="stylesheet"/>

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="/bundles/bootstrap?v=QtxRrbVxHAK-b5ZowWqv6Wt7oUOJAggG80vl1X-EGBM1"></script>

    <script src="/bundles/timepicker?v=SNA17wI1rMl4CP8ayG1ydmEu0eLQfZiFCqPl0hXZpd01"></script>

    <script src="/bundles/sweet?v=ZMOC4FpxSbszBSzdHGvkc9O_scCReJoQ_PgxKeHWirk1"></script>

    <script src="https://use.fontawesome.com/877bbc2081.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>

    <link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">

    <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/export/bootstrap-table-export.min.js"></script>

    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/defer-url/bootstrap-table-defer-url.min.js"></script>

    

</head>
<body style="overflow-x: hidden;">
    {% include 'nav.html' %}
    
    <div class="body-content">
        


<input name="__RequestVerificationToken" type="hidden" value="-TXw1Sm9EDQ9Fj4mDz8T0eL2-9_WTwsBvIBAQJxt0e9vFQAh6miYMkjMMBPVURSleZDlE-1daEOhBRL6lCXfK58RbnCwIZVK84Tt-uqd00w1" />    <!--container principal-->
    <div class="main-panel">
        <div class="main-content">
            <div class="content-wrapper">
                <div class="container-fluid">
                    
                        <h4 style="margin:20px;">Venta - Reportes</h4>
                        <div style="box-shadow:none;">
                            <div class="card-header border-0" style="background-color: #eee;">
                                <!--<p class="card-category">Recientes</p>-->
                                <div class="row">
                                    <div class="col" style="padding: 1px;">
                                        <div class="card-counter blue">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        {{cantidad_agendados}}
                                                        
                                                    </span>
                                                    <a href="#Capturados" style="color: #ffffff;"><span class="count-name">Capturados</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col" style="padding: 1px;">
                                        <div class="card-counter success">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_separados_y_facturados}}
                                                    </span>
                                                    <a href="#SF" style="color: #ffffff;"><span class="count-name">Separados y Facturados</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col" style="padding: 1px;">
                                        <div class="card-counter morado">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_desistidos}}
                                                    </span>
                                                    <a href="#Desistidas" style="color: #ffffff;"><span class="count-name">Desistido</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col" style="padding: 1px;">
                                        <div class="card-counter bg-warning">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_concretados}}
                                                    </span>
                                                    <a href="#Concretadas" style="color: #ffffff;"><span class="count-name">Ventas Concretadas</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col" style="padding: 1px;">
                                        <div class="card-counter aqua">
                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <i class="material-icons">announcement</i>
                                                    <span class="count-numbers">
                                                        
                                                        {{cantidad_historial}}
                                                    </span>
                                                    <a href="#HistorialAsesores" style="color: #ffffff;"><span class="count-name">Historial Asesores</span></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body border-0" style="background-color: #eee;">
                                <div class="widget-list" id="Capturados">
                                    <div id="toolbar">
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="origen_lead_capturados" name="origen_lead_capturados"><option selected="selected" value="">-- Origen Lead --</option>
                                                    {% for origen_lead in origenes_lead_agendados %}
                                                    <option value="{{origen_lead.origen_lead}}">{{origen_lead.origen_lead}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="respuesta_capturados" name="respuesta_capturados"><option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_agendados %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_capturados" name="estado_capturados"><option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_agendados %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="anfitrion_capturados" name="anfitrion_capturados"><option selected="selected" value="">-- Anfitrion --</option>
                                                    {% for nombre_anfitrion in anfitriones_agendados %}
                                                    <option value="{{nombre_anfitrion.nombre_anfitrion}}">{{nombre_anfitrion.nombre_anfitrion}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="asesor_capturados" name="asesor_capturados"><option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_agendados %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="sala_capturados" name="sala_capturados" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_agendados %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select id="verificado_capturados" name="verificado_capturados" class="form-control form-control-sm">
                                                    <option value="" selected>--Verificado--</option>
                                                    <option value="SI">SI</option>
                                                    <option value="NO">NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-1">
                                                <select class="form-control form-control-sm" id="marca_capturados" name="marca_capturados"><option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in mostrado_marcas_agendados %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-1">
                                                <select class="form-control form-control-sm" id="modelo_capturados" name="modelo_capturados"><option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in mostrado_marcas_agendados %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_capturados" id="desde_capturados" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_capturados" id="hasta_capturados" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_capturados();">Buscar</button>
                                                <button id="rCaptura" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="Capturados_Cadena" name="Capturados_Cadena">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarCapturados();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <table id="tableCapturados"
                                               {% if user.username == "admin" %}
                                                data-show-export="true"
                                                {% endif %}
                                               data-toolbar="#toolbar"
                                               data-toggle="table"
                                               data-height="1200"
                                               data-sort-class="table-active"
                                               data-sortable="true"
                                               data-show-columns="true"
                                               data-show-columns-search="true"
                                               data-lengthMenu= "[10, 25, 50, 75, 100]">
                                            <thead class="table100-head table100 ver3 blue">
                                                <tr>
                                                        <th data-field="Borrar" data-sortable="false">
                                                            Borrar
                                                        </th>
                                                    <th data-field="Detalle">Detalle</th>
                                                    <th data-field="FechaIngreso" data-sortable="true">
                                                        Fecha
                                                    </th>
                                                    <th data-field="Cliente" data-sortable="true">
                                                        Cliente
                                                    </th>
                                                    <th data-field="Telefono" data-sortable="true">Telefono</th>
                                                    <th data-field="Anfitrion" data-sortable="true">
                                                        Anfitrión
                                                    </th>
                                                    <th data-field="Campania">Campaña</th>
                                                    <th data-field="Respuesta" data-sortable="true">
                                                        Respuesta
                                                    </th>
                                                    <th data-field="Estado" data-sortable="true">
                                                        Estado
                                                    </th>
                                                    <th data-field="OrigenIngreso" data-sortable="true">
                                                        Origen de Ingreso
                                                    </th>
                                                    <th data-field="Sala" data-sortable="true">Sala</th>
                                                    <th data-field="Asesor" data-sortable="true"> Asesor </th>
                                                    <th data-field="Verificado"> Verificado </th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">
                                                {% for lead in leads_agendados %}
                                                    <tr>
                                                        <td><button id="DeleteProspecto" type="button" class="btn btn-danger" onclick="BorrarLead(54928)"><i class="large material-icons r"> cancel</i></button></td>
                                                        <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                        <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                        <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                        <td>{{lead.prospecto.celular}}</td>
                                                        <td>{{lead.nombre_anfitrion}}</td>
                                                        <td>{{lead.campania}}</td>
                                                        <td>{{lead.respuesta}}</td>
                                                        <td>{{lead.estado}}</td>
                                                        <td>{{lead.origen_lead}}</td>
                                                        <td>{{lead.sala}}</td>
                                                        <td>{{lead.nombre_asesor}}</td>
                                                        <td>{% if lead.estado_llamada_verificacion %}SI{% else %}NO{% endif %}</td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_capturados">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_capturados();">‹</button>
                                            </li>
                                            <li id="page{{pages_capturados}}_capturados" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_capturados}}_capturados" onclick="cambiar_pagina_capturados({{pages_capturados}});">{{pages_capturados}}</button>
                                            </li>
                                            <li id="page{{pages_capturados|add:1}}_capturados" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_capturados|add:1}}_capturados" onclick="cambiar_pagina_capturados({{pages_capturados|add:1}});">{{pages_capturados|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_capturados|add:2}}_capturados" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_capturados|add:2}}_capturados" onclick="cambiar_pagina_capturados({{pages_capturados|add:2}});">{{pages_capturados|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_capturados|add:3}}_capturados" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_capturados|add:3}}_capturados" onclick="cambiar_pagina_capturados({{pages_capturados|add:3}});">{{pages_capturados|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_capturados|add:4}}_capturados" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_capturados|add:4}}_capturados" onclick="cambiar_pagina_capturados({{pages_capturados|add:4}});">{{pages_capturados|add:4}}</button>
                                            </li>
                                            <li id="not_page2_capturados" class="page-item disabled">
                                                <button id="not_button2_capturados" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_capturados_pag}}_capturados" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_capturados_pag}}_capturados" onclick="cambiar_ultima_pagina_capturados({{cantidad_capturados_pag}});">{{cantidad_capturados_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_capturados">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_capturados();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="SF">
                                    <div id="toolbar2">
                                        <div class="form-row">
                                            <div class="form-group col-md-1">
                                                <select id="SF_Sala" name="SF_Sala" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_separados_y_facturados %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="SF_Asesor" name="SF_Asesor"><option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_separados_y_facturados %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="SF_Estado" name="SF_Estado"><option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_separados_y_facturados %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select id="SF_SF" class="form-control form-control-sm">
                                                    <option value="" selected>--Separado/Facturado--</option>
                                                    <option value="Separado y Facturado">Separado y Facturado</option>
                                                    <option value="Separado">Separado</option>
                                                    <option value="Facturado">Facturado</option>
                                                    <option value="N/A">N/A</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="SF_Marca" name="SF_Marca"><option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in mostrado_marcas_separados_y_facturados %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="SF_Modelo" name="SF_Modelo"><option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in mostrado_marcas_separados_y_facturados %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="SFDesde" id="SFDesde" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="SFHasta" id="SFHasta" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="FiltrarSF();">Buscar</button>
                                                <button id="rSF" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="SF_Cadena" name="SF_Cadena">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarSF();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <table id="tableSF"
                                               {% if user.username == "admin" %}
                                                data-show-export="true"
                                                {% endif %}
                                               data-toolbar="#toolbar2"
                                               data-toggle="table"
                                               data-height="1200"
                                               data-sort-class="table-active"
                                               data-sortable="true"
                                               data-show-columns="true"
                                               data-show-columns-search="true"
                                               data-lengthMenu= "[10, 25, 50, 75, 100]">
                                            <thead class="table100-head table100 ver3 success">
                                                <tr>
                                                    <th data-field="Detalle" data-sortable="false">
                                                        Detalle
                                                    </th>
                                                    <th data-field="FechaIngreso" data-sortable="true">
                                                        Fecha
                                                    </th>
                                                    <th data-field="FechaSepFac" data-sortable="true">
                                                        Fecha Separado/Facturado
                                                    </th>
                                                    <th data-field="Cliente" data-sortable="true">
                                                        Cliente
                                                    </th>
                                                    <th data-field="Telefono" data-sortable="true">Telefono</th>
                                                    <th data-field="Sala" data-sortable="true">
                                                        Sala
                                                    </th>
                                                    <th data-field="Asesor" data-sortable="true">
                                                        Asesor
                                                    </th>
                                                    <th data-field="Estado" data-sortable="true">
                                                        Estado
                                                    </th>
                                                    <th data-field="Id" data-sortable="true">
                                                        Id Vehiculo
                                                    </th>
                                                    <th data-field="Marca" data-sortable="true">
                                                        Marca
                                                    </th>
                                                    <th data-field="Modelo" data-sortable="true">
                                                        Modelo
                                                    </th>
                                                    <th data-field="Separado" data-sortable="true">
                                                        Separado/Facturado
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">
                                                {% for lead in leads_separados_y_facturados %}
                                                    <tr>
                                                        <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                        <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                        <td>{% for vehiculo in separados_y_facturados_marcas %}{% if vehiculo.lead == lead.pk %}{{vehiculo.fecha|date:'Y-m-d'}}{% endif %}{% endfor %}</td>
                                                        <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                        <td>{{lead.prospecto.celular}}</td>
                                                        <td>{{lead.sala}}</td>
                                                        <td>{{lead.nombre_asesor}}</td>
                                                        <td>{{lead.estado}}</td>
                                                        <td>{% for vehiculo in separados_y_facturados_marcas %}{% if vehiculo.lead == lead.pk %}{{vehiculo.codigo_vehiculo}}{% endif %}{% endfor %}</td>
                                                        <td>{% for vehiculo in separados_y_facturados_marcas %}{% if vehiculo.lead == lead.pk %}{{vehiculo.marca}}{% endif %}{% endfor %}</td>
                                                        <td>{% for vehiculo in separados_y_facturados_marcas %}{% if vehiculo.lead == lead.pk %}{{vehiculo.modelo}}{% endif %}{% endfor %}</td>
                                                        <td>{% if lead in leads_separados %}Separado{% elif lead in leads_facturados %}Facturado{% endif %}</td>
                                                        
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_sep_y_fac">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_sep_y_fac();">‹</button>
                                            </li>
                                            <li id="page{{pages_sep_y_fac}}_sep_y_fac" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_sep_y_fac}}_sep_y_fac" onclick="cambiar_pagina_sep_y_fac({{pages_sep_y_fac}});">{{pages_sep_y_fac}}</button>
                                            </li>
                                            <li id="page{{pages_sep_y_fac|add:1}}_sep_y_fac" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_sep_y_fac|add:1}}_sep_y_fac" onclick="cambiar_pagina_sep_y_fac({{pages_sep_y_fac|add:1}});">{{pages_sep_y_fac|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_sep_y_fac|add:2}}_sep_y_fac" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_sep_y_fac|add:2}}_sep_y_fac" onclick="cambiar_pagina_sep_y_fac({{pages_sep_y_fac|add:2}});">{{pages_sep_y_fac|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_sep_y_fac|add:3}}_sep_y_fac" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_sep_y_fac|add:3}}_sep_y_fac" onclick="cambiar_pagina_sep_y_fac({{pages_sep_y_fac|add:3}});">{{pages_sep_y_fac|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_sep_y_fac|add:4}}_sep_y_fac" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_sep_y_fac|add:4}}_sep_y_fac" onclick="cambiar_pagina_sep_y_fac({{pages_sep_y_fac|add:4}});">{{pages_sep_y_fac|add:4}}</button>
                                            </li>
                                            <li id="not_page2_sep_y_fac" class="page-item disabled">
                                                <button id="not_button2_sep_y_fac" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_sep_y_fac_pag}}_sep_y_fac" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_sep_y_fac_pag}}_sep_y_fac" onclick="cambiar_ultima_pagina_sep_y_fac({{cantidad_sep_y_fac_pag}});">{{cantidad_sep_y_fac_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_sep_y_fac">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_sep_y_fac();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="Desistidas">
                                    <div id="toolbar3">
                                        <div class="form-row">
                                            <div class="form-group col-md-2">
                                                <select id="sala_desistidos" name="sala_desistidos" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_desistidos %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="asesor_desistidos" name="asesor_desistidos"><option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_desistidos %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="estado_desistidos" name="estado_desistidos"><option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_desistidos %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="respuesta_desistidos" name="respuesta_desistidos"><option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_desistidos %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="marca_desistidos" name="marca_desistidos"><option selected="selected" value="">-- Marca --</option>
                                                    {% for marca in mostrado_marcas_desistidos %}
                                                    <option value="{{marca.marca}}">{{marca.marca}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <select class="form-control form-control-sm" id="modelo_desistidos" name="modelo_desistidos"><option selected="selected" value="">-- Modelo --</option>
                                                    {% for modelo in mostrado_marcas_desistidos %}
                                                    <option value="{{modelo.modelo}}">{{modelo.modelo}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="desde_desistidos" id="desde_desistidos" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="hasta_desistidos" id="hasta_desistidos" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="filtrar_informacion_desistidos();">Buscar</button>
                                                <button id="rDesistidas" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="Desistida_Cadena" name="Desistida_Cadena">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarDesistidas();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <table id="tableDesistidas"
                                               {% if user.username == "admin" %}
                                                data-show-export="true"
                                                {% endif %}
                                               data-toolbar="#toolbar3"
                                               data-toggle="table"
                                               data-height="800"
                                               data-sort-class="table-active"
                                               data-sortable="true"
                                               data-show-columns="true"
                                               data-show-columns-search="true"
                                               data-lengthMenu= "[10, 25, 50, 75, 100]">
                                            <thead class="table100-head table100 ver3 morado">
                                                <tr>
                                                    <th data-field="Detalle" data-sortable="false">Detalle</th>
                                                    <th data-field="FechaIngreso" data-sortable="true">Fecha</th>
                                                    <th data-field="Cliente" data-sortable="true">Cliente</th>
                                                    <th data-field="Telefono">Telefono</th>
                                                    <th data-field="Sala" data-sortable="true"> Sala </th>
                                                    <th data-field="Asesor" data-sortable="true"> Asesor </th>
                                                    <th data-field="Estado" data-sortable="true"> Estado </th>
                                                    <th data-field="Respuesta" data-sortable="true">Respuesta</th>
                                                    <th data-field="Marcas" data-sortable="true">Marcas</th>
                                                    <th data-field="Modelos" data-sortable="true">Modelos</th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">
                                                {% for lead in leads_desistidos %}
                                                    <tr>
                                                        <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                        <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                        <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                        <td>{{lead.prospecto.celular}}</td>
                                                        <td>{{lead.sala}}</td>
                                                        <td>{{lead.nombre_asesor}}</td>
                                                        <td>{{lead.estado}}</td>
                                                        <td>{{lead.respuesta}}</td>
                                                        <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.marca}}{% endif %}{% endfor %}</td>
                                                        <td>{% for mostrado in mostrado_marcas %}{% if mostrado.lead == lead.pk %}{{mostrado.modelo}}{% endif %}{% endfor %}</td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    <div class="float-right pagination" style="margin-top: 20px; vertical-align: top;
                                    display: inline-block;">
                                        <ul class="pagination">
                                            <li class="page-item disabled" id="button_retrasar_desistidos">
                                                <button class="page-link" aria-label="" onclick="retrasar_paginas_desistidos();">‹</button>
                                            </li>
                                            <li id="page{{pages_desistidos}}_desistidos" class="page-item active">
                                                <button class="page-link" aria-label="to page 1" id="button{{pages_desistidos}}_desistidos" onclick="cambiar_pagina_desistidos({{pages_desistidos}});">{{pages_desistidos}}</button>
                                            </li>
                                            <li id="page{{pages_desistidos|add:1}}_desistidos" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_desistidos|add:1}}_desistidos" onclick="cambiar_pagina_desistidos({{pages_desistidos|add:1}});">{{pages_desistidos|add:1}}</button>
                                            </li>
                                            <li id="page{{pages_desistidos|add:2}}_desistidos" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_desistidos|add:2}}_desistidos" onclick="cambiar_pagina_desistidos({{pages_desistidos|add:2}});">{{pages_desistidos|add:2}}</button>
                                            </li>
                                            <li id="page{{pages_desistidos|add:3}}_desistidos" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_desistidos|add:3}}_desistidos" onclick="cambiar_pagina_desistidos({{pages_desistidos|add:3}});">{{pages_desistidos|add:3}}</button>
                                            </li>
                                            <li id="page{{pages_desistidos|add:4}}_desistidos" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{pages_desistidos|add:4}}_desistidos" onclick="cambiar_pagina_desistidos({{pages_desistidos|add:4}});">{{pages_desistidos|add:4}}</button>
                                            </li>
                                            <li id="not_page2_desistidos" class="page-item disabled">
                                                <button id="not_button2_desistidos" class="page-link" aria-label="">...</button>
                                            </li>
                                            <li id="page{{cantidad_desistidos_pag}}_desistidos" class="page-item">
                                                <button class="page-link" aria-label="" id="button{{cantidad_desistidos_pag}}_desistidos" onclick="cambiar_ultima_pagina_desistidos({{cantidad_desistidos_pag}});">{{cantidad_desistidos_pag}}</button>
                                            </li>
                                            <li class="page-item page-next" id="button_avanzar_desistidos">
                                                <button class="page-link" aria-label="" onclick="avanzar_paginas_desistidos();">›</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="widget-list" id="Concretadas">
                                    <div id="toolbar4">
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select id="Concretada_Sala" name="Concretada_Sala" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    <option value="127">127</option>
                                                    <option value="Morato">Morato</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="Concretada_Asesor" name="Concretada_Asesor"><option selected="selected" value="">-- Asesor --</option>
<option value="Laura Martinez">Laura Martinez</option>
<option value="Escobar Salamanca Milton">Escobar Salamanca Milton</option>
<option value="Gomez Ariza Fabio">Gomez Ariza Fabio</option>
<option value="Fernandez Yobanna">Fernandez Yobanna</option>
<option value="Diana Oliveros Ramos">Diana Oliveros Ramos</option>
<option value="Duque Sebastian">Duque Sebastian</option>
<option value="Sergio Piragua">Sergio Piragua</option>
<option value="Roger Steven Rincon Cohecha">Roger Steven Rincon Cohecha</option>
<option value="Alejandro Urdaneta">Alejandro Urdaneta</option>
<option value="Diana Patricia mayorga Arevalo">Diana Patricia mayorga Arevalo</option>
<option value="Brandon Ovalle">Brandon Ovalle</option>
<option value="Sergio Andres Lombo Bastidas">Sergio Andres Lombo Bastidas</option>
<option value="Angelica Marcela Zambrano Bejarano">Angelica Marcela Zambrano Bejarano</option>
<option value="Diana Pinzon">Diana Pinzon</option>
<option value="Rodriguez Martin Bernardo Antonio">Rodriguez Martin Bernardo Antonio</option>
<option value="Luis Saenz">Luis Saenz</option>
<option value="Rodriguez Carol">Rodriguez Carol</option>
<option value="Italia Franchesca Carrasco">Italia Franchesca Carrasco</option>
<option value="Catalina Ayala Cabrera">Catalina Ayala Cabrera</option>
<option value="Jose Antonio Gallo">Jose Antonio Gallo</option>
<option value="Andres Moreno">Andres Moreno</option>
<option value="Isauro Martinez Vargas">Isauro Martinez Vargas</option>
<option value="Vargas Marisol">Vargas Marisol</option>
<option value="Alexandra Rodriguez">Alexandra Rodriguez</option>
<option value="Gonzalez Fuentes Cediel">Gonzalez Fuentes Cediel</option>
<option value="Jenifer Rojas Segura">Jenifer Rojas Segura</option>
<option value="Alvaro Vanegas">Alvaro Vanegas</option>
<option value="Miguel Bonilla">Miguel Bonilla</option>
<option value="Lopez Ortiz Diego Edison">Lopez Ortiz Diego Edison</option>
<option value=" Alvaro Vanegas"> Alvaro Vanegas</option>
<option value=""></option>
<option value="Kevin Bernal">Kevin Bernal</option>
<option value="Diego Urbano">Diego Urbano</option>
<option value="Fredy Parra Neuta">Fredy Parra Neuta</option>
<option value="Andres Arias">Andres Arias</option>
<option value="Alexander Garzon">Alexander Garzon</option>
<option value="Diego Sanchez">Diego Sanchez</option>
<option value="Diego Forero">Diego Forero</option>
<option value="Paola Petro">Paola Petro</option>
<option value="Juan David Gutierrez Serrato">Juan David Gutierrez Serrato</option>
<option value="ANDRES CRUZ">ANDRES CRUZ</option>
<option value="Jorge Ramirez">Jorge Ramirez</option>
<option value="Alexander Hernandez">Alexander Hernandez</option>
<option value="Paez Carlos">Paez Carlos</option>
<option value="Nicolas Rodriguez">Nicolas Rodriguez</option>
<option value="FABIAN OSPINA">FABIAN OSPINA</option>
<option value="Freddy Cardenas">Freddy Cardenas</option>
<option value="Juan Polania">Juan Polania</option>
<option value="Consuelo Izquierdo">Consuelo Izquierdo</option>
<option value="Melina Alba Villarreal">Melina Alba Villarreal</option>
<option value="Sandra Lizbeth Cano Garcia">Sandra Lizbeth Cano Garcia</option>
<option value="Karen Buitrago Rodríguez">Karen Buitrago Rodr&#237;guez</option>
<option value="Parra Gil Maria Dolores">Parra Gil Maria Dolores</option>
<option value="Ana Milena Carranza">Ana Milena Carranza</option>
<option value="Jaime Murcia">Jaime Murcia</option>
<option value="Javier Caicedo">Javier Caicedo</option>
<option value="David Correa">David Correa</option>
<option value="Jimenez Enrique">Jimenez Enrique</option>
<option value="Sebastian Orrego">Sebastian Orrego</option>
<option value="Gustavo Parraga">Gustavo Parraga</option>
<option value="Cesar Cruz">Cesar Cruz</option>
<option value="Miranda Quintero Angie  Paola">Miranda Quintero Angie  Paola</option>
<option value="Ximena Bayona">Ximena Bayona</option>
<option value="Bustos Cristian">Bustos Cristian</option>
<option value="Lozada Juan">Lozada Juan</option>
<option value="Sandra Isabel Pulido">Sandra Isabel Pulido</option>
<option value="Carlos Felipe Cedeño Vargas">Carlos Felipe Cede&#241;o Vargas</option>
<option value="Garcia Acero Diego Alejandro">Garcia Acero Diego Alejandro</option>
<option value="">0</option>
</select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="Concretada_Estado" name="Concretada_Estado"><option selected="selected" value="">-- Estado --</option>
<option value="Sin contactar">Sin contactar</option>
<option value="No contactado / interesado ">No contactado / interesado </option>
<option value="Seguimiento de venta usado">Seguimiento de venta usado</option>
<option value="Separación">Separaci&#243;n</option>
<option value="No contesta/seguimiento">No contesta/seguimiento</option>
<option value="N/A">N/A</option>
<option value="Capacidad de endeudamiento">Capacidad de endeudamiento</option>
<option value="Venta Finalizada ">Venta Finalizada </option>
<option value="Poder adquisitivo">Poder adquisitivo</option>
<option value="Venta y Entrega">Venta y Entrega</option>
<option value="Cliente no acepta oferta de retoma">Cliente no acepta oferta de retoma</option>
<option value="Interesado mas adelante">Interesado mas adelante</option>
<option value="Sin stock">Sin stock</option>
<option value="Seguimiento pago">Seguimiento pago</option>
<option value="Seguimiento de venta">Seguimiento de venta</option>
<option value="Ya compró">Ya compr&#243;</option>
<option value="Venta desistida">Venta desistida</option>
<option value="Datos de contacto incorrectos">Datos de contacto incorrectos</option>
<option value="Imposible contactar">Imposible contactar</option>
<option value="Alistamiento">Alistamiento</option>
<option value="Sigue proceso">Sigue proceso</option>
<option value="No interesado">No interesado</option>
<option value="Desistido">Desistido</option>
<option value="Información de vehículos nuevos">Informaci&#243;n de veh&#237;culos nuevos</option>
<option value="Vehículo ya se vendió">Veh&#237;culo ya se vendi&#243;</option>
<option value="Nunca Contactado">Nunca Contactado</option>
<option value="Contactado / Interesado">Contactado / Interesado</option>
<option value="Seguimiento venta">Seguimiento venta</option>
</select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="Concretada_Respuesta" name="Concretada_Respuesta"><option selected="selected" value="">-- Respuesta --</option>
<option value="Sin Contactar">Sin Contactar</option>
<option value="Entrega del vehiculo">Entrega del vehiculo</option>
<option value="Test drive">Test drive</option>
<option value="Niega solicitud">Niega solicitud</option>
<option value="Separación">Separaci&#243;n</option>
<option value="En otra ciudad inviable">En otra ciudad inviable</option>
<option value="No contesta/Fuera de Servicio">No contesta/Fuera de Servicio</option>
<option value="Espera de aprobacion de Credito">Espera de aprobacion de Credito</option>
<option value="Entregado">Entregado</option>
<option value="N/A">N/A</option>
<option value="Capacidad de endeudamiento">Capacidad de endeudamiento</option>
<option value="Se deja mensaje de voz">Se deja mensaje de voz</option>
<option value="Interes mediano plazo / Fecha">Interes mediano plazo / Fecha</option>
<option value="En otra ciudad posibilidad traslado">En otra ciudad posibilidad traslado</option>
<option value="Cliente no acepta oferta de retoma">Cliente no acepta oferta de retoma</option>
<option value="Cita agendada">Cita agendada</option>
<option value="Interesado mas adelante">Interesado mas adelante</option>
<option value="Asignar Asesor">Asignar Asesor</option>
<option value="No contesta / volver a llamar">No contesta / volver a llamar</option>
<option value="Alistamiento mecanico basico ">Alistamiento mecanico basico </option>
<option value="Llamada realizada">Llamada realizada</option>
<option value="Negociacion">Negociacion</option>
<option value="Cliente contactado por otro asesor">Cliente contactado por otro asesor</option>
<option value="Cliente duplicado">Cliente duplicado</option>
<option value="Ya compro">Ya compro</option>
<option value="Datos de contacto incorrectos">Datos de contacto incorrectos</option>
<option value="No esta el vh de su interes">No esta el vh de su interes</option>
<option value="Poca Capacidad de endeudamiento">Poca Capacidad de endeudamiento</option>
<option value="Agenda cita">Agenda cita</option>
<option value="Esta interesado en otro vehiculo">Esta interesado en otro vehiculo</option>
<option value="Enviar cotización/catalogo">Enviar cotizaci&#243;n/catalogo</option>
<option value="Reportado">Reportado</option>
<option value="No interesado">No interesado</option>
<option value="Desistido">Desistido</option>
<option value="Vh excede su presupuesto">Vh excede su presupuesto</option>
<option value="Mensaje enviado a whatsapp">Mensaje enviado a whatsapp</option>
<option value="Interes largo plazo / Fecha">Interes largo plazo / Fecha</option>
<option value="Informacion de vehiculos nuevos">Informacion de vehiculos nuevos</option>
<option value="Interes en vehiculo de bajo presupuesto">Interes en vehiculo de bajo presupuesto</option>
<option value="Vehiculo separado">Vehiculo separado</option>
<option value="En el momento no hay vh de interes">En el momento no hay vh de interes</option>
<option value="Marca/ Modelo no se encuntra disponible">Marca/ Modelo no se encuntra disponible</option>
<option value="Hacer una nueva llamada_ Cita // fecha">Hacer una nueva llamada_ Cita // fecha</option>
<option value="Vehículo ya se vendió">Veh&#237;culo ya se vendi&#243;</option>
<option value="Nunca Contactado">Nunca Contactado</option>
<option value="Aceptacion de documentos">Aceptacion de documentos</option>
<option value="Crédito Negado">Cr&#233;dito Negado</option>
<option value="Enviar catalogo / Informacion">Enviar catalogo / Informacion</option>
<option value="Seguimiento venta">Seguimiento venta</option>
<option value="Vehículo entregado">Veh&#237;culo entregado</option>
</select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="ConcretadaDesde" id="ConcretadaDesde" class="form-control" type="text" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="ConcretadaHasta" id="ConcretadaHasta" class="form-control" type="text" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="FiltrarConcretadas();">Buscar</button>
                                                <button id="rConcretadas" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="Concretada_Cadena" name="Concretada_Cadena">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarConcretadas();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <table id="tableConcretadas"
                                               {% if user.username == "admin" %}
                                                data-show-export="true"
                                                {% endif %}
                                               data-toolbar="#toolbar4"
                                               data-toggle="table"
                                               data-height="800"
                                               data-pagination="true"
                                               data-sort-class="table-active"
                                               data-sortable="true"
                                               data-show-columns="true"
                                               data-show-columns-search="true"
                                               data-paging= 'true'
                                               data-lengthMenu= "[10, 25, 50, 75, 100]">
                                               
                                            <thead class="table100-head table100 ver3 bg-warning">
                                                <tr>
                                                    <th data-field="Detalle">Detalle</th>
                                                    <th data-field="FechaCierre" data-sortable="true">Fecha Cierre</th>
                                                    <th data-field="FechaIngreso" data-sortable="true">Fecha Apertura</th>
                                                    <th data-field="Cliente" data-sortable="true">Cliente</th>
                                                    <th data-field="Telefono">Telefono</th>
                                                    <th data-field="Sala" data-sortable="true"> Sala </th>
                                                    <th data-field="Asesor" data-sortable="true"> Asesor </th>
                                                    <th data-field="Estado" data-sortable="true">Estado</th>
                                                    <th data-field="Respuesta" data-sortable="true">Respuesta</th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">
                                                {% for lead in leads_concretados %}
                                                    <tr>
                                                        <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                        <td></td>
                                                        <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                        <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                        <td>{{lead.prospecto.celular}}</td>
                                                        <td>{{lead.sala}}</td>
                                                        <td>{{lead.nombre_asesor}}</td>
                                                        <td>{{lead.estado}}</td>
                                                        <td>{{lead.respuesta}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                </div>

                                <div class="widget-list" id="HistorialAsesores">
                                    <div id="toolbar5">
                                        
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <select id="Historial_Sala" name="Historial_Sala" class="form-control form-control-sm">
                                                    <option value="" selected>--Sala--</option>
                                                    {% for sala in salas_agendados %}
                                                    <option value="{{sala.sala}}">{{sala.sala}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="Historial_Asesor" name="Historial_Asesor"><option selected="selected" value="">-- Asesor --</option>
                                                    {% for nombre_asesor in asesores_agendados %}
                                                    <option value="{{nombre_asesor.nombre_asesor}}">{{nombre_asesor.nombre_asesor}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="Historial_Estado" name="Historial_Estado"><option selected="selected" value="">-- Estado --</option>
                                                    {% for estado in estados_agendados %}
                                                    <option value="{{estado.estado}}">{{estado.estado}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <select class="form-control form-control-sm" id="Historial_Respuesta" name="Historial_Respuesta"><option selected="selected" value="">-- Respuesta --</option>
                                                    {% for respuesta in respuestas_agendados %}
                                                    <option value="{{respuesta.respuesta}}">{{respuesta.respuesta}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">De:</span>
                                                    </div>
                                                    <input name="HistorialDesde" id="HistorialDesde" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text" id="basic-addon1">a:</span>
                                                    </div>
                                                    <input name="HistorialHasta" id="HistorialHasta" class="form-control" type="date" autocomplete="off">
                                                </div>
                                            </div>
                                            <div class="form-group col-md3">
                                                <button id="ok" type="button" class="btn btn-primary" onclick="FiltrarHistorial();">Buscar</button>
                                                <button id="rHistorial" type="button" class="btn btn-secondary" onclick="location.reload();">Recargar página</button>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Search" id="Historial_Cadena" name="Historial_Cadena">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="FiltrarHistorial();"><i class="tiny material-icons">search</i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <table id="tableHistorial"
                                               {% if user.username == "admin" %}
                                                data-show-export="true"
                                                {% endif %}
                                               data-toolbar="#toolbar5"
                                               data-toggle="table"
                                               data-height="800"
                                               data-pagination="true"
                                               data-sort-class="table-active"
                                               data-sortable="true"
                                               data-show-columns="true"
                                               data-show-columns-search="true"
                                               data-paging= 'true'
                                               data-lengthMenu= "[10, 25, 50, 75, 100]">
                                            <thead class="table100-head table100 ver3 aqua">
                                                <tr>
                                                    <th data-field="Detalle">Detalle</th>
                                                    <th data-field="FechaUltimaAccion" data-sortable="true">Fecha Ultima Accion</th>
                                                    <th data-field="FechaIngreso" data-sortable="true">Fecha Captura</th>
                                                    <th data-field="Cliente" data-sortable="true">Cliente</th>
                                                    <th data-field="Telefono" data-sortable="true">Telefono</th>
                                                    <th data-field="Sala" data-sortable="true"> Sala </th>
                                                    <th data-field="Asesor" data-sortable="true"> Asesor </th>
                                                    <th data-field="Estado" data-sortable="true">Estado</th>
                                                    <th data-field="Respuesta" data-sortable="true">Respuesta</th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color:white;">
                                                {% for lead in leads_agendados %}
                                                    <tr>
                                                        <td><a href="{% url 'dashboards:detallenuevo' lead.pk %}">Detalle</td>
                                                        <td>{% for lead_historial in historial %}{% if lead_historial.lead == lead.pk %}{{lead_historial.fecha__max.date|date:'Y-m-d'}}{% endif %}{% endfor %}</td>
                                                        <td>{{lead.fecha_apertura.date|date:'Y-m-d'}}</td>
                                                        <td>{{lead.prospecto.nombre}} {{lead.prospecto.apellido_paterno}} {{lead.prospecto.apellido_materno}}</td>
                                                        <td>{{lead.prospecto.celular}}</td>
                                                        <td>{{lead.sala}}</td>
                                                        <td>{{lead.nombre_asesor}}</td>
                                                        <td>{{lead.estado}}</td>
                                                        <td>{{lead.respuesta}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                        
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

<script>
    $(document).ready(function () {
        $('#dtBasicExample').DataTable({
            "scrollY": "300px",
            "scrollCollapse": true,
            "paging": false
        });

        $.datetimepicker.setLocale('es');

        //$(".rangos").datetimepicker({
        //    format: 'd/m/Y',
        //    timepicker: false,
        //});

        $('#CapturaDesde').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });
        $('#CapturaHasta').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });

        $('#SFDesde').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });
        $('#SFHasta').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });

        $('#DesistidaDesde').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });
        $('#DesistidaHasta').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });

        $('#ConcretadaDesde').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });
        $('#ConcretadaHasta').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });

        $('#HistorialDesde').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });
        $('#HistorialHasta').datetimepicker({
            format: 'd/m/Y',
            timepicker: false
        });

        $("#rCaptura").click(function (event) {
            //$('#tableCapturados').bootstrapTable('refresh');
            $('#CapturaDesde').val('');
            $('#CapturaHasta').val('');
            getData(1,10);
        })

        $("#rSF").click(function (event) {
            $('#SFDesde').val('');
            $('#SFHasta').val('');
            getDataSF(1, 10);
        })

        $("#rDesistidas").click(function (event) {
            $('#DesistidaDesde').val('');
            $('#DesistidaHasta').val('');
            getDataDes(1, 10);
        })

        $("#rConcretadas").click(function (event) {
            $('#ConcretadaDesde').val('');
            $('#ConcretadaHasta').val('');
            getDataCon(1, 10);
        })

        $("#rHistorial").click(function (event) {
            $('#HistorialDesde').val('');
            $('#HistorialHasta').val('');
            getDataHis(1, 10);
        })
    });
</script>
<script>

    var if_filtrar_capturados = false;
    var rango_pagina_capturados = 1;
    var pagina_actual_capturados = 1;
    var cantidad_capturados_pag = {{cantidad_capturados_pag}};

    function filtrar_informacion_capturados(){

        var origen_lead_capturados = $("#origen_lead_capturados").val();
        var respuesta_capturados = $("#respuesta_capturados").val();
        var estado_capturados = $("#estado_capturados").val();
        var anfitrion_capturados = $("#anfitrion_capturados").val();
        var asesor_capturados = $("#asesor_capturados").val();
        var sala_capturados = $("#sala_capturados").val();
        var verificado_capturados = $("#verificado_capturados").val();
        var marca_capturados = $("#marca_capturados").val();
        var modelo_capturados = $("#modelo_capturados").val();
        var desde_capturados = $("#desde_capturados").val();
        var hasta_capturados = $("#hasta_capturados").val();

        data = {}
        data.if_filtrar_capturados = if_filtrar_capturados
        data.filtrar_capturados = true
        data.origen_lead_capturados = origen_lead_capturados
        data.respuesta_capturados = respuesta_capturados
        data.estado_capturados = estado_capturados
        data.anfitrion_capturados = anfitrion_capturados
        data.asesor_capturados = asesor_capturados
        data.sala_capturados = sala_capturados
        data.verificado_capturados = verificado_capturados
        data.marca_capturados = marca_capturados
        data.modelo_capturados = modelo_capturados
        data.desde_capturados = desde_capturados
        data.hasta_capturados = hasta_capturados

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },        
            success: function (response) {
                $('#tableCapturados > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila='<tr><td><button id="DeleteProspecto" type="button" class="btn btn-danger" onclick="BorrarLead(54928)"><i class="large material-icons r"> cancel</i></button></td>';
                            fila+=`<td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                            fila+=`<td>` + lead.campania + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.origen_lead + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td>`;
                            if (lead.estado_llamada_verificacion){
                                fila+=`<td>SI</td></tr>`;
                            }
                            else {
                                fila+=`<td>NO</td></tr>`;
                            }
                        $('#tableCapturados > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_capturados_pag + "_capturados").hide()
                        }
                        else {
                            $("#page" + cantidad_capturados_pag + "_capturados").show()
                            $("#page" + cantidad_capturados_pag + "_capturados").attr("id","page" + lead + "_capturados");
                            $("#page" + lead + "_capturados").removeClass("active");
                            $("#button" + cantidad_capturados_pag + "_capturados").attr("onclick","cambiar_ultima_pagina_capturados(" + lead + ");");
                            $("#button" + cantidad_capturados_pag + "_capturados").text(lead);
                            $("#button" + cantidad_capturados_pag + "_capturados").attr("id","button" + lead + "_capturados");
                            cantidad_capturados_pag = lead;
                        }
                    }
                })
                if_filtrar_capturados = true;
                if ($("#not_page1_capturados").length > 0){
                    max_pag = (rango_pagina_capturados * 5) + 1
                    min_pag = (rango_pagina_capturados * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_capturados"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_capturados"
                    button = "#button1_capturados"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_capturados(1);");
                    pagina_actual_capturados = 1;
                    rango_pagina_capturados = 1
                    new_max_pag = (rango_pagina_capturados * 5) + 1

                    $("#button_avanzar_capturados").removeClass("disabled");
                    $("#button_retrasar_capturados").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_capturados"
                            button = "#button" + pagina_anterior + "_capturados"

                            $(page).attr("id","page" + cantidad_capturados_pag + "_capturados");
                            $(button).attr("onclick","cambiar_ultima_pagina_capturados(" + cantidad_capturados_pag + ");");
                            $(button).text("" + cantidad_capturados_pag + "");
                            $(button).attr("id","button" + cantidad_capturados_pag + "_capturados");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_capturados"
                            button = "#button" + pagina_anterior + "_capturados"

                            $(page).attr("id","not_page2_capturados");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_capturados");
                            $("#not_page2_capturados").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_capturados"
                            button = "#not_button1_capturados"
                    
                            $(page).attr("id","page2_capturados");
                            $(button).attr("onclick","cambiar_pagina_capturados(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_capturados");
                            $("#page2_capturados").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_capturados"
                            button = "#button" + pagina_anterior + "_capturados"
                    
                            $(page).attr("id","page" + pagina_posterior + "_capturados");
                            $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_capturados");
                            
                            if (pagina_posterior == pagina_actual_capturados){
                                $("#page" + pagina_posterior + "_capturados").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_capturados * 5) + 1
                    min_pag = (rango_pagina_capturados * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_capturados"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_capturados = 1;

                    rango_pagina_capturados = 1
                    new_max_pag = (rango_pagina_capturados * 5) + 1

                    $("#button_avanzar_capturados").removeClass("disabled");
                    $("#button_retrasar_capturados").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_capturados"
                            button = "#button" + pagina_anterior + "_capturados"
                    
                            $(page).attr("id","page1_capturados");
                            $(button).attr("onclick","cambiar_pagina_capturados(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_capturados");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_capturados"
                            button = "#button" + pagina_anterior + "_capturados"
                    
                            $(page).attr("id","page" + pagina_posterior + "_capturados");
                            $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_capturados");
                            
                            if (pagina_posterior == pagina_actual_capturados){
                                $("#page" + pagina_posterior + "_capturados").addClass("active");
                            }
                        }
                    }
                    page = "#page1_capturados"
                    $(page).addClass("active");
                }
            }
          })
    }

    function retrasar_paginas_capturados(){
        max_pag = Math.round((rango_pagina_capturados * 5))
        max_pag_for = (rango_pagina_capturados * 5) + 1
        min_pag = (rango_pagina_capturados * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_capturados"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_capturados"
            button = "#button" + pagina_anterior + "_capturados"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_capturados");
            $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_capturados");

            if (pagina_posterior == pagina_actual_capturados){
                $("#page" + pagina_posterior + "_capturados").addClass("active");
            }
            
        }
        rango_pagina_capturados = parseFloat((rango_pagina_capturados - 1).toFixed(2));
        if (rango_pagina_capturados == 1){
            $("#button_retrasar_capturados").addClass("disabled");
        }
        else if ($("#not_page1_capturados").length > 0 && rango_pagina_capturados >= 1 && rango_pagina_capturados < 3) {
            $("#button_retrasar_capturados").addClass("disabled");
        }
        else if (rango_pagina_capturados == Math.round(((cantidad_capturados_pag) / 5))){
            $("#button_avanzar_capturados").addClass("disabled");
        }
        else if (rango_pagina_capturados == (cantidad_capturados_pag) / 5){
            $("#button_avanzar_capturados").addClass("disabled");
        }
        else {
            $("#button_retrasar_capturados").removeClass("disabled");
            $("#button_avanzar_capturados").removeClass("disabled");
        }
    }

    function avanzar_paginas_capturados(){
        max_pag = Math.round((rango_pagina_capturados * 5))
        max_pag_for = (rango_pagina_capturados * 5) + 1
        min_pag = (rango_pagina_capturados * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_capturados"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_capturados"
            button = "#button" + pagina_anterior + "_capturados"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_capturados");
            $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_capturados");

            if (pagina_posterior == pagina_actual_capturados){
                $("#page" + pagina_posterior + "_capturados").addClass("active");
            }

            
        }
        rango_pagina_capturados = parseFloat((rango_pagina_capturados + 1).toFixed(2));
        if (rango_pagina_capturados == 1){
            $("#button_retrasar_capturados").addClass("disabled");
        }
        else if ($("#not_page1_capturados").length > 0 && rango_pagina_capturados >= 1 && rango_pagina_capturados < 3) {
            $("#button_retrasar_capturados").addClass("disabled");
        }
        else if (rango_pagina_capturados == Math.round(((cantidad_capturados_pag) / 5))){
            $("#button_avanzar_capturados").addClass("disabled");
        }
        else if (rango_pagina_capturados == (cantidad_capturados_pag) / 5){
            $("#button_avanzar_capturados").addClass("disabled");
        }
        else {
            $("#button_retrasar_capturados").removeClass("disabled");
            $("#button_avanzar_capturados").removeClass("disabled");
        }

    }

    function cambiar_pagina_capturados(pagina){

        var origen_lead_capturados = $("#origen_lead_capturados").val();
        var respuesta_capturados = $("#respuesta_capturados").val();
        var estado_capturados = $("#estado_capturados").val();
        var anfitrion_capturados = $("#anfitrion_capturados").val();
        var asesor_capturados = $("#asesor_capturados").val();
        var sala_capturados = $("#sala_capturados").val();
        var verificado_capturados = $("#verificado_capturados").val();
        var marca_capturados = $("#marca_capturados").val();
        var modelo_capturados = $("#modelo_capturados").val();
        var desde_capturados = $("#desde_capturados").val();
        var hasta_capturados = $("#hasta_capturados").val();

        data = {}
        data.if_filtrar_capturados = if_filtrar_capturados
        data.pages_capturados = pagina
        data.origen_lead_capturados = origen_lead_capturados
        data.respuesta_capturados = respuesta_capturados
        data.estado_capturados = estado_capturados
        data.anfitrion_capturados = anfitrion_capturados
        data.asesor_capturados = asesor_capturados
        data.sala_capturados = sala_capturados
        data.verificado_capturados = verificado_capturados
        data.marca_capturados = marca_capturados
        data.modelo_capturados = modelo_capturados
        data.desde_capturados = desde_capturados
        data.hasta_capturados = hasta_capturados

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableCapturados > tbody').empty();
                max_pag = (rango_pagina_capturados * 5) + 1
                min_pag = (rango_pagina_capturados * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila='<tr><td><button id="DeleteProspecto" type="button" class="btn btn-danger" onclick="BorrarLead(54928)"><i class="large material-icons r"> cancel</i></button></td>';
                    fila+=`<td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                    fila+=`<td>` + lead.campania + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td>`;
                    if (lead.estado_llamada_verificacion){
                        fila+=`<td>SI</td></tr>`;
                    }
                    else {
                        fila+=`<td>NO</td></tr>`;
                    }
                    $('#tableCapturados > tbody').append(fila);
                })
                page = "#page" + pagina + "_capturados"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_capturados"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_capturados = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_capturados(pagina){


        var origen_lead_capturados = $("#origen_lead_capturados").val();
        var respuesta_capturados = $("#respuesta_capturados").val();
        var estado_capturados = $("#estado_capturados").val();
        var anfitrion_capturados = $("#anfitrion_capturados").val();
        var asesor_capturados = $("#asesor_capturados").val();
        var sala_capturados = $("#sala_capturados").val();
        var verificado_capturados = $("#verificado_capturados").val();
        var marca_capturados = $("#marca_capturados").val();
        var modelo_capturados = $("#modelo_capturados").val();
        var desde_capturados = $("#desde_capturados").val();
        var hasta_capturados = $("#hasta_capturados").val();

        data = {}
        data.if_filtrar_capturados = if_filtrar_capturados
        data.pages_capturados = pagina
        data.origen_lead_capturados = origen_lead_capturados
        data.respuesta_capturados = respuesta_capturados
        data.estado_capturados = estado_capturados
        data.anfitrion_capturados = anfitrion_capturados
        data.asesor_capturados = asesor_capturados
        data.sala_capturados = sala_capturados
        data.verificado_capturados = verificado_capturados
        data.marca_capturados = marca_capturados
        data.modelo_capturados = modelo_capturados
        data.desde_capturados = desde_capturados
        data.hasta_capturados = hasta_capturados

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableCapturados > tbody').empty();
                max_pag = (rango_pagina_capturados * 5) + 1
                min_pag = (rango_pagina_capturados * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila='<tr><td><button id="DeleteProspecto" type="button" class="btn btn-danger" onclick="BorrarLead(54928)"><i class="large material-icons r"> cancel</i></button></td>';
                    fila+=`<td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                    fila+=`<td>` + lead.campania + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td>`;
                    if (lead.estado_llamada_verificacion){
                        fila+=`<td>SI</td></tr>`;
                    }
                    else {
                        fila+=`<td>NO</td></tr>`;
                    }
                    $('#tableCapturados > tbody').append(fila);
                })
                page = "#page" + pagina + "_capturados"
                button = "#button" + pagina + "_capturados"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_capturados"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_capturados(" + pagina + ");");
                pagina_actual_capturados = pagina;

                rango_pagina_capturados = (cantidad_capturados_pag) / 5
                new_max_pag = (rango_pagina_capturados * 5) + 1
                $("#button_retrasar_capturados").removeClass("disabled");
                $("#button_avanzar_capturados").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_capturados"
                        button = "#not_button2_capturados"

                        $(page).attr("id","page" + pagina_posterior + "_capturados");
                        $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_capturados");
                        $("#page" + pagina_posterior + "_capturados").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_capturados"
                        button = "#button" + pagina_anterior + "_capturados"
                
                        $(page).attr("id","not_page1_capturados");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_capturados");
                        $("#not_page1_capturados").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_capturados"
                        button = "#button" + pagina_anterior + "_capturados"
                
                        $(page).attr("id","page1_capturados");
                        $(button).attr("onclick","cambiar_primera_pagina_capturados(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_capturados");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_capturados"
                        button = "#button" + pagina_anterior + "_capturados"
                
                        $(page).attr("id","page" + pagina_posterior + "_capturados");
                        $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_capturados");
                        
                        if (pagina_posterior == pagina_actual_capturados){
                            $("#page" + pagina_posterior + "_capturados").addClass("active");
                        }
                    }
                }
                if (rango_pagina_capturados == 1){
                    $("#button_retrasar_capturados").addClass("disabled");
                }
                else if ($("#not_page1_capturados").length > 0 && rango_pagina_capturados >= 1 && rango_pagina_capturados < 3) {
                    $("#button_retrasar_capturados").addClass("disabled");
                }
                else if (rango_pagina_capturados == Math.round(((cantidad_capturados_pag) / 5))){
                    $("#button_avanzar_capturados").addClass("disabled");
                }
                else if (rango_pagina_capturados == (cantidad_capturados_pag) / 5){
                    $("#button_avanzar_capturados").addClass("disabled");
                }
                else {
                    $("#button_retrasar_capturados").removeClass("disabled");
                    $("#button_avanzar_capturados").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_capturados(pagina){

        var origen_lead_capturados = $("#origen_lead_capturados").val();
        var respuesta_capturados = $("#respuesta_capturados").val();
        var estado_capturados = $("#estado_capturados").val();
        var anfitrion_capturados = $("#anfitrion_capturados").val();
        var asesor_capturados = $("#asesor_capturados").val();
        var sala_capturados = $("#sala_capturados").val();
        var verificado_capturados = $("#verificado_capturados").val();
        var marca_capturados = $("#marca_capturados").val();
        var modelo_capturados = $("#modelo_capturados").val();
        var desde_capturados = $("#desde_capturados").val();
        var hasta_capturados = $("#hasta_capturados").val();

        data = {}
        data.if_filtrar_capturados = if_filtrar_capturados
        data.pages_capturados = pagina
        data.origen_lead_capturados = origen_lead_capturados
        data.respuesta_capturados = respuesta_capturados
        data.estado_capturados = estado_capturados
        data.anfitrion_capturados = anfitrion_capturados
        data.asesor_capturados = asesor_capturados
        data.sala_capturados = sala_capturados
        data.verificado_capturados = verificado_capturados
        data.marca_capturados = marca_capturados
        data.modelo_capturados = modelo_capturados
        data.desde_capturados = desde_capturados
        data.hasta_capturados = hasta_capturados

        data = {}
        data.pages_capturados = pagina
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableCapturados > tbody').empty();
                max_pag = (rango_pagina_capturados * 5) + 1
                min_pag = (rango_pagina_capturados * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila='<tr><td><button id="DeleteProspecto" type="button" class="btn btn-danger" onclick="BorrarLead(54928)"><i class="large material-icons r"> cancel</i></button></td>';
                    fila+=`<td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.nombre_anfitrion + `</td>`;
                    fila+=`<td>` + lead.campania + `</td>`;
                    fila+=`<td>` + lead.respuesta + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>` + lead.origen_lead + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td>`;
                    if (lead.estado_llamada_verificacion){
                        fila+=`<td>SI</td></tr>`;
                    }
                    else {
                        fila+=`<td>NO</td></tr>`;
                    }
                    $('#tableCapturados > tbody').append(fila);
                })
                page = "#page" + pagina + "_capturados"
                button = "#button" + pagina + "_capturados"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_capturados"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_capturados(1);");
                pagina_actual_capturados = pagina;

                rango_pagina_capturados = 1
                new_max_pag = (rango_pagina_capturados * 5) + 1
                console.log("max_pag")
                console.log(max_pag)
                console.log(new_max_pag)
                $("#button_avanzar_capturados").removeClass("disabled");
                $("#button_retrasar_capturados").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_capturados"
                        button = "#button" + pagina_anterior + "_capturados"

                        $(page).attr("id","page" + cantidad_capturados_pag + "_capturados");
                        $(button).attr("onclick","cambiar_ultima_pagina_capturados(" + cantidad_capturados_pag + ");");
                        $(button).text("" + cantidad_capturados_pag + "");
                        $(button).attr("id","button" + cantidad_capturados_pag + "_capturados");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_capturados"
                        button = "#button" + pagina_anterior + "_capturados"

                        $(page).attr("id","not_page2_capturados");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_capturados");
                        $("#not_page2_capturados").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_capturados"
                        button = "#not_button1_capturados"
                
                        $(page).attr("id","page2_capturados");
                        $(button).attr("onclick","cambiar_pagina_capturados(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_capturados");
                        $("#page2_capturados").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_capturados"
                        button = "#button" + pagina_anterior + "_capturados"

                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log(pagina_posterior)
                
                        $(page).attr("id","page" + pagina_posterior + "_capturados");
                        $(button).attr("onclick","cambiar_pagina_capturados(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_capturados");
                        
                        if (pagina_posterior == pagina_actual_capturados){
                            $("#page" + pagina_posterior + "_capturados").addClass("active");
                        }
                    }
                }
              }
          })

    }




























    var rango_pagina_sep_y_fac = 1
    var pagina_actual_sep_y_fac = 1

    function retrasar_paginas_sep_y_fac(){
        max_pag = rango_pagina_sep_y_fac * 5
        max_pag_for = (rango_pagina_sep_y_fac * 5) + 1
        min_pag = (rango_pagina_sep_y_fac * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_sep_y_fac"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_sep_y_fac"
            button = "#button" + pagina_anterior + "_sep_y_fac"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_sep_y_fac");
            $(button).attr("onclick","cambiar_pagina_sep_y_fac(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_sep_y_fac");

            if (pagina_posterior == pagina_actual_sep_y_fac){
                $("#page" + pagina_posterior + "_sep_y_fac").addClass("active");
            }
            
        }
        rango_pagina_sep_y_fac = rango_pagina_sep_y_fac - 1
        if (rango_pagina_sep_y_fac == 1){
            $("#button_retrasar_sep_y_fac").addClass("disabled");
        }
        else if (rango_pagina_sep_y_fac == parseInt(({{cantidad_sep_y_fac_pag}}) / 5)){
            $("#button_avanzar_sep_y_fac").addClass("disabled");
        }
        else if (rango_pagina_sep_y_fac == ({{cantidad_sep_y_fac_pag}}) / 5){
            $("#button_avanzar_sep_y_fac").addClass("disabled");
        }
        else {
            $("#button_retrasar_sep_y_fac").removeClass("disabled");
            $("#button_avanzar_sep_y_fac").removeClass("disabled");
        }
    }

    function avanzar_paginas_sep_y_fac(){
        max_pag = rango_pagina_sep_y_fac * 5
        max_pag_for = (rango_pagina_sep_y_fac * 5) + 1
        min_pag = (rango_pagina_sep_y_fac * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_sep_y_fac"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_sep_y_fac"
            button = "#button" + pagina_anterior + "_sep_y_fac"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_sep_y_fac");
            $(button).attr("onclick","cambiar_pagina_sep_y_fac(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_sep_y_fac");

            if (pagina_posterior == pagina_actual_sep_y_fac){
                $("#page" + pagina_posterior + "_sep_y_fac").addClass("active");
            }

            
        }
        rango_pagina_sep_y_fac = rango_pagina_sep_y_fac + 1
        if (rango_pagina_sep_y_fac == 1){
            $("#button_retrasar_sep_y_fac").addClass("disabled");
        }
        else if (rango_pagina_sep_y_fac == parseInt(({{cantidad_sep_y_fac_pag}}) / 5)){
            $("#button_avanzar_sep_y_fac").addClass("disabled");
        }
        else if (rango_pagina_sep_y_fac == ({{cantidad_sep_y_fac_pag}}) / 5){
            $("#button_avanzar_sep_y_fac").addClass("disabled");
        }
        else {
            $("#button_retrasar_sep_y_fac").removeClass("disabled");
            $("#button_avanzar_sep_y_fac").removeClass("disabled");
        }

    }

    function cambiar_pagina_sep_y_fac(pagina){

        data = {}
        data.pages_sep_y_fac = pagina
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableSF > tbody').empty();
                max_pag = (rango_pagina_sep_y_fac * 5) + 1
                min_pag = (rango_pagina_sep_y_fac * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                    fila+=`<td>` + fecha_apertura + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                    fila+=`<td>` + lead.prospecto__celular + `</td>`;
                    fila+=`<td>` + lead.sala + `</td>`;
                    fila+=`<td>` + lead.nombre_asesor + `</td>`;
                    fila+=`<td>` + lead.estado + `</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td>`;
                    fila+=`<td>null</td></tr>`;
                    $('#tableSF > tbody').append(fila);
                })
                page = "#page" + pagina + "_sep_y_fac"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_sep_y_fac"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_sep_y_fac = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_sep_y_fac(pagina){

        data = {}
        data.pages_sep_y_fac = pagina
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableSF > tbody').empty();
                max_pag = (rango_pagina_sep_y_fac * 5) + 1
                min_pag = (rango_pagina_sep_y_fac * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td></tr>`;
                    $('#tableSF > tbody').append(fila);
                })
                page = "#page" + pagina + "_sep_y_fac"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_sep_y_fac"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_sep_y_fac = pagina;

                rango_pagina_sep_y_fac = ({{cantidad_sep_y_fac_pag}}) / 5
                new_max_pag = (rango_pagina_sep_y_fac * 5) + 1
                $("#button_retrasar_sep_y_fac").removeClass("disabled");
                $("#button_avanzar_sep_y_fac").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#not_page2_sep_y_fac"
                        button = "#not_button2_sep_y_fac"

                        $(page).attr("id","page" + pagina_posterior + "_sep_y_fac");
                        $(button).attr("onclick","cambiar_pagina_sep_y_fac(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_sep_y_fac");
                        $("#page" + pagina_posterior + "_sep_y_fac").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_sep_y_fac"
                        button = "#button" + pagina_anterior + "_sep_y_fac"
                
                        $(page).attr("id","not_page1_sep_y_fac");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_sep_y_fac");
                        $("#not_page1_sep_y_fac").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_sep_y_fac"
                        button = "#button" + pagina_anterior + "_sep_y_fac"
                
                        $(page).attr("id","page1_sep_y_fac");
                        $(button).attr("onclick","cambiar_primera_pagina_sep_y_fac(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_sep_y_fac");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_sep_y_fac"
                        button = "#button" + pagina_anterior + "_sep_y_fac"
                
                        $(page).attr("id","page" + pagina_posterior + "_sep_y_fac");
                        $(button).attr("onclick","cambiar_pagina_sep_y_fac(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_sep_y_fac");
                        
                        if (pagina_posterior == pagina_actual_sep_y_fac){
                            $("#page" + pagina_posterior + "_sep_y_fac").addClass("active");
                        }
                    }
                }
              }
          })

    }

    function cambiar_primera_pagina_sep_y_fac(pagina){

        data = {}
        data.pages_sep_y_fac = pagina
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableSF > tbody').empty();
                max_pag = (rango_pagina_sep_y_fac * 5) + 1
                min_pag = (rango_pagina_sep_y_fac * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td></tr>`;
                    $('#tableSF > tbody').append(fila);
                })
                page = "#page" + pagina + "_sep_y_fac"
                button = "#button" + pagina + "_sep_y_fac"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_sep_y_fac"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_sep_y_fac(1);");
                pagina_actual_sep_y_fac = pagina;

                rango_pagina_sep_y_fac = 1
                new_max_pag = (rango_pagina_sep_y_fac * 5) + 1
                $("#button_avanzar_sep_y_fac").removeClass("disabled");
                $("#button_retrasar_sep_y_fac").addClass("disabled");
                for (var i=0; i < 7; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    console.log("i")
                    console.log(i)
                    console.log("pagina_anterior")
                    console.log(pagina_anterior)
                    console.log("pagina_posterior")
                    console.log(pagina_posterior)
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_sep_y_fac"
                        button = "#button" + pagina_anterior + "_sep_y_fac"

                        $(page).attr("id","page{{cantidad_sep_y_fac_pag}}_sep_y_fac");
                        $(button).attr("onclick","cambiar_ultima_pagina_sep_y_fac({{cantidad_sep_y_fac_pag}});");
                        $(button).text("{{cantidad_sep_y_fac_pag}}");
                        $(button).attr("id","button{{cantidad_sep_y_fac_pag}}_sep_y_fac");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_sep_y_fac"
                        button = "#button" + pagina_anterior + "_sep_y_fac"

                        $(page).attr("id","not_page2_sep_y_fac");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_sep_y_fac");
                        $("#not_page2_sep_y_fac").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_sep_y_fac"
                        button = "#not_button1_sep_y_fac"
                
                        $(page).attr("id","page2_sep_y_fac");
                        $(button).attr("onclick","cambiar_pagina_sep_y_fac(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_sep_y_fac");
                        $("#page2_sep_y_fac").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_sep_y_fac"
                        button = "#button" + pagina_anterior + "_sep_y_fac"
                
                        $(page).attr("id","page" + pagina_posterior + "_sep_y_fac");
                        $(button).attr("onclick","cambiar_pagina_sep_y_fac(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_sep_y_fac");
                        
                        if (pagina_posterior == pagina_actual_sep_y_fac){
                            $("#page" + pagina_posterior + "_sep_y_fac").addClass("active");
                        }
                    }
                }
              }
          })

    }
















    var if_filtrar_desistidos = false;
    var rango_pagina_desistidos = 1;
    var pagina_actual_desistidos = 1;
    var cantidad_desistidos_pag = {{cantidad_desistidos_pag}};

    function filtrar_informacion_desistidos(){

        var sala_desistidos = $("#sala_desistidos").val();
        var asesor_desistidos = $("#asesor_desistidos").val();
        var estado_desistidos = $("#estado_desistidos").val();
        var respuesta_desistidos = $("#respuesta_desistidos").val();
        var marca_desistidos = $("#marca_desistidos").val();
        var modelo_desistidos = $("#modelo_desistidos").val();
        var desde_desistidos = $("#desde_desistidos").val();
        var hasta_desistidos = $("#hasta_desistidos").val();

        data = {}
        data.if_filtrar_desistidos = if_filtrar_desistidos
        data.filtrar_desistidos = true
        data.respuesta_desistidos = respuesta_desistidos
        data.estado_desistidos = estado_desistidos
        data.asesor_desistidos = asesor_desistidos
        data.sala_desistidos = sala_desistidos
        data.marca_desistidos = marca_desistidos
        data.modelo_desistidos = modelo_desistidos
        data.desde_desistidos = desde_desistidos
        data.hasta_desistidos = hasta_desistidos

        console.log(data)

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },        
            success: function (response) {
                $('#tableDesistidas > tbody').empty();

                $(response).each(function (index, lead) {
                    if(isNaN(lead)){
                        var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                        var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                            fila+=`<td>` + fecha_apertura + `</td>`;
                            fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                            fila+=`<td>` + lead.prospecto__celular + `</td>`;
                            fila+=`<td>` + lead.sala + `</td>`;
                            fila+=`<td>` + lead.nombre_asesor + `</td>`;
                            fila+=`<td>` + lead.estado + `</td>`;
                            fila+=`<td>` + lead.respuesta + `</td>`;
                            fila+=`<td>null</td>`;
                            fila+=`<td>null</td>`;
                        $('#tableDesistidas > tbody').append(fila);
                    }
                    else {
                        if (lead >= 1 && lead <= 5){
                            $("#page" + cantidad_desistidos_pag + "_desistidos").hide()
                        }
                        else {
                            $("#page" + cantidad_desistidos_pag + "_desistidos").show()
                            $("#page" + cantidad_desistidos_pag + "_desistidos").attr("id","page" + lead + "_desistidos");
                            $("#page" + lead + "_desistidos").removeClass("active");
                            $("#button" + cantidad_desistidos_pag + "_desistidos").attr("onclick","cambiar_ultima_pagina_desistidos(" + lead + ");");
                            $("#button" + cantidad_desistidos_pag + "_desistidos").text(lead);
                            $("#button" + cantidad_desistidos_pag + "_desistidos").attr("id","button" + lead + "_desistidos");
                            cantidad_desistidos_pag = lead;
                        }
                    }
                })
                if_filtrar_desistidos = true;
                if ($("#not_page1_desistidos").length > 0){
                    max_pag = (rango_pagina_desistidos * 5) + 1
                    min_pag = (rango_pagina_desistidos * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        console.log("max_pag_real")
                        console.log(max_pag)
                        console.log(min_pag)
                        remove_page = "#page" + i + "_desistidos"
                        $(remove_page).removeClass("active");
                    }
                    page = "#page1_desistidos"
                    button = "#button1_desistidos"
                    $(page).addClass("active");
                    $(button).attr("onclick","cambiar_pagina_desistidos(1);");
                    pagina_actual_desistidos = 1;
                    rango_pagina_desistidos = 1
                    new_max_pag = (rango_pagina_desistidos * 5) + 1

                    $("#button_avanzar_desistidos").removeClass("disabled");
                    $("#button_retrasar_desistidos").addClass("disabled");
                    for (var i=0; i < 7; i++){
                        pagina_anterior = max_pag - i - 1
                        pagina_posterior = new_max_pag - i + 1
                        if (i == 0) {
                            page = "#page" + pagina_anterior + "_desistidos"
                            button = "#button" + pagina_anterior + "_desistidos"

                            $(page).attr("id","page" + cantidad_desistidos_pag + "_desistidos");
                            $(button).attr("onclick","cambiar_ultima_pagina_desistidos(" + cantidad_desistidos_pag + ");");
                            $(button).text("" + cantidad_desistidos_pag + "");
                            $(button).attr("id","button" + cantidad_desistidos_pag + "_desistidos");

                        }
                        else if (i == 1) {
                            page = "#page" + pagina_anterior + "_desistidos"
                            button = "#button" + pagina_anterior + "_desistidos"

                            $(page).attr("id","not_page2_desistidos");
                            $(button).attr("onclick","");
                            $(button).text("...");
                            $(button).attr("id","not_button2_desistidos");
                            $("#not_page2_desistidos").addClass("disabled");
                        }
                        else if (i == 5) {
                            page = "#not_page1_desistidos"
                            button = "#not_button1_desistidos"
                    
                            $(page).attr("id","page2_desistidos");
                            $(button).attr("onclick","cambiar_pagina_desistidos(2);");
                            $(button).text("2");
                            $(button).attr("id","button2_desistidos");
                            $("#page2_desistidos").removeClass("disabled");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_desistidos"
                            button = "#button" + pagina_anterior + "_desistidos"
                    
                            $(page).attr("id","page" + pagina_posterior + "_desistidos");
                            $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_desistidos");
                            
                            if (pagina_posterior == pagina_actual_desistidos){
                                $("#page" + pagina_posterior + "_desistidos").addClass("active");
                            }
                        }
                    }

                }
                else {
                    max_pag = (rango_pagina_desistidos * 5) + 1
                    min_pag = (rango_pagina_desistidos * 5) - 4
                    for (var i=min_pag; i < max_pag; i++){
                        remove_page = "#page" + i + "_desistidos"
                        $(remove_page).removeClass("active");
                    }
                    
                    pagina_actual_desistidos = 1;

                    rango_pagina_desistidos = 1
                    new_max_pag = (rango_pagina_desistidos * 5) + 1

                    $("#button_avanzar_desistidos").removeClass("disabled");
                    $("#button_retrasar_desistidos").addClass("disabled");
                    for (var i=1; i < 6; i++){
                        pagina_anterior = max_pag - i
                        pagina_posterior = new_max_pag - i
                        console.log("i")
                        console.log(i)
                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log("pagina_posterior")
                        console.log(pagina_posterior)
                        
                        if (i == 5) {
                            page = "#page" + pagina_anterior + "_desistidos"
                            button = "#button" + pagina_anterior + "_desistidos"
                    
                            $(page).attr("id","page1_desistidos");
                            $(button).attr("onclick","cambiar_pagina_desistidos(1);");
                            $(button).text("1");
                            $(button).attr("id","button1_desistidos");
                        }
                        else {
                            page = "#page" + pagina_anterior + "_desistidos"
                            button = "#button" + pagina_anterior + "_desistidos"
                    
                            $(page).attr("id","page" + pagina_posterior + "_desistidos");
                            $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
                            $(button).text(pagina_posterior);
                            $(button).attr("id","button" + pagina_posterior + "_desistidos");
                            
                            if (pagina_posterior == pagina_actual_desistidos){
                                $("#page" + pagina_posterior + "_desistidos").addClass("active");
                            }
                        }
                    }
                    page = "#page1_desistidos"
                    $(page).addClass("active");
                }
            }
          })
    }

    function retrasar_paginas_desistidos(){
        max_pag = Math.round((rango_pagina_desistidos * 5))
        max_pag_for = (rango_pagina_desistidos * 5) + 1
        min_pag = (rango_pagina_desistidos * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_desistidos"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior - 5
            page = "#page" + pagina_anterior + "_desistidos"
            button = "#button" + pagina_anterior + "_desistidos"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_desistidos");
            $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_desistidos");

            if (pagina_posterior == pagina_actual_desistidos){
                $("#page" + pagina_posterior + "_desistidos").addClass("active");
            }
            
        }
        rango_pagina_desistidos = parseFloat((rango_pagina_desistidos - 1).toFixed(2));
        if (rango_pagina_desistidos == 1){
            $("#button_retrasar_desistidos").addClass("disabled");
        }
        else if ($("#not_page1_desistidos").length > 0 && rango_pagina_desistidos >= 1 && rango_pagina_desistidos < 3) {
            $("#button_retrasar_desistidos").addClass("disabled");
        }
        else if (rango_pagina_desistidos == Math.round(((cantidad_desistidos_pag) / 5))){
            $("#button_avanzar_desistidos").addClass("disabled");
        }
        else if (rango_pagina_desistidos == (cantidad_desistidos_pag) / 5){
            $("#button_avanzar_desistidos").addClass("disabled");
        }
        else {
            $("#button_retrasar_desistidos").removeClass("disabled");
            $("#button_avanzar_desistidos").removeClass("disabled");
        }
    }

    function avanzar_paginas_desistidos(){
        max_pag = Math.round((rango_pagina_desistidos * 5))
        max_pag_for = (rango_pagina_desistidos * 5) + 1
        min_pag = (rango_pagina_desistidos * 5) - 4
        for (var i=min_pag; i < max_pag_for; i++){
            remove_page = "#page" + i + "_desistidos"
            $(remove_page).removeClass("active");

        }

        for (var i=0; i < 5; i++){
            pagina_anterior = max_pag - i
            pagina_posterior = pagina_anterior + 5
            page = "#page" + pagina_anterior + "_desistidos"
            button = "#button" + pagina_anterior + "_desistidos"

            console.log(pagina_anterior)
            console.log(pagina_posterior)
            console.log(page)

            $(page).attr("id","page" + pagina_posterior + "_desistidos");
            $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
            $(button).text(pagina_posterior);
            $(button).attr("id","button" + pagina_posterior + "_desistidos");

            if (pagina_posterior == pagina_actual_desistidos){
                $("#page" + pagina_posterior + "_desistidos").addClass("active");
            }

            
        }
        rango_pagina_desistidos = parseFloat((rango_pagina_desistidos + 1).toFixed(2));
        if (rango_pagina_desistidos == 1){
            $("#button_retrasar_desistidos").addClass("disabled");
        }
        else if ($("#not_page1_desistidos").length > 0 && rango_pagina_desistidos >= 1 && rango_pagina_desistidos < 3) {
            $("#button_retrasar_desistidos").addClass("disabled");
        }
        else if (rango_pagina_desistidos == Math.round(((cantidad_desistidos_pag) / 5))){
            $("#button_avanzar_desistidos").addClass("disabled");
        }
        else if (rango_pagina_desistidos == (cantidad_desistidos_pag) / 5){
            $("#button_avanzar_desistidos").addClass("disabled");
        }
        else {
            $("#button_retrasar_desistidos").removeClass("disabled");
            $("#button_avanzar_desistidos").removeClass("disabled");
        }

    }

    function cambiar_pagina_desistidos(pagina){

        var origen_lead_desistidos = $("#origen_lead_desistidos").val();
        var respuesta_desistidos = $("#respuesta_desistidos").val();
        var estado_desistidos = $("#estado_desistidos").val();
        var anfitrion_desistidos = $("#anfitrion_desistidos").val();
        var asesor_desistidos = $("#asesor_desistidos").val();
        var sala_desistidos = $("#sala_desistidos").val();
        var verificado_desistidos = $("#verificado_desistidos").val();
        var marca_desistidos = $("#marca_desistidos").val();
        var modelo_desistidos = $("#modelo_desistidos").val();
        var desde_desistidos = $("#desde_desistidos").val();
        var hasta_desistidos = $("#hasta_desistidos").val();

        data = {}
        data.if_filtrar_desistidos = if_filtrar_desistidos
        data.pages_desistidos = pagina
        data.origen_lead_desistidos = origen_lead_desistidos
        data.respuesta_desistidos = respuesta_desistidos
        data.estado_desistidos = estado_desistidos
        data.anfitrion_desistidos = anfitrion_desistidos
        data.asesor_desistidos = asesor_desistidos
        data.sala_desistidos = sala_desistidos
        data.verificado_desistidos = verificado_desistidos
        data.marca_desistidos = marca_desistidos
        data.modelo_desistidos = modelo_desistidos
        data.desde_desistidos = desde_desistidos
        data.hasta_desistidos = hasta_desistidos

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                console.log("response")
                console.log(response)
                $('#tableDesistidas > tbody').empty();
                max_pag = (rango_pagina_desistidos * 5) + 1
                min_pag = (rango_pagina_desistidos * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                    $('#tableDesistidas > tbody').append(fila);
                })
                page = "#page" + pagina + "_desistidos"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_desistidos"
                    console.log("remove_page")
                    console.log(remove_page)
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                pagina_actual_desistidos = pagina;
              }
          })
    }

    function cambiar_ultima_pagina_desistidos(pagina){


        var origen_lead_desistidos = $("#origen_lead_desistidos").val();
        var respuesta_desistidos = $("#respuesta_desistidos").val();
        var estado_desistidos = $("#estado_desistidos").val();
        var anfitrion_desistidos = $("#anfitrion_desistidos").val();
        var asesor_desistidos = $("#asesor_desistidos").val();
        var sala_desistidos = $("#sala_desistidos").val();
        var verificado_desistidos = $("#verificado_desistidos").val();
        var marca_desistidos = $("#marca_desistidos").val();
        var modelo_desistidos = $("#modelo_desistidos").val();
        var desde_desistidos = $("#desde_desistidos").val();
        var hasta_desistidos = $("#hasta_desistidos").val();

        data = {}
        data.if_filtrar_desistidos = if_filtrar_desistidos
        data.pages_desistidos = pagina
        data.origen_lead_desistidos = origen_lead_desistidos
        data.respuesta_desistidos = respuesta_desistidos
        data.estado_desistidos = estado_desistidos
        data.anfitrion_desistidos = anfitrion_desistidos
        data.asesor_desistidos = asesor_desistidos
        data.sala_desistidos = sala_desistidos
        data.verificado_desistidos = verificado_desistidos
        data.marca_desistidos = marca_desistidos
        data.modelo_desistidos = modelo_desistidos
        data.desde_desistidos = desde_desistidos
        data.hasta_desistidos = hasta_desistidos

        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableDesistidas > tbody').empty();
                max_pag = (rango_pagina_desistidos * 5) + 1
                min_pag = (rango_pagina_desistidos * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                    $('#tableDesistidas > tbody').append(fila);
                })
                page = "#page" + pagina + "_desistidos"
                button = "#button" + pagina + "_desistidos"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_desistidos"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina + ");");
                pagina_actual_desistidos = pagina;

                rango_pagina_desistidos = (cantidad_desistidos_pag) / 5
                new_max_pag = (rango_pagina_desistidos * 5) + 1
                $("#button_retrasar_desistidos").removeClass("disabled");
                $("#button_avanzar_desistidos").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i
                    pagina_posterior = new_max_pag - i - 2
                    if (i == 0) {
                        page = "#not_page2_desistidos"
                        button = "#not_button2_desistidos"

                        $(page).attr("id","page" + pagina_posterior + "_desistidos");
                        $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_desistidos");
                        $("#page" + pagina_posterior + "_desistidos").removeClass("disabled");
                    }
                    else if (i == 4) {
                        page = "#page" + pagina_anterior + "_desistidos"
                        button = "#button" + pagina_anterior + "_desistidos"
                
                        $(page).attr("id","not_page1_desistidos");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button1_desistidos");
                        $("#not_page1_desistidos").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#page" + pagina_anterior + "_desistidos"
                        button = "#button" + pagina_anterior + "_desistidos"
                
                        $(page).attr("id","page1_desistidos");
                        $(button).attr("onclick","cambiar_primera_pagina_desistidos(1);");
                        $(button).text("1");
                        $(button).attr("id","button1_desistidos");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_desistidos"
                        button = "#button" + pagina_anterior + "_desistidos"
                
                        $(page).attr("id","page" + pagina_posterior + "_desistidos");
                        $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_desistidos");
                        
                        if (pagina_posterior == pagina_actual_desistidos){
                            $("#page" + pagina_posterior + "_desistidos").addClass("active");
                        }
                    }
                }
                if (rango_pagina_desistidos == 1){
                    $("#button_retrasar_desistidos").addClass("disabled");
                }
                else if ($("#not_page1_desistidos").length > 0 && rango_pagina_desistidos >= 1 && rango_pagina_desistidos < 3) {
                    $("#button_retrasar_desistidos").addClass("disabled");
                }
                else if (rango_pagina_desistidos == Math.round(((cantidad_desistidos_pag) / 5))){
                    $("#button_avanzar_desistidos").addClass("disabled");
                }
                else if (rango_pagina_desistidos == (cantidad_desistidos_pag) / 5){
                    $("#button_avanzar_desistidos").addClass("disabled");
                }
                else {
                    $("#button_retrasar_desistidos").removeClass("disabled");
                    $("#button_avanzar_desistidos").removeClass("disabled");
                }
              }
          })

    }

    function cambiar_primera_pagina_desistidos(pagina){

        var origen_lead_desistidos = $("#origen_lead_desistidos").val();
        var respuesta_desistidos = $("#respuesta_desistidos").val();
        var estado_desistidos = $("#estado_desistidos").val();
        var anfitrion_desistidos = $("#anfitrion_desistidos").val();
        var asesor_desistidos = $("#asesor_desistidos").val();
        var sala_desistidos = $("#sala_desistidos").val();
        var verificado_desistidos = $("#verificado_desistidos").val();
        var marca_desistidos = $("#marca_desistidos").val();
        var modelo_desistidos = $("#modelo_desistidos").val();
        var desde_desistidos = $("#desde_desistidos").val();
        var hasta_desistidos = $("#hasta_desistidos").val();

        data = {}
        data.if_filtrar_desistidos = if_filtrar_desistidos
        data.pages_desistidos = pagina
        data.origen_lead_desistidos = origen_lead_desistidos
        data.respuesta_desistidos = respuesta_desistidos
        data.estado_desistidos = estado_desistidos
        data.anfitrion_desistidos = anfitrion_desistidos
        data.asesor_desistidos = asesor_desistidos
        data.sala_desistidos = sala_desistidos
        data.verificado_desistidos = verificado_desistidos
        data.marca_desistidos = marca_desistidos
        data.modelo_desistidos = modelo_desistidos
        data.desde_desistidos = desde_desistidos
        data.hasta_desistidos = hasta_desistidos

        data = {}
        data.pages_desistidos = pagina
        console.log("hola")
        console.log(data)
        $.ajax({
            type: "post", // "post" "get" "delete" "put"
            data: data, // PREFERIBLEMENTE JSON
            cache: false,
            headers: {
              "X-CSRFToken": Cookies.get("csrftoken")
            },
            success: function (response) {
                $('#tableDesistidas > tbody').empty();
                max_pag = (rango_pagina_desistidos * 5) + 1
                min_pag = (rango_pagina_desistidos * 5) - 4
                $(response).each(function (index, lead) {
                    var fecha_apertura = lead.fecha_apertura.substr(0,4)+"-"+lead.fecha_apertura.substr(5,2)+"-"+lead.fecha_apertura.substr(8,2);
                    var fila=`<tr><td><a href="{% url 'dashboards:detallenuevo' 1234 %}">Detalle</td>`.replace(/1234/, lead.id);
                        fila+=`<td>` + fecha_apertura + `</td>`;
                        fila+=`<td>` + lead.prospecto__nombre + `</td>`;
                        fila+=`<td>` + lead.prospecto__celular + `</td>`;
                        fila+=`<td>` + lead.sala + `</td>`;
                        fila+=`<td>` + lead.nombre_asesor + `</td>`;
                        fila+=`<td>` + lead.estado + `</td>`;
                        fila+=`<td>` + lead.respuesta + `</td>`;
                        fila+=`<td>null</td>`;
                        fila+=`<td>null</td>`;
                    $('#tableDesistidas > tbody').append(fila);
                })
                page = "#page" + pagina + "_desistidos"
                button = "#button" + pagina + "_desistidos"
                for (var i=min_pag; i < max_pag; i++){
                    remove_page = "#page" + i + "_desistidos"
                    $(remove_page).removeClass("active");

                }
                $(page).addClass("active");
                $(button).attr("onclick","cambiar_pagina_desistidos(1);");
                pagina_actual_desistidos = pagina;

                rango_pagina_desistidos = 1
                new_max_pag = (rango_pagina_desistidos * 5) + 1
                console.log("max_pag")
                console.log(max_pag)
                console.log(new_max_pag)
                $("#button_avanzar_desistidos").removeClass("disabled");
                $("#button_retrasar_desistidos").addClass("disabled");
                for (var i=0; i < 6; i++){
                    pagina_anterior = max_pag - i - 1
                    pagina_posterior = new_max_pag - i + 1
                    if (i == 0) {
                        page = "#page" + pagina_anterior + "_desistidos"
                        button = "#button" + pagina_anterior + "_desistidos"

                        $(page).attr("id","page" + cantidad_desistidos_pag + "_desistidos");
                        $(button).attr("onclick","cambiar_ultima_pagina_desistidos(" + cantidad_desistidos_pag + ");");
                        $(button).text("" + cantidad_desistidos_pag + "");
                        $(button).attr("id","button" + cantidad_desistidos_pag + "_desistidos");
                    }
                    else if (i == 1) {
                        page = "#page" + pagina_anterior + "_desistidos"
                        button = "#button" + pagina_anterior + "_desistidos"

                        $(page).attr("id","not_page2_desistidos");
                        $(button).attr("onclick","");
                        $(button).text("...");
                        $(button).attr("id","not_button2_desistidos");
                        $("#not_page2_desistidos").addClass("disabled");
                    }
                    else if (i == 5) {
                        page = "#not_page1_desistidos"
                        button = "#not_button1_desistidos"
                
                        $(page).attr("id","page2_desistidos");
                        $(button).attr("onclick","cambiar_pagina_desistidos(2);");
                        $(button).text("2");
                        $(button).attr("id","button2_desistidos");
                        $("#page2_desistidos").removeClass("disabled");
                    }
                    else {
                        page = "#page" + pagina_anterior + "_desistidos"
                        button = "#button" + pagina_anterior + "_desistidos"

                        console.log("pagina_anterior")
                        console.log(pagina_anterior)
                        console.log(pagina_posterior)
                
                        $(page).attr("id","page" + pagina_posterior + "_desistidos");
                        $(button).attr("onclick","cambiar_pagina_desistidos(" + pagina_posterior + ");");
                        $(button).text(pagina_posterior);
                        $(button).attr("id","button" + pagina_posterior + "_desistidos");
                        
                        if (pagina_posterior == pagina_actual_desistidos){
                            $("#page" + pagina_posterior + "_desistidos").addClass("active");
                        }
                    }
                }
              }
          })

    }






    var baseUrl = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
    


    $("#Capturados_OrigenIngreso").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Respuesta").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Estado").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Anfitrion").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Asesor").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Verificado").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Sala").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Marca").change(function () {
        getData(1, 10);
    });

    $("#Capturados_Modelo").change(function () {
        getData(1, 10);
    });

    function getData(number, size) {
        var fechaIni1 = $("#CapturaDesde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#CapturaHasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getCapturados2/?off=' + number + '&size=' + size
            + '&Origen=' + $("#Capturados_OrigenIngreso").val()
            + '&Respuesta=' + $("#Capturados_Respuesta").val()
            + '&Estado=' + $("#Capturados_Estado").val()
            + '&Anfitrion=' + $("#Capturados_Anfitrion").val()
            + '&Asesor=' + $("#Capturados_Asesor").val()
            + '&Verificado=' + $("#Capturados_Verificado").val()
            + '&Sala=' + $("#Capturados_Sala").val()
            + '&Marca=' + $("#Capturados_Marca").val()
            + '&Modelo=' + $("#Capturados_Modelo").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#Capturados_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableCap.bootstrapTable('load', res)
            })
    }

    $("#SF_Sala").change(function () {
        getDataSF(1, 10);
    });

    $("#SF_Asesor").change(function () {
        getDataSF(1, 10);
    });

    $("#SF_Estado").change(function () {
        getDataSF(1, 10);
    });

    $("#SF_SF").change(function () {
        getDataSF(1, 10);
    });

    $("#SF_Marca").change(function () {
        getDataSF(1, 10);
    });

    $("#SF_Modelo").change(function () {
        getDataSF(1, 10);
    });

    function getDataSF(number, size) {
        var fechaIni1 = $("#SFDesde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#SFHasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getSF2/?off=' + number + '&size=' + size
            + '&Sala=' + $("#SF_Sala").val()
            + '&Asesor=' + $("#SF_Asesor").val()
            + '&Estado=' + $("#SF_Estado").val()
            + '&SF=' + $("#SF_SF").val()
            + '&Marca=' + $("#SF_Marca").val()
            + '&Modelo=' + $("#SF_Modelo").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#SF_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableSF.bootstrapTable('load', res)
            })
    }

    $("#Desistida_Sala").change(function () {
        getDataDes(1, 10);
    });

    $("#Desistida_Asesor").change(function () {
        getDataDes(1, 10);
    });

    $("#Desistida_Estado").change(function () {
        getDataDes(1, 10);
    });

    $("#Desistida_Respuesta").change(function () {
        getDataDes(1, 10);
    });

    $("#Desistida_Marca").change(function () {
        getDataDes(1, 10);
    });

    $("#Desistida_Modelo").change(function () {
        getDataDes(1, 10);
    });

    function getDataDes(number, size) {
        var fechaIni1 = $("#DesistidaDesde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#DesistidaHasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getDesistidas2/?off=' + number + '&size=' + size
            + '&Sala=' + $("#Desistida_Sala").val()
            + '&Asesor=' + $("#Desistida_Asesor").val()
            + '&Estado=' + $("#Desistida_Estado").val()
            + '&Respuesta=' + $("#Desistida_Respuesta").val()
            + '&Marca=' + $("#Desistida_Marca").val()
            + '&Modelo=' + $("#Desistida_Modelo").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#Desistida_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableDes.bootstrapTable('load', res)
            })
    }

    $("#Concretada_Sala").change(function () {
        getDataCon(1, 10);
    });

    $("#Concretada_Asesor").change(function () {
        getDataCon(1, 10);
    });

    $("#Concretada_Estado").change(function () {
        getDataCon(1, 10);
    });

    $("#Concretada_Respuesta").change(function () {
        getDataCon(1, 10);
    });

    function getDataCon(number, size) {
        var fechaIni1 = $("#ConcretadaDesde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#ConcretadaHasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getConcretadas2/?off=' + number + '&size=' + size
            + '&Sala=' + $("#Concretada_Sala").val()
            + '&Asesor=' + $("#Concretada_Asesor").val()
            + '&Estado=' + $("#Concretada_Estado").val()
            + '&Respuesta=' + $("#Concretada_Respuesta").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#Concretada_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableCon.bootstrapTable('load', res)
            })
    }

    $("#Historial_Sala").change(function () {
        getDataHis(1, 10);
    });

    $("#Historial_Asesor").change(function () {
        getDataHis(1, 10);
    });

    $("#Historial_Estado").change(function () {
        getDataHis(1, 10);
    });

    $("#Historial_Respuesta").change(function () {
        getDataHis(1, 10);
    });

    function getDataHis(number, size) {
        var fechaIni1 = $("#HistorialDesde").val();
        var fechaIni = '';
        if (fechaIni1 != '' && fechaIni1 != null) {
            var fechaIniS = fechaIni1.split("/");
            fechaIni = fechaIniS[2] + '-' + fechaIniS[1] + '-' + fechaIniS[0];
        }

        var fechaFin1 = $("#HistorialHasta").val();
        var fechaFin = '';
        if (fechaFin1 != '' && fechaFin1 != null) {
            var fechaFinS = fechaFin1.split("/");
            fechaFin = fechaFinS[2] + '-' + fechaFinS[1] + '-' + fechaFinS[0];
        }

        $.get(baseUrl + '/Leads/getHistorialAsesor2/?off=' + number + '&size=' + size
            + '&Sala=' + $("#Historial_Sala").val()
            + '&Asesor=' + $("#Historial_Asesor").val()
            + '&Estado=' + $("#Historial_Estado").val()
            + '&Respuesta=' + $("#Historial_Respuesta").val()
            + '&FechaIni=' + fechaIni
            + '&FechaFin=' + fechaFin
            + '&Cadena=' + $("#Historial_Cadena").val()
            , {
                offset: (number - 1) * size,
                limit: size
            }, function (res) {
                $tableHis.bootstrapTable('load', res)
            })
    }


    $(function () {
        $tableCap.on('page-change.bs.table', function (e, number, size) {
            getData(number, size)
        })
        var options = $tableCap.bootstrapTable('getOptions')
        getData(options.pageNumber, options.pageSize)
    })

    $(function () {
        $tableSF.on('page-change.bs.table', function (e, number, size) {
            getDataSF(number, size)
        })
        var options = $tableSF.bootstrapTable('getOptions')
        getDataSF(options.pageNumber, options.pageSize)
    })

    $(function () {
        $tableDes.on('page-change.bs.table', function (e, number, size) {
            getDataDes(number, size)
        })
        var options = $tableDes.bootstrapTable('getOptions')
        getDataDes(options.pageNumber, options.pageSize)
    })

    $(function () {
        $tableCon.on('page-change.bs.table', function (e, number, size) {
            getDataCon(number, size)
        })
        var options = $tableCon.bootstrapTable('getOptions')
        getDataCon(options.pageNumber, options.pageSize)
    })

    $(function () {
        $tableHis.on('page-change.bs.table', function (e, number, size) {
            getDataHis(number, size)
        })
        var options = $tableHis.bootstrapTable('getOptions')
        getDataHis(options.pageNumber, options.pageSize)
    })
</script>
<script>

    function BorrarLead(idLead) {
        var data = {
            "IdLead": idLead,
        };
        var baseUrl = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
        swal({
            title: "¡Atención! Esta información no podra ser recuperada.",
            text: "Esta información no podra ser recuperada.",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "¡Eliminar!",
            closeOnConfirm: false
        },
            function () {
                $.ajax({
                    type: "POST",
                    url: baseUrl + "/Leads/EliminarLead",
                    data: data,
                    cache: false,
                    success: function (response) {
                        swal({
                            title: "OK!",
                            text: "Toda la información del prospecto ha sido eliminada.",
                            type: "success",
                            showCancelButton: true,
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "OK!",
                            closeOnConfirm: false
                        },
                            function () {
                                //swal("OK!", "Toda la información del prospecto ha sido eliminada.", "success");
                                location.reload();
                            });
                    },
                    error: function (response) {
                        swal("Oh no!", "Tuvimos un problema, por favor intente de nuevo.", "warning");
                    }
                });
            });
    }

    function exportCapturados(params) {
        var options = $('#tableCapturados').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function exportSF(params) {
        var options = $('#tableSF').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function exportDesistidas(params) {
        var options = $('#tableDesistidas').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function exportConcretadas(params) {
        var options = $('#tableConcretadas').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function exportHistorial(params) {
        var options = $('#tableHistorial').bootstrapTable('getOptions')
        if (!options.pagination) {
            params.limit = options.totalRows
        }
        return params
    }

    function FiltrarCapturados() {
        //var ini=$('#CapturaDesde').val();
        //var fin = $('#CapturaHasta').val();

        //var results = rango(ini, fin);
        ////console.log("Capturadas:");
        ////console.log(results);
        //var array = new Array(results);
        //$('#tableCapturados').bootstrapTable('filterBy', {
        //    FechaIngreso: results
        //})
        getData(1, 10);
    }

    function FiltrarSF() {
        //var ini = $('#SFDesde').val();
        //var fin = $('#SFHasta').val();

        //var results = rango(ini, fin);
        ////console.log("SF:");
        ////console.log(results);
        //var array = new Array(results);
        //$('#tableSF').bootstrapTable('filterBy', {
        //    FechaIngreso: results
        //})
        getDataSF(1, 10);
    }

    function FiltrarDesistidas() {
        //var ini = $('#DesistidaDesde').val();
        //var fin = $('#DesistidaHasta').val();

        //var results = rango(ini, fin);
        ////console.log("Desistidas:");
        ////console.log(results);
        //var array = new Array(results);
        //$('#tableDesistidas').bootstrapTable('filterBy', {
        //    FechaIngreso: results
        //})
        getDataDes(1, 10);
    }

    function FiltrarConcretadas() {
        //var ini = $('#ConcretadaDesde').val();
        //var fin = $('#ConcretadaHasta').val();

        //var results = rango(ini, fin);
        ////console.log("Concretadas:");
        ////console.log(results);
        //var array = new Array(results);

        //$('#tableConcretadas').bootstrapTable('filterBy', {
        //    FechaCierre: results
        //})
        getDataCon(1, 10);
    }

    function FiltrarHistorial() {
        //var ini = $('#HistorialDesde').val();
        //var fin = $('#HistorialHasta').val();

        //var results = rango(ini, fin);
        ////console.log("Historial:");
        ////console.log(results);
        //var array = new Array(results);
        //$('#tableHistorial').bootstrapTable('filterBy', {
        //    FechaIngreso: results
        //})
        getDataHis(1, 10);
    }

    function rango(ini, fin) {
        var splitIni = ini.split('/');
        var fInicio = splitIni[1] + '/' + splitIni[0] + '/' + splitIni[2];

        var splitFin = fin.split('/');
        var fFin = splitFin[1] + '/' + splitFin[0] + '/' + splitFin[2];

        var fechaInicio = new Date(fInicio);
        var fechaFin = new Date(fFin);
        var fechas = [];

        while (fechaFin.getTime() >= fechaInicio.getTime()) {
            var dia = fechaInicio.getDate();
            var mes = (fechaInicio.getMonth() + 1);

            var d;
            var m;
            if (dia < 10) { d = "0" + dia; }
            else { d = dia; }

            if (mes < 10) { m = "0" + mes; }
            else { m = mes; }
            fechas.push(d + '/' + m + '/' + fechaInicio.getFullYear());
            fechaInicio.setDate(fechaInicio.getDate() + 1);
        }

        console.log(fechas)
        //var arreglo = fechas.join(',')
        //arreglo = "[" + arreglo + "]"
        //console.log(arreglo);
        return fechas;
    }
</script>



        <hr />
        <footer>
            <p>&copy; 2023 - Capital Network</p>
        </footer>
    </div>

    
    
    <script src="/bundles/jqueryval?v=hEGG8cMxk9p0ncdRUOJ-CnKN7NezhnPnWIvn6REucZo1"></script>


</body>
</html>
